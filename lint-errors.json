[{"filePath":"C:\\New folder\\BusTicketFrontEnd\\src\\App.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\New folder\\BusTicketFrontEnd\\src\\components\\ErrorBoundary.jsx","messages":[{"ruleId":null,"fatal":true,"severity":2,"message":"Parsing error: Unexpected token =","line":33,"column":17,"nodeType":null}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":1,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from 'react';\r\n\r\n/**\r\n * Error Boundary Component\r\n * Catches JavaScript errors anywhere in the child component tree\r\n */\r\nclass ErrorBoundary extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            hasError: false,\r\n            error: null,\r\n            errorInfo: null\r\n        };\r\n    }\r\n\r\n    static getDerivedStateFromError(error) {\r\n        // Update state so the next render will show the fallback UI\r\n        return { hasError: true, error };\r\n    }\r\n\r\n    componentDidCatch(error, errorInfo) {\r\n        // Log error to console\r\n        console.error('Error caught by ErrorBoundary:', error, errorInfo);\r\n\r\n        // Store error info for display\r\n        this.setState({ errorInfo });\r\n\r\n        // TODO: Send error to error tracking service (e.g., Sentry)\r\n        // logErrorToService(error, errorInfo);\r\n    }\r\n\r\n    handleReset = () => {\r\n        this.setState({\r\n            hasError: false,\r\n            error: null,\r\n            errorInfo: null\r\n        });\r\n    };\r\n\r\n    render() {\r\n        if (this.state.hasError) {\r\n            // Custom fallback UI\r\n            return (\r\n                <div className=\"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-50 to-gray-100 p-4\">\r\n                    <div className=\"max-w-md w-full bg-white rounded-2xl shadow-xl p-8 text-center\">\r\n                        {/* Error Icon */}\r\n                        <div className=\"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4\">\r\n                            <svg className=\"w-8 h-8 text-red-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\" />\r\n                            </svg>\r\n                        </div>\r\n\r\n                        {/* Error Title */}\r\n                        <h1 className=\"text-2xl font-bold text-gray-900 mb-2\">\r\n                            Oops! Something went wrong\r\n                        </h1>\r\n\r\n                        {/* Error Message */}\r\n                        <p className=\"text-gray-600 mb-6\">\r\n                            We&apos;re sorry for the inconvenience. An unexpected error occurred.\r\n                        </p>\r\n\r\n                        {/* Error Details (Development Only) */}\r\n                        {process.env.NODE_ENV === 'development' && this.state.error && (\r\n                            <div className=\"mb-6 p-4 bg-red-50 rounded-lg text-left\">\r\n                                <p className=\"text-sm font-mono text-red-800 break-all\">\r\n                                    {this.state.error.toString()}\r\n                                </p>\r\n                            </div>\r\n                        )}\r\n\r\n                        {/* Action Buttons */}\r\n                        <div className=\"flex gap-3\">\r\n                            <button\r\n                                onClick={this.handleReset}\r\n                                className=\"flex-1 px-4 py-2 bg-indigo-600 text-white rounded-lg font-semibold hover:bg-indigo-700 transition-colors\"\r\n                            >\r\n                                Try Again\r\n                            </button>\r\n                            <button\r\n                                onClick={() => window.location.href = '/'}\r\n                                className=\"flex-1 px-4 py-2 bg-gray-200 text-gray-800 rounded-lg font-semibold hover:bg-gray-300 transition-colors\"\r\n                            >\r\n                                Go Home\r\n                            </button>\r\n                        </div>\r\n\r\n                        {/* Support Link */}\r\n                        <p className=\"mt-6 text-sm text-gray-500\">\r\n                            If the problem persists, please{' '}\r\n                            <a href=\"/contact\" className=\"text-indigo-600 hover:text-indigo-700 font-medium\">\r\n                                contact support\r\n                            </a>\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n\r\n        return this.props.children;\r\n    }\r\n}\r\n\r\nexport default ErrorBoundary;\r\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\New folder\\BusTicketFrontEnd\\src\\components\\Footer.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\New folder\\BusTicketFrontEnd\\src\\components\\HotelSearchComponent.jsx","messages":[{"ruleId":"no-unused-vars","severity":1,"message":"'navigate' is assigned a value but never used.","line":10,"column":11,"nodeType":"Identifier","messageId":"unusedVar","endLine":10,"endColumn":19},{"ruleId":"no-unused-vars","severity":1,"message":"'location' is assigned a value but never used.","line":11,"column":11,"nodeType":"Identifier","messageId":"unusedVar","endLine":11,"endColumn":19}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState } from \"react\";\r\nimport { useNavigate, useLocation } from \"react-router-dom\";\r\nimport { toast } from \"react-toastify\";\r\n\r\n// Actually, I should probably check if hotel.svg exists or use a different icon. \r\n// For now, I'll use a placeholder SVG in the code if I can't find one, or just reuse the structure.\r\n// I'll use an inline SVG for the icon to be safe.\r\n\r\nconst HotelSearchComponent = () => {\r\n    const navigate = useNavigate();\r\n    const location = useLocation();\r\n\r\n    const [city, setCity] = useState(\"\");\r\n    const [checkInDate, setCheckInDate] = useState(\"\");\r\n    const [checkOutDate, setCheckOutDate] = useState(\"\");\r\n    const [guests, setGuests] = useState(1);\r\n    const [isSearching, setIsSearching] = useState(false);\r\n\r\n    const today = new Date().toISOString().split(\"T\")[0];\r\n\r\n    const handleSearch = (e) => {\r\n        e.preventDefault();\r\n\r\n        if (!city || !checkInDate || !checkOutDate) {\r\n            toast.error(\"Please fill in all fields.\");\r\n            return;\r\n        }\r\n\r\n        setIsSearching(true);\r\n\r\n        // Simulate API call or navigation\r\n        setTimeout(() => {\r\n            setIsSearching(false);\r\n            toast.info(\"Hotel search feature coming soon!\");\r\n            // Here we would navigate to a hotel list page\r\n            // navigate(\"/hotels\", { state: { city, checkInDate, checkOutDate, guests } });\r\n        }, 1000);\r\n    };\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-gradient-to-br from-indigo-600 to-purple-800 flex items-center justify-center p-4\">\r\n            <div className=\"max-w-4xl w-full bg-white rounded-2xl shadow-2xl flex flex-col md:flex-row overflow-hidden transform transition-all duration-500 hover:scale-102\">\r\n\r\n                {/* Left Side Image/Icon */}\r\n                <div className=\"md:w-1/2 p-8 flex items-center justify-center bg-indigo-50\">\r\n                    <svg className=\"w-full h-64 text-indigo-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={1} d=\"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4\" />\r\n                    </svg>\r\n                </div>\r\n\r\n                {/* Right Side Form */}\r\n                <div className=\"md:w-1/2 p-8 space-y-6\">\r\n                    <h1 className=\"text-4xl font-bold text-gray-800 mb-6 text-center animate-pulse\">\r\n                        Find Your Stay\r\n                    </h1>\r\n\r\n                    <div className=\"space-y-4\">\r\n\r\n                        {/* City */}\r\n                        <div>\r\n                            <label className=\"block text-sm font-medium text-gray-700 mb-2\">City / Location</label>\r\n                            <input\r\n                                type=\"text\"\r\n                                value={city}\r\n                                onChange={(e) => setCity(e.target.value)}\r\n                                placeholder=\"Where are you going?\"\r\n                                className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all\"\r\n                            />\r\n                        </div>\r\n\r\n                        {/* Dates */}\r\n                        <div className=\"flex space-x-4\">\r\n                            <div className=\"w-1/2\">\r\n                                <label className=\"block text-sm font-medium text-gray-700 mb-2\">Check-in</label>\r\n                                <input\r\n                                    type=\"date\"\r\n                                    value={checkInDate}\r\n                                    onChange={(e) => setCheckInDate(e.target.value)}\r\n                                    min={today}\r\n                                    className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all\"\r\n                                />\r\n                            </div>\r\n                            <div className=\"w-1/2\">\r\n                                <label className=\"block text-sm font-medium text-gray-700 mb-2\">Check-out</label>\r\n                                <input\r\n                                    type=\"date\"\r\n                                    value={checkOutDate}\r\n                                    onChange={(e) => setCheckOutDate(e.target.value)}\r\n                                    min={checkInDate || today}\r\n                                    className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all\"\r\n                                />\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Guests */}\r\n                        <div>\r\n                            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Guests</label>\r\n                            <select\r\n                                value={guests}\r\n                                onChange={(e) => setGuests(e.target.value)}\r\n                                className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all\"\r\n                            >\r\n                                {[1, 2, 3, 4, 5, 6].map(num => (\r\n                                    <option key={num} value={num}>{num} Guest{num > 1 ? 's' : ''}</option>\r\n                                ))}\r\n                            </select>\r\n                        </div>\r\n\r\n                        {/* Search Button */}\r\n                        <button\r\n                            onClick={handleSearch}\r\n                            disabled={isSearching}\r\n                            className=\"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-3 px-6 rounded-lg transition-all duration-300 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                        >\r\n                            {isSearching ? 'Searching...' : 'Search Hotels'}\r\n                        </button>\r\n\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default HotelSearchComponent;\r\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\New folder\\BusTicketFrontEnd\\src\\components\\ImageSearchComponent.jsx","messages":[{"ruleId":"no-unused-vars","severity":1,"message":"'toast' is defined but never used.","line":6,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":6,"endColumn":15},{"ruleId":"no-unused-vars","severity":1,"message":"'location' is assigned a value but never used.","line":13,"column":9,"nodeType":"Identifier","messageId":"unusedVar","endLine":13,"endColumn":17},{"ruleId":"no-unused-vars","severity":1,"message":"'setIsSearching' is assigned a value but never used.","line":20,"column":23,"nodeType":"Identifier","messageId":"unusedVar","endLine":20,"endColumn":37}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\r\nimport React from \"react\";\r\nimport { useContext, useEffect, useState } from \"react\";\r\nimport busIcon from \"../assets/bus.svg\";\r\nimport { useNavigate, useLocation } from \"react-router-dom\";\r\nimport { toast } from \"react-toastify\";\r\nimport BusListContext from \"../context/busdetails\";\r\nimport ApiService from \"../services/api.service\";\r\nimport API_CONFIG from \"../config/api\";\r\n\r\nconst ImageSearchComponent = () => {\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n  const { setBusList } = useContext(BusListContext);\r\n\r\n  const [source, setSource] = useState(\"\");\r\n  const [destination, setDestination] = useState(\"\");\r\n  const [date, setDate] = useState(\"\");\r\n  const [busStops, setBusStops] = useState([]);\r\n  const [isSearching, setIsSearching] = useState(false);\r\n  const [fetchError, setFetchError] = useState(\"\");\r\n\r\n  const today = new Date().toISOString().split(\"T\")[0];\r\n\r\n  const handleSearch = async (e) => {\r\n    if (e && e.preventDefault) e.preventDefault();\r\n\r\n    setFetchError(\"\");\r\n\r\n    // basic validation\r\n    if (!source || !destination || !date) {\r\n      setFetchError(\"Please select source, destination and date.\");\r\n      return;\r\n    }\r\n\r\n    if (source === destination) {\r\n      setFetchError(\"Source and destination cannot be the same.\");\r\n      return;\r\n    }\r\n\r\n    // Save search details for persistence\r\n    localStorage.setItem(\"searchDetails\", JSON.stringify({ source, destination, date }));\r\n\r\n    // Clear previous bus list context to force fresh fetch in BusList\r\n    setBusList([]);\r\n\r\n    // Navigate to bus list with search params\r\n    navigate(\"/buslist\", {\r\n      state: { source, destination, date }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    const getBusStops = async () => {\r\n      try {\r\n        const response = await ApiService.get(`${API_CONFIG.ENDPOINTS.GET_BUS_STOPS}`);\r\n\r\n        if (response.ok) {\r\n          const data = await response.json();\r\n          setBusStops(data);\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Failed to fetch bus stops:\", error);\r\n      }\r\n    };\r\n    getBusStops();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-cyan-600 to-blue-800 flex items-center justify-center p-4\">\r\n      <div className=\"max-w-4xl w-full bg-white rounded-2xl shadow-2xl flex flex-col md:flex-row overflow-hidden transform transition-all duration-500 hover:scale-102\">\r\n\r\n        {/* Left Side Image */}\r\n        <div className=\"md:w-1/2 p-8 flex items-center justify-center bg-blue-50\">\r\n          <img\r\n            src={busIcon}\r\n            alt=\"Bus travel\"\r\n            className=\"rounded-lg shadow-md w-full h-64 object-contain transform transition-all duration-500 hover:scale-105\"\r\n          />\r\n        </div>\r\n\r\n        {/* Right Side Form */}\r\n        <div className=\"md:w-1/2 p-8 space-y-6\">\r\n          <h1 className=\"text-4xl font-bold text-gray-800 mb-6 text-center animate-pulse\">\r\n            Find Your Bus\r\n          </h1>\r\n\r\n          <div className=\"space-y-4\">\r\n\r\n            {/* From City */}\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">From</label>\r\n              <select\r\n                onChange={(e) => setSource(e.target.value)}\r\n                className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all\"\r\n                value={source}\r\n              >\r\n                <option value=\"\">Select source city</option>\r\n                {busStops.map((city) => (\r\n                  <option key={city.name} value={city.name}>\r\n                    {city.name}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n\r\n            {/* To City */}\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">To</label>\r\n              <select\r\n                onChange={(e) => setDestination(e.target.value)}\r\n                className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all\"\r\n                value={destination}\r\n              >\r\n                <option value=\"\">Select destination city</option>\r\n                {busStops.map((city) => (\r\n                  <option key={city.name} value={city.name}>\r\n                    {city.name}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n\r\n            {/* Date */}\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">Travel Date</label>\r\n              <input\r\n                type=\"date\"\r\n                value={date}\r\n                onChange={(e) => setDate(e.target.value)}\r\n                min={today}\r\n                className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all\"\r\n              />\r\n            </div>\r\n\r\n            {/* Search Button */}\r\n            {fetchError && (\r\n              <div className=\"text-sm text-red-600 mb-2\" role=\"alert\">{fetchError}</div>\r\n            )}\r\n            <button\r\n              onClick={handleSearch}\r\n              disabled={!source || !destination || !date || isSearching}\r\n              className=\"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-6 rounded-lg transition-all duration-300 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n            >\r\n              {isSearching ? 'Searching...' : 'Search Buses'}\r\n            </button>\r\n\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ImageSearchComponent;\r\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\New folder\\BusTicketFrontEnd\\src\\components\\LoadingFallback.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\New folder\\BusTicketFrontEnd\\src\\components\\MainLayout.jsx","messages":[{"ruleId":"react/prop-types","severity":1,"message":"'children' is missing in props validation","line":5,"column":23,"nodeType":"Property","messageId":"missingPropType","endLine":5,"endColumn":31}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from 'react';\r\nimport NavigationBar from './Navbar';\r\nimport Footer from './Footer';\r\n\r\nconst MainLayout = ({ children }) => {\r\n    return (\r\n        <div className=\"min-h-screen flex flex-col bg-slate-50\">\r\n            <NavigationBar />\r\n            <main className=\"flex-grow pt-16\">\r\n                {children}\r\n            </main>\r\n            <Footer />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default MainLayout;\r\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\New folder\\BusTicketFrontEnd\\src\\components\\MovieSearchComponent.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\New folder\\BusTicketFrontEnd\\src\\components\\Navbar.jsx","messages":[{"ruleId":null,"fatal":true,"severity":2,"message":"Parsing error: Unexpected token `>`. Did you mean `&gt;` or `{\">\"}`?","line":104,"column":13,"nodeType":null}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":1,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect } from \"react\";\r\nimport { useLocation, useNavigate, Link } from \"react-router-dom\";\r\n\r\nconst NavigationBar = () => {\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n  const pageUrl = location.pathname || \"/\";\r\n  const token = localStorage.getItem(\"token\");\r\n  const [menuOpen, setMenuOpen] = useState(false);\r\n  const [scrolled, setScrolled] = useState(false);\r\n\r\n  const isAdminPath = pageUrl.startsWith(\"/admin\");\r\n\r\n  useEffect(() => {\r\n    const handleScroll = () => {\r\n      setScrolled(window.scrollY > 20);\r\n    };\r\n    window.addEventListener('scroll', handleScroll);\r\n    return () => window.removeEventListener('scroll', handleScroll);\r\n  }, []);\r\n\r\n  function handleLogout() {\r\n    localStorage.removeItem(\"token\");\r\n    setMenuOpen(false);\r\n    navigate(\"/\");\r\n  }\r\n\r\n  const navClasses = `fixed w-full top-0 left-0 z-50 transition-all duration-300 ${scrolled || menuOpen ? 'bg-white/90 backdrop-blur-md shadow-sm py-2' : 'bg-transparent py-4'\r\n    }`;\r\n\r\n  const linkClasses = (isActive) => `\r\n    font-medium transition-colors duration-200 \r\n    ${scrolled || menuOpen ? (isActive ? 'text-indigo-600' : 'text-slate-600 hover:text-indigo-600') : (isActive ? 'text-white' : 'text-white/90 hover:text-white')}\r\n  `;\r\n\r\n  const logoClasses = scrolled || menuOpen ? 'text-indigo-600' : 'text-white';\r\n  const logoBgClasses = scrolled || menuOpen ? 'bg-indigo-600 text-white' : 'bg-white text-indigo-600';\r\n\r\n  return (\r\n    <nav className={navClasses}>\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n        <div className=\"flex justify-between items-center\">\r\n          <Link to=\"/\" className=\"flex items-center gap-2 group\">\r\n            <div className={`w-10 h-10 rounded-xl flex items-center justify-center shadow-sm transition-colors ${logoBgClasses}`}>\r\n              <span className=\"font-bold text-lg\">TK</span>\r\n            </div>\r\n            <span className={`text-xl font-bold tracking-tight transition-colors ${logoClasses}`}>\r\n              TicketKatum\r\n            </span>\r\n          </Link>\r\n\r\n          {/* Desktop Menu */}\r\n          <div className=\"hidden md:flex items-center gap-8\">\r\n            <Link to=\"/\" className={linkClasses(pageUrl === \"/\")}>Home</Link>\r\n            <Link to=\"/buslist\" className={linkClasses(pageUrl === \"/buslist\")}>Book Tickets</Link>\r\n\r\n            {!isAdminPath && !token && (\r\n              <Link\r\n                to=\"/login\"\r\n                className={`px-5 py-2.5 rounded-lg font-semibold transition-all shadow-sm hover:shadow-md\r\n                  ${scrolled ? 'bg-indigo-600 text-white hover:bg-indigo-700' : 'bg-white text-indigo-600 hover:bg-indigo-50'}\r\n                `}\r\n              >\r\n                Sign In\r\n              </Link>\r\n            )}\r\n\r\n            {isAdminPath && token && (\r\n              <button\r\n                onClick={handleLogout}\r\n                className=\"px-5 py-2.5 bg-red-500 text-white rounded-lg font-semibold hover:bg-red-600 transition-all shadow-sm hover:shadow-md\"\r\n              >\r\n                Logout\r\n              </button>\r\n            )}\r\n          </div>\r\n\r\n          {/* Mobile Toggle */}\r\n          <button\r\n            onClick={() => setMenuOpen(!menuOpen)}\r\n            className={`md:hidden p-2 rounded-lg transition-colors ${scrolled || menuOpen ? 'text-slate-600 hover:bg-slate-100' : 'text-white hover:bg-white/10'}`}\r\n          >\r\n            <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              {menuOpen ? (\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n              ) : (\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 6h16M4 12h16M4 18h16\" />\r\n              )}\r\n            </svg>\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Mobile Menu */}\r\n      <div className={`md:hidden absolute top-full left-0 w-full bg-white border-t border-slate-100 shadow-lg transition-all duration-300 origin-top ${menuOpen ? 'opacity-100 scale-y-100' : 'opacity-0 scale-y-0 pointer-events-none'}`}>\r\n        <div className=\"p-4 space-y-3\">\r\n          <Link\r\n            to=\"/\"\r\n            onClick={() => setMenuOpen(false)}\r\n            className={`block px-4 py-3 rounded-lg font-medium ${pageUrl === '/' ? 'bg-indigo-50 text-indigo-600' : 'text-slate-600 hover:bg-slate-50'}`}\r\n          >\r\n            Home\r\n            className=\"block px-4 py-3 rounded-lg font-medium text-indigo-600 hover:bg-indigo-50\"\r\n            >\r\n            Sign In\r\n          </Link>\r\n          )}\r\n\r\n          {isAdminPath && token && (\r\n            <button\r\n              onClick={handleLogout}\r\n              className=\"w-full text-left px-4 py-3 rounded-lg font-medium text-red-600 hover:bg-red-50\"\r\n            >\r\n              Logout\r\n            </button>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default NavigationBar;","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\New folder\\BusTicketFrontEnd\\src\\components\\PlaneDetail.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\New folder\\BusTicketFrontEnd\\src\\components\\PlaneSearchComponent.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\New folder\\BusTicketFrontEnd\\src\\components\\ProtectedRoute.jsx","messages":[{"ruleId":"react/prop-types","severity":1,"message":"'children' is missing in props validation","line":11,"column":34,"nodeType":"Property","messageId":"missingPropType","endLine":11,"endColumn":42},{"ruleId":"react/prop-types","severity":1,"message":"'allowedRoles' is missing in props validation","line":11,"column":44,"nodeType":"Property","messageId":"missingPropType","endLine":11,"endColumn":61},{"ruleId":"react/prop-types","severity":1,"message":"'redirectTo' is missing in props validation","line":11,"column":63,"nodeType":"Property","messageId":"missingPropType","endLine":11,"endColumn":80},{"ruleId":"no-unused-vars","severity":1,"message":"'userRole' is assigned a value but never used.","line":14,"column":11,"nodeType":"Identifier","messageId":"unusedVar","endLine":14,"endColumn":19}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from 'react';\r\nimport { Navigate, useLocation } from 'react-router-dom';\r\nimport authService from '../services/authService';\r\n\r\n/**\r\n * Protected Route Component - Role-based route protection\r\n * @param {React.Component} children - Child components to render if authorized\r\n * @param {string[]} allowedRoles - Array of roles allowed to access this route\r\n * @param {string} redirectTo - Path to redirect unauthorized users (optional)\r\n */\r\nexport function ProtectedRoute({ children, allowedRoles = [], redirectTo = null }) {\r\n    const location = useLocation();\r\n    const isAuthenticated = authService.isAuthenticated();\r\n    const userRole = authService.getRole();\r\n\r\n    // Not authenticated - redirect to login\r\n    if (!isAuthenticated) {\r\n        // Determine which login page based on current path\r\n        let loginPath = '/';\r\n        if (location.pathname.startsWith('/admin')) {\r\n            loginPath = '/admin/login';\r\n        } else if (location.pathname.startsWith('/super-admin')) {\r\n            loginPath = '/super-admin/login';\r\n        }\r\n\r\n        return <Navigate to={loginPath} state={{ from: location }} replace />;\r\n    }\r\n\r\n    // Authenticated but no role restrictions - allow access\r\n    if (allowedRoles.length === 0) {\r\n        return children;\r\n    }\r\n\r\n    // Check if user has required role\r\n    const hasAccess = authService.hasRole(allowedRoles);\r\n\r\n    if (!hasAccess) {\r\n        // User doesn't have required role - redirect\r\n        const defaultRedirect = redirectTo || authService.getDefaultRedirect();\r\n        return <Navigate to={defaultRedirect} replace />;\r\n    }\r\n\r\n    // User has required role - render children\r\n    return children;\r\n}\r\n\r\nexport default ProtectedRoute;\r\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\New folder\\BusTicketFrontEnd\\src\\components\\SeatIcon.jsx","messages":[{"ruleId":"react/prop-types","severity":1,"message":"'status' is missing in props validation","line":3,"column":28,"nodeType":"Property","messageId":"missingPropType","endLine":3,"endColumn":34},{"ruleId":"react/prop-types","severity":1,"message":"'seatNumber' is missing in props validation","line":3,"column":36,"nodeType":"Property","messageId":"missingPropType","endLine":3,"endColumn":46},{"ruleId":"react/prop-types","severity":1,"message":"'price' is missing in props validation","line":3,"column":48,"nodeType":"Property","messageId":"missingPropType","endLine":3,"endColumn":53},{"ruleId":"react/prop-types","severity":1,"message":"'onClick' is missing in props validation","line":3,"column":55,"nodeType":"Property","messageId":"missingPropType","endLine":3,"endColumn":62},{"ruleId":"react/prop-types","severity":1,"message":"'className' is missing in props validation","line":3,"column":64,"nodeType":"Property","messageId":"missingPropType","endLine":3,"endColumn":73}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from 'react';\r\n\r\nexport const SeatIcon = ({ status, seatNumber, price, onClick, className }) => {\r\n    // Colors based on status\r\n    const getColors = () => {\r\n        switch (status) {\r\n            case 'booked':\r\n                return {\r\n                    fill: '#e2e8f0', // slate-200\r\n                    stroke: '#cbd5e1', // slate-300\r\n                    text: '#94a3b8', // slate-400\r\n                    cursor: 'cursor-not-allowed'\r\n                };\r\n            case 'selected':\r\n                return {\r\n                    fill: '#4f46e5', // indigo-600\r\n                    stroke: '#4338ca', // indigo-700\r\n                    text: '#ffffff', // white\r\n                    cursor: 'cursor-pointer'\r\n                };\r\n            case 'available':\r\n            default:\r\n                return {\r\n                    fill: '#ffffff', // white\r\n                    stroke: '#cbd5e1', // slate-300\r\n                    text: '#475569', // slate-600\r\n                    cursor: 'cursor-pointer hover:fill-indigo-50 hover:stroke-indigo-400'\r\n                };\r\n        }\r\n    };\r\n\r\n    const colors = getColors();\r\n\r\n    return (\r\n        <div\r\n            onClick={onClick}\r\n            className={`relative flex flex-col items-center justify-center group ${colors.cursor} ${className || ''}`}\r\n            title={status === 'booked' ? 'Booked' : `Seat ${seatNumber}`}\r\n        >\r\n            <svg\r\n                viewBox=\"0 0 100 100\"\r\n                className={`w-full h-full transition-all duration-200 ${status === 'available' ? 'group-hover:drop-shadow-md' : ''}`}\r\n            >\r\n                {/* Backrest */}\r\n                <path\r\n                    d=\"M20 15 C20 8, 80 8, 80 15 L80 65 L20 65 Z\"\r\n                    fill={colors.fill}\r\n                    stroke={colors.stroke}\r\n                    strokeWidth=\"3\"\r\n                    className=\"transition-colors duration-200\"\r\n                />\r\n\r\n                {/* Seat Cushion */}\r\n                <path\r\n                    d=\"M15 60 C15 60, 85 60, 85 60 C90 60, 90 85, 85 85 L15 85 C10 85, 10 60, 15 60 Z\"\r\n                    fill={colors.fill}\r\n                    stroke={colors.stroke}\r\n                    strokeWidth=\"3\"\r\n                    className=\"transition-colors duration-200\"\r\n                />\r\n\r\n                {/* Armrests (optional detail) */}\r\n                <path d=\"M15 60 L15 75\" stroke={colors.stroke} strokeWidth=\"3\" strokeLinecap=\"round\" />\r\n                <path d=\"M85 60 L85 75\" stroke={colors.stroke} strokeWidth=\"3\" strokeLinecap=\"round\" />\r\n            </svg>\r\n\r\n            {/* Seat Number */}\r\n            <span\r\n                className=\"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-xs font-bold transition-colors duration-200 pointer-events-none\"\r\n                style={{ color: colors.text, marginTop: '5px' }}\r\n            >\r\n                {seatNumber}\r\n            </span>\r\n\r\n            {/* Price Tag (only for available seats in booking view) */}\r\n            {price && status !== 'booked' && (\r\n                <div className=\"absolute -bottom-5 left-1/2 transform -translate-x-1/2 text-[10px] font-medium text-slate-500 whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity\">\r\n                    Rs.{price}\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\New folder\\BusTicketFrontEnd\\src\\components\\admin\\AdminRequestManager.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\New folder\\BusTicketFrontEnd\\src\\components\\admin\\BusManager.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\New folder\\BusTicketFrontEnd\\src\\components\\admin\\CinemaManager.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\New folder\\BusTicketFrontEnd\\src\\components\\admin\\Dashboard.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\New folder\\BusTicketFrontEnd\\src\\components\\admin\\DataTable.jsx","messages":[{"ruleId":"react/prop-types","severity":1,"message":"'columns' is missing in props validation","line":4,"column":5,"nodeType":"Property","messageId":"missingPropType","endLine":4,"endColumn":12},{"ruleId":"react/prop-types","severity":1,"message":"'data' is missing in props validation","line":5,"column":5,"nodeType":"Property","messageId":"missingPropType","endLine":5,"endColumn":9},{"ruleId":"react/prop-types","severity":1,"message":"'onSort' is missing in props validation","line":6,"column":5,"nodeType":"Property","messageId":"missingPropType","endLine":6,"endColumn":11},{"ruleId":"react/prop-types","severity":1,"message":"'onExport' is missing in props validation","line":7,"column":5,"nodeType":"Property","messageId":"missingPropType","endLine":7,"endColumn":13},{"ruleId":"react/prop-types","severity":1,"message":"'itemsPerPage' is missing in props validation","line":8,"column":5,"nodeType":"Property","messageId":"missingPropType","endLine":8,"endColumn":22},{"ruleId":"react/prop-types","severity":1,"message":"'searchable' is missing in props validation","line":9,"column":5,"nodeType":"Property","messageId":"missingPropType","endLine":9,"endColumn":22},{"ruleId":"react/prop-types","severity":1,"message":"'exportable' is missing in props validation","line":10,"column":5,"nodeType":"Property","messageId":"missingPropType","endLine":10,"endColumn":22},{"ruleId":"react/prop-types","severity":1,"message":"'columns.reduce' is missing in props validation","line":16,"column":17,"nodeType":"Identifier","messageId":"missingPropType","endLine":16,"endColumn":23},{"ruleId":"react/prop-types","severity":1,"message":"'data.filter' is missing in props validation","line":22,"column":16,"nodeType":"Identifier","messageId":"missingPropType","endLine":22,"endColumn":22},{"ruleId":"react/prop-types","severity":1,"message":"'columns.some' is missing in props validation","line":23,"column":21,"nodeType":"Identifier","messageId":"missingPropType","endLine":23,"endColumn":25},{"ruleId":"react/prop-types","severity":1,"message":"'columns.filter' is missing in props validation","line":62,"column":25,"nodeType":"Identifier","messageId":"missingPropType","endLine":62,"endColumn":31},{"ruleId":"react/prop-types","severity":1,"message":"'columns.filter' is missing in props validation","line":65,"column":26,"nodeType":"Identifier","messageId":"missingPropType","endLine":65,"endColumn":32},{"ruleId":"react-hooks/purity","severity":2,"message":"Error: Cannot call impure function during render\n\n`Date.now` is an impure function. Calling an impure function can produce unstable results that update unpredictably when the component happens to re-render. (https://react.dev/reference/rules/components-and-hooks-must-be-pure#components-and-hooks-must-be-idempotent).\n\n  73 |             const a = document.createElement('a');\n  74 |             a.href = url;\n> 75 |             a.download = `export-${Date.now()}.csv`;\n     |                                    ^^^^^^^^^^ Cannot call impure function\n  76 |             a.click();\n  77 |         }\n  78 |     };","line":75,"column":36,"nodeType":null,"endLine":75,"endColumn":46},{"ruleId":"react/prop-types","severity":1,"message":"'columns.map' is missing in props validation","line":116,"column":42,"nodeType":"Identifier","messageId":"missingPropType","endLine":116,"endColumn":45},{"ruleId":"react/prop-types","severity":1,"message":"'columns.filter' is missing in props validation","line":152,"column":42,"nodeType":"Identifier","messageId":"missingPropType","endLine":152,"endColumn":48},{"ruleId":"react/prop-types","severity":1,"message":"'columns.filter' is missing in props validation","line":174,"column":46,"nodeType":"Identifier","messageId":"missingPropType","endLine":174,"endColumn":52}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":15,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState } from 'react';\r\n\r\nexport function DataTable({\r\n    columns,\r\n    data,\r\n    onSort,\r\n    onExport,\r\n    itemsPerPage = 10,\r\n    searchable = true,\r\n    exportable = true\r\n}) {\r\n    const [currentPage, setCurrentPage] = useState(1);\r\n    const [sortConfig, setSortConfig] = useState({ key: null, direction: 'asc' });\r\n    const [searchQuery, setSearchQuery] = useState('');\r\n    const [visibleColumns, setVisibleColumns] = useState(\r\n        columns.reduce((acc, col) => ({ ...acc, [col.key]: true }), {})\r\n    );\r\n    const [showColumnToggle, setShowColumnToggle] = useState(false);\r\n\r\n    // Filter data based on search\r\n    const filteredData = searchQuery\r\n        ? data.filter(row =>\r\n            columns.some(col =>\r\n                String(row[col.key] || '')\r\n                    .toLowerCase()\r\n                    .includes(searchQuery.toLowerCase())\r\n            )\r\n        )\r\n        : data;\r\n\r\n    // Sort data\r\n    const sortedData = [...filteredData].sort((a, b) => {\r\n        if (!sortConfig.key) return 0;\r\n\r\n        const aVal = a[sortConfig.key];\r\n        const bVal = b[sortConfig.key];\r\n\r\n        if (aVal < bVal) return sortConfig.direction === 'asc' ? -1 : 1;\r\n        if (aVal > bVal) return sortConfig.direction === 'asc' ? 1 : -1;\r\n        return 0;\r\n    });\r\n\r\n    // Paginate data\r\n    const totalPages = Math.ceil(sortedData.length / itemsPerPage);\r\n    const startIndex = (currentPage - 1) * itemsPerPage;\r\n    const paginatedData = sortedData.slice(startIndex, startIndex + itemsPerPage);\r\n\r\n    const handleSort = (key) => {\r\n        setSortConfig(prev => ({\r\n            key,\r\n            direction: prev.key === key && prev.direction === 'asc' ? 'desc' : 'asc'\r\n        }));\r\n        if (onSort) onSort(key, sortConfig.direction);\r\n    };\r\n\r\n    const handleExport = (format) => {\r\n        if (onExport) {\r\n            onExport(sortedData, format);\r\n        } else {\r\n            // Default CSV export\r\n            const csv = [\r\n                columns.filter(col => visibleColumns[col.key]).map(col => col.label).join(','),\r\n                ...sortedData.map(row =>\r\n                    columns\r\n                        .filter(col => visibleColumns[col.key])\r\n                        .map(col => row[col.key])\r\n                        .join(',')\r\n                )\r\n            ].join('\\n');\r\n\r\n            const blob = new Blob([csv], { type: 'text/csv' });\r\n            const url = window.URL.createObjectURL(blob);\r\n            const a = document.createElement('a');\r\n            a.href = url;\r\n            a.download = `export-${Date.now()}.csv`;\r\n            a.click();\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"space-y-4\">\r\n            {/* Toolbar */}\r\n            <div className=\"flex flex-col sm:flex-row gap-4 justify-between items-start sm:items-center\">\r\n                {/* Search */}\r\n                {searchable && (\r\n                    <div className=\"relative flex-1 max-w-md\">\r\n                        <input\r\n                            type=\"text\"\r\n                            value={searchQuery}\r\n                            onChange={(e) => setSearchQuery(e.target.value)}\r\n                            placeholder=\"Search...\"\r\n                            className=\"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent\"\r\n                        />\r\n                        <svg className=\"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\" />\r\n                        </svg>\r\n                    </div>\r\n                )}\r\n\r\n                {/* Actions */}\r\n                <div className=\"flex gap-2\">\r\n                    {/* Column Toggle */}\r\n                    <div className=\"relative\">\r\n                        <button\r\n                            onClick={() => setShowColumnToggle(!showColumnToggle)}\r\n                            className=\"px-4 py-2 border border-gray-300 rounded-xl hover:bg-gray-50 transition-colors flex items-center gap-2\"\r\n                        >\r\n                            <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 17V7m0 10a2 2 0 01-2 2H5a2 2 0 01-2-2V7a2 2 0 012-2h2a2 2 0 012 2m0 10a2 2 0 002 2h2a2 2 0 002-2M9 7a2 2 0 012-2h2a2 2 0 012 2m0 10V7m0 10a2 2 0 002 2h2a2 2 0 002-2V7a2 2 0 00-2-2h-2a2 2 0 00-2 2\" />\r\n                            </svg>\r\n                            Columns\r\n                        </button>\r\n\r\n                        {showColumnToggle && (\r\n                            <div className=\"absolute right-0 mt-2 w-56 bg-white rounded-xl shadow-xl border border-gray-100 p-3 z-10\">\r\n                                {columns.map(col => (\r\n                                    <label key={col.key} className=\"flex items-center gap-2 p-2 hover:bg-gray-50 rounded-lg cursor-pointer\">\r\n                                        <input\r\n                                            type=\"checkbox\"\r\n                                            checked={visibleColumns[col.key]}\r\n                                            onChange={(e) => setVisibleColumns(prev => ({ ...prev, [col.key]: e.target.checked }))}\r\n                                            className=\"rounded border-gray-300 text-indigo-600 focus:ring-indigo-500\"\r\n                                        />\r\n                                        <span className=\"text-sm\">{col.label}</span>\r\n                                    </label>\r\n                                ))}\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n\r\n                    {/* Export */}\r\n                    {exportable && (\r\n                        <button\r\n                            onClick={() => handleExport('csv')}\r\n                            className=\"px-4 py-2 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-xl hover:shadow-lg transition-all flex items-center gap-2\"\r\n                        >\r\n                            <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\r\n                            </svg>\r\n                            Export\r\n                        </button>\r\n                    )}\r\n                </div>\r\n            </div>\r\n\r\n            {/* Table */}\r\n            <div className=\"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden\">\r\n                <div className=\"overflow-x-auto\">\r\n                    <table className=\"w-full\">\r\n                        <thead className=\"bg-gradient-to-r from-gray-50 to-gray-100 border-b border-gray-200\">\r\n                            <tr>\r\n                                {columns.filter(col => visibleColumns[col.key]).map(col => (\r\n                                    <th\r\n                                        key={col.key}\r\n                                        onClick={() => col.sortable !== false && handleSort(col.key)}\r\n                                        className={`px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider ${col.sortable !== false ? 'cursor-pointer hover:bg-gray-200 transition-colors' : ''\r\n                                            }`}\r\n                                    >\r\n                                        <div className=\"flex items-center gap-2\">\r\n                                            {col.label}\r\n                                            {col.sortable !== false && sortConfig.key === col.key && (\r\n                                                <svg className={`w-4 h-4 transition-transform ${sortConfig.direction === 'desc' ? 'rotate-180' : ''}`} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 15l7-7 7 7\" />\r\n                                                </svg>\r\n                                            )}\r\n                                        </div>\r\n                                    </th>\r\n                                ))}\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody className=\"divide-y divide-gray-100\">\r\n                            {paginatedData.map((row, idx) => (\r\n                                <tr key={idx} className=\"hover:bg-gray-50 transition-colors\">\r\n                                    {columns.filter(col => visibleColumns[col.key]).map(col => (\r\n                                        <td key={col.key} className=\"px-6 py-4 text-sm text-gray-900\">\r\n                                            {col.render ? col.render(row[col.key], row) : row[col.key]}\r\n                                        </td>\r\n                                    ))}\r\n                                </tr>\r\n                            ))}\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n\r\n                {/* Pagination */}\r\n                <div className=\"px-6 py-4 border-t border-gray-100 flex items-center justify-between bg-gray-50\">\r\n                    <div className=\"text-sm text-gray-600\">\r\n                        Showing {startIndex + 1} to {Math.min(startIndex + itemsPerPage, sortedData.length)} of {sortedData.length} results\r\n                    </div>\r\n                    <div className=\"flex gap-2\">\r\n                        <button\r\n                            onClick={() => setCurrentPage(prev => Math.max(1, prev - 1))}\r\n                            disabled={currentPage === 1}\r\n                            className=\"px-3 py-1 border border-gray-300 rounded-lg hover:bg-white disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\r\n                        >\r\n                            Previous\r\n                        </button>\r\n                        {[...Array(totalPages)].map((_, i) => (\r\n                            <button\r\n                                key={i}\r\n                                onClick={() => setCurrentPage(i + 1)}\r\n                                className={`px-3 py-1 rounded-lg transition-colors ${currentPage === i + 1\r\n                                        ? 'bg-indigo-600 text-white'\r\n                                        : 'border border-gray-300 hover:bg-white'\r\n                                    }`}\r\n                            >\r\n                                {i + 1}\r\n                            </button>\r\n                        ))}\r\n                        <button\r\n                            onClick={() => setCurrentPage(prev => Math.min(totalPages, prev + 1))}\r\n                            disabled={currentPage === totalPages}\r\n                            className=\"px-3 py-1 border border-gray-300 rounded-lg hover:bg-white disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\r\n                        >\r\n                            Next\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\New folder\\BusTicketFrontEnd\\src\\components\\admin\\Header.jsx","messages":[{"ruleId":"react/prop-types","severity":1,"message":"'onSearch' is missing in props validation","line":3,"column":26,"nodeType":"Property","messageId":"missingPropType","endLine":3,"endColumn":34},{"ruleId":"react/prop-types","severity":1,"message":"'isDarkMode' is missing in props validation","line":3,"column":36,"nodeType":"Property","messageId":"missingPropType","endLine":3,"endColumn":46},{"ruleId":"react/prop-types","severity":1,"message":"'toggleDarkMode' is missing in props validation","line":3,"column":48,"nodeType":"Property","messageId":"missingPropType","endLine":3,"endColumn":62},{"ruleId":"react/prop-types","severity":1,"message":"'onProfileSettings' is missing in props validation","line":3,"column":64,"nodeType":"Property","messageId":"missingPropType","endLine":3,"endColumn":81}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState } from 'react';\r\n\r\nexport function Header({ onSearch, isDarkMode, toggleDarkMode, onProfileSettings }) {\r\n    const [searchQuery, setSearchQuery] = useState('');\r\n    const [showNotifications, setShowNotifications] = useState(false);\r\n    const [showProfile, setShowProfile] = useState(false);\r\n\r\n    const notifications = [\r\n        { id: 1, title: 'New booking received', time: '5 min ago', unread: true },\r\n        { id: 2, title: 'Admin request pending', time: '1 hour ago', unread: true },\r\n        { id: 3, title: 'Route updated successfully', time: '2 hours ago', unread: false },\r\n    ];\r\n\r\n    const unreadCount = notifications.filter(n => n.unread).length;\r\n\r\n    const handleSearch = (e) => {\r\n        e.preventDefault();\r\n        if (onSearch) onSearch(searchQuery);\r\n    };\r\n\r\n    return (\r\n        <header className=\"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 sticky top-0 z-10 shadow-sm transition-colors duration-300\">\r\n            <div className=\"px-6 py-4\">\r\n                <div className=\"flex items-center justify-between gap-4\">\r\n                    {/* Search Bar */}\r\n                    <form onSubmit={handleSearch} className=\"flex-1 max-w-2xl\">\r\n                        <div className=\"relative\">\r\n                            <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\r\n                                <svg className=\"h-5 w-5 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\" />\r\n                                </svg>\r\n                            </div>\r\n                            <input\r\n                                type=\"text\"\r\n                                value={searchQuery}\r\n                                onChange={(e) => setSearchQuery(e.target.value)}\r\n                                className=\"block w-full pl-10 pr-3 py-2.5 border border-gray-300 dark:border-gray-600 rounded-xl leading-5 bg-gray-50 dark:bg-gray-700 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white focus:outline-none focus:placeholder-gray-400 focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all\"\r\n                                placeholder=\"Search buses, routes, tickets...\"\r\n                            />\r\n                        </div>\r\n                    </form>\r\n\r\n                    {/* Right Section */}\r\n                    <div className=\"flex items-center gap-3\">\r\n                        {/* Dark Mode Toggle */}\r\n                        <button\r\n                            onClick={toggleDarkMode}\r\n                            className=\"p-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-xl transition-colors\"\r\n                            title=\"Toggle Dark Mode\"\r\n                        >\r\n                            {isDarkMode ? (\r\n                                <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z\" />\r\n                                </svg>\r\n                            ) : (\r\n                                <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z\" />\r\n                                </svg>\r\n                            )}\r\n                        </button>\r\n\r\n                        {/* Notifications */}\r\n                        <div className=\"relative\">\r\n                            <button\r\n                                onClick={() => setShowNotifications(!showNotifications)}\r\n                                className=\"relative p-2 text-gray-600 dark:text-gray-300 hover:text-indigo-600 dark:hover:text-indigo-400 hover:bg-indigo-50 dark:hover:bg-gray-700 rounded-xl transition-colors\"\r\n                            >\r\n                                <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9\" />\r\n                                </svg>\r\n                                {unreadCount > 0 && (\r\n                                    <span className=\"absolute top-1 right-1 w-5 h-5 bg-red-500 text-white text-xs font-bold rounded-full flex items-center justify-center animate-pulse\">\r\n                                        {unreadCount}\r\n                                    </span>\r\n                                )}\r\n                            </button>\r\n\r\n                            {showNotifications && (\r\n                                <div className=\"absolute right-0 mt-2 w-80 bg-white dark:bg-gray-800 rounded-xl shadow-2xl border border-gray-100 dark:border-gray-700 overflow-hidden z-50\">\r\n                                    <div className=\"p-4 border-b border-gray-100 dark:border-gray-700 bg-gradient-to-r from-indigo-50 to-purple-50 dark:from-gray-700 dark:to-gray-600\">\r\n                                        <h3 className=\"font-semibold text-gray-900 dark:text-white\">Notifications</h3>\r\n                                        <p className=\"text-sm text-gray-600 dark:text-gray-300\">{unreadCount} unread</p>\r\n                                    </div>\r\n                                    <div className=\"max-h-96 overflow-y-auto\">\r\n                                        {notifications.map((notif) => (\r\n                                            <div\r\n                                                key={notif.id}\r\n                                                className={`p-4 border-b border-gray-50 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors cursor-pointer ${notif.unread ? 'bg-indigo-50/30 dark:bg-indigo-900/20' : ''\r\n                                                    }`}\r\n                                            >\r\n                                                <div className=\"flex items-start gap-3\">\r\n                                                    {notif.unread && (\r\n                                                        <div className=\"w-2 h-2 bg-indigo-600 dark:bg-indigo-400 rounded-full mt-2\" />\r\n                                                    )}\r\n                                                    <div className=\"flex-1 min-w-0\">\r\n                                                        <p className=\"text-sm font-medium text-gray-900 dark:text-white\">{notif.title}</p>\r\n                                                        <p className=\"text-xs text-gray-500 dark:text-gray-400 mt-1\">{notif.time}</p>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        ))}\r\n                                    </div>\r\n                                    <div className=\"p-3 bg-gray-50 dark:bg-gray-700 text-center\">\r\n                                        <button className=\"text-sm text-indigo-600 dark:text-indigo-400 hover:text-indigo-700 dark:hover:text-indigo-300 font-medium\">\r\n                                            View all notifications\r\n                                        </button>\r\n                                    </div>\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n\r\n                        {/* Profile Dropdown */}\r\n                        <div className=\"relative\">\r\n                            <button\r\n                                onClick={() => setShowProfile(!showProfile)}\r\n                                className=\"flex items-center gap-2 p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-xl transition-colors\"\r\n                            >\r\n                                <div className=\"w-9 h-9 rounded-full bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center text-white font-bold shadow-md\">\r\n                                    A\r\n                                </div>\r\n                                <svg className=\"w-4 h-4 text-gray-600 dark:text-gray-300\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\r\n                                </svg>\r\n                            </button>\r\n\r\n                            {showProfile && (\r\n                                <div className=\"absolute right-0 mt-2 w-56 bg-white dark:bg-gray-800 rounded-xl shadow-2xl border border-gray-100 dark:border-gray-700 overflow-hidden z-50\">\r\n                                    <div className=\"p-4 border-b border-gray-100 dark:border-gray-700 bg-gradient-to-r from-indigo-50 to-purple-50 dark:from-gray-700 dark:to-gray-600\">\r\n                                        <p className=\"font-semibold text-gray-900 dark:text-white\">Admin User</p>\r\n                                        <p className=\"text-sm text-gray-600 dark:text-gray-300\">admin@busticket.com</p>\r\n                                    </div>\r\n                                    <div className=\"p-2\">\r\n                                        <button\r\n                                            onClick={() => {\r\n                                                if (onProfileSettings) onProfileSettings();\r\n                                                setShowProfile(false);\r\n                                            }}\r\n                                            className=\"w-full text-left px-3 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors flex items-center gap-2\"\r\n                                        >\r\n                                            <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\" />\r\n                                            </svg>\r\n                                            Profile Settings\r\n                                        </button>\r\n                                        <button\r\n                                            onClick={() => {\r\n                                                if (onProfileSettings) onProfileSettings();\r\n                                                setShowProfile(false);\r\n                                            }}\r\n                                            className=\"w-full text-left px-3 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors flex items-center gap-2\"\r\n                                        >\r\n                                            <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z\" />\r\n                                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\" />\r\n                                            </svg>\r\n                                            Settings\r\n                                        </button>\r\n                                    </div>\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </header>\r\n    );\r\n}\r\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\New folder\\BusTicketFrontEnd\\src\\components\\admin\\HotelManager.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\New folder\\BusTicketFrontEnd\\src\\components\\admin\\RevenueChart.jsx","messages":[{"ruleId":"react/prop-types","severity":1,"message":"'data' is missing in props validation","line":4,"column":32,"nodeType":"Property","messageId":"missingPropType","endLine":4,"endColumn":36},{"ruleId":"react/prop-types","severity":1,"message":"'active' is missing in props validation","line":6,"column":30,"nodeType":"Property","messageId":"missingPropType","endLine":6,"endColumn":36},{"ruleId":"react/prop-types","severity":1,"message":"'payload' is missing in props validation","line":6,"column":38,"nodeType":"Property","messageId":"missingPropType","endLine":6,"endColumn":45},{"ruleId":"react/prop-types","severity":1,"message":"'label' is missing in props validation","line":6,"column":47,"nodeType":"Property","messageId":"missingPropType","endLine":6,"endColumn":52},{"ruleId":"react/prop-types","severity":1,"message":"'payload.length' is missing in props validation","line":7,"column":42,"nodeType":"Identifier","messageId":"missingPropType","endLine":7,"endColumn":48},{"ruleId":"react/prop-types","severity":1,"message":"'payload[].value' is missing in props validation","line":12,"column":41,"nodeType":"Identifier","messageId":"missingPropType","endLine":12,"endColumn":46},{"ruleId":"react/prop-types","severity":1,"message":"'data.length' is missing in props validation","line":20,"column":23,"nodeType":"Identifier","messageId":"missingPropType","endLine":20,"endColumn":29},{"ruleId":"react-hooks/static-components","severity":2,"message":"Error: Cannot create components during render\n\nComponents created during render will reset their state each time they are created. Declare components outside of render.\n\n  61 |                         tickFormatter={(value) => `Rs.${value / 1000}k`}\n  62 |                     />\n> 63 |                     <Tooltip content={<CustomTooltip />} cursor={{ stroke: '#6366f1', strokeWidth: 1, strokeDasharray: '5 5' }} />\n     |                                        ^^^^^^^^^^^^^ This component is created during render\n  64 |                     <Area\n  65 |                         type=\"monotone\"\n  66 |                         dataKey=\"revenue\"\n\n   4 | export function RevenueChart({ data }) {\n   5 |     // Custom Tooltip Component\n>  6 |     const CustomTooltip = ({ active, payload, label }) => {\n     |                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n>  7 |         if (active && payload && payload.length) {\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n>  8 |             return (\n     ΓÇª\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 17 |         return null;\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 18 |     };\n     | ^^^^^^ The component is created during render here\n  19 |\n  20 |     if (!data || data.length === 0) {\n  21 |         return (","line":63,"column":40,"nodeType":null,"endLine":63,"endColumn":53}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from 'react';\r\nimport { AreaChart, Area, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer } from 'recharts';\r\n\r\nexport function RevenueChart({ data }) {\r\n    // Custom Tooltip Component\r\n    const CustomTooltip = ({ active, payload, label }) => {\r\n        if (active && payload && payload.length) {\r\n            return (\r\n                <div className=\"bg-white p-4 rounded-xl shadow-lg border border-gray-100\">\r\n                    <p className=\"text-gray-500 text-sm mb-1\">{label}</p>\r\n                    <p className=\"text-indigo-600 font-bold text-lg\">\r\n                        Rs. {payload[0].value.toLocaleString()}\r\n                    </p>\r\n                </div>\r\n            );\r\n        }\r\n        return null;\r\n    };\r\n\r\n    if (!data || data.length === 0) {\r\n        return (\r\n            <div className=\"h-full flex flex-col items-center justify-center text-gray-400\">\r\n                <svg className=\"w-12 h-12 mb-3 opacity-20\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\" />\r\n                </svg>\r\n                <p>No revenue data available</p>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"w-full h-full\">\r\n            <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n                <AreaChart\r\n                    data={data}\r\n                    margin={{\r\n                        top: 10,\r\n                        right: 30,\r\n                        left: 0,\r\n                        bottom: 0,\r\n                    }}\r\n                >\r\n                    <defs>\r\n                        <linearGradient id=\"colorRevenue\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\r\n                            <stop offset=\"5%\" stopColor=\"#6366f1\" stopOpacity={0.3} />\r\n                            <stop offset=\"95%\" stopColor=\"#6366f1\" stopOpacity={0} />\r\n                        </linearGradient>\r\n                    </defs>\r\n                    <CartesianGrid strokeDasharray=\"3 3\" vertical={false} stroke=\"#f3f4f6\" />\r\n                    <XAxis\r\n                        dataKey=\"date\"\r\n                        axisLine={false}\r\n                        tickLine={false}\r\n                        tick={{ fill: '#9ca3af', fontSize: 12 }}\r\n                        dy={10}\r\n                    />\r\n                    <YAxis\r\n                        axisLine={false}\r\n                        tickLine={false}\r\n                        tick={{ fill: '#9ca3af', fontSize: 12 }}\r\n                        tickFormatter={(value) => `Rs.${value / 1000}k`}\r\n                    />\r\n                    <Tooltip content={<CustomTooltip />} cursor={{ stroke: '#6366f1', strokeWidth: 1, strokeDasharray: '5 5' }} />\r\n                    <Area\r\n                        type=\"monotone\"\r\n                        dataKey=\"revenue\"\r\n                        stroke=\"#6366f1\"\r\n                        strokeWidth={3}\r\n                        fillOpacity={1}\r\n                        fill=\"url(#colorRevenue)\"\r\n                        activeDot={{ r: 6, strokeWidth: 0, fill: '#4f46e5' }}\r\n                    />\r\n                </AreaChart>\r\n            </ResponsiveContainer>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\New folder\\BusTicketFrontEnd\\src\\components\\admin\\RouteManager.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\New folder\\BusTicketFrontEnd\\src\\components\\admin\\Settings.jsx","messages":[{"ruleId":"react/prop-types","severity":1,"message":"'isDarkMode' is missing in props validation","line":6,"column":28,"nodeType":"Property","messageId":"missingPropType","endLine":6,"endColumn":38},{"ruleId":"react/prop-types","severity":1,"message":"'toggleDarkMode' is missing in props validation","line":6,"column":40,"nodeType":"Property","messageId":"missingPropType","endLine":6,"endColumn":54}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect, useRef } from 'react';\r\nimport { toast } from 'react-toastify';\r\nimport ApiService from '../../services/api.service';\r\nimport API_CONFIG from '../../config/api';\r\n\r\nexport function Settings({ isDarkMode, toggleDarkMode }) {\r\n    // Change Password State\r\n    const [email, setEmail] = useState(\"\");\r\n    const [oldPassword, setOldPassword] = useState(\"\");\r\n    const [newPassword, setNewPassword] = useState(\"\");\r\n    const [confirmPassword, setConfirmPassword] = useState(\"\");\r\n    const [otp, setOtp] = useState(\"\");\r\n    const [otpModalVisible, setOtpModalVisible] = useState(false);\r\n    const [isSendingOtp, setIsSendingOtp] = useState(false);\r\n    const [isSubmitting, setIsSubmitting] = useState(false);\r\n    const [errors, setErrors] = useState({});\r\n    const [showNewPassword, setShowNewPassword] = useState(false);\r\n    const [showConfirmPassword, setShowConfirmPassword] = useState(false);\r\n    const [showOldPassword, setShowOldPassword] = useState(false);\r\n\r\n    const otpInputRef = useRef(null);\r\n\r\n    // Load user email if available\r\n    useEffect(() => {\r\n        const userData = JSON.parse(localStorage.getItem('user_data') || '{}');\r\n        if (userData.email) {\r\n            setEmail(userData.email);\r\n        }\r\n    }, []);\r\n\r\n    const validateEmail = (value) => {\r\n        return /^\\S+@\\S+\\.\\S+$/.test(value);\r\n    };\r\n\r\n    const validateAll = (forOtp = false) => {\r\n        const e = {};\r\n        if (!email) e.email = \"Email is required\";\r\n        else if (!validateEmail(email)) e.email = \"Enter a valid email\";\r\n\r\n        if (!oldPassword) {\r\n            if (!forOtp && (!newPassword || !confirmPassword)) {\r\n                if (!newPassword) e.newPassword = \"New password is required\";\r\n                if (!confirmPassword) e.confirmPassword = \"Please confirm new password\";\r\n            }\r\n        } else {\r\n            if (!newPassword) e.newPassword = \"New password is required\";\r\n            if (!confirmPassword) e.confirmPassword = \"Please confirm new password\";\r\n        }\r\n\r\n        if (newPassword && newPassword.length < 8)\r\n            e.newPassword = \"Password must be at least 8 characters\";\r\n\r\n        if (newPassword && confirmPassword && newPassword !== confirmPassword)\r\n            e.confirmPassword = \"Passwords do not match\";\r\n\r\n        if (forOtp && !otp) e.otp = \"OTP is required\";\r\n\r\n        setErrors(e);\r\n        return Object.keys(e).length === 0;\r\n    };\r\n\r\n    const handleSendOtp = async () => {\r\n        if (!email || !validateEmail(email)) {\r\n            setErrors((s) => ({ ...s, email: !email ? \"Email is required\" : \"Enter a valid email\" }));\r\n            return;\r\n        }\r\n        setErrors((s) => ({ ...s, otp: undefined }));\r\n\r\n        setIsSendingOtp(true);\r\n        try {\r\n            const response = await ApiService.post(API_CONFIG.ENDPOINTS.SEND_OTP, {\r\n                username: email,\r\n            });\r\n\r\n            if (response.ok) {\r\n                toast.success(\"OTP sent to your email\");\r\n                setOtpModalVisible(true);\r\n                setTimeout(() => otpInputRef.current && otpInputRef.current.focus(), 150);\r\n            } else {\r\n                const errorData = await response.json();\r\n                toast.error(errorData.message || \"OTP sending failed\");\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Error sending OTP:\", error);\r\n            toast.error(\"Failed to send OTP\");\r\n        } finally {\r\n            setIsSendingOtp(false);\r\n        }\r\n    };\r\n\r\n    const handleChangePassword = async () => {\r\n        if (!validateAll(otpModalVisible)) return;\r\n\r\n        const resetPasswordMode = oldPassword ? \"CHANGE_PASSWORD\" : \"RESET_PASSWORD\";\r\n\r\n        setIsSubmitting(true);\r\n        try {\r\n            const response = await ApiService.post(API_CONFIG.ENDPOINTS.CHANGE_PASSWORD, {\r\n                resetPassword: resetPasswordMode,\r\n                username: email,\r\n                oldPassword: oldPassword || undefined,\r\n                newPassword,\r\n                confirmPassword,\r\n                otp: otp || undefined,\r\n            });\r\n\r\n            if (response.ok) {\r\n                toast.success(\"Password updated successfully!\");\r\n                setOldPassword(\"\");\r\n                setNewPassword(\"\");\r\n                setConfirmPassword(\"\");\r\n                setOtp(\"\");\r\n                setOtpModalVisible(false);\r\n            } else {\r\n                const errorData = await response.json();\r\n                toast.error(errorData.message || \"Failed to change password\");\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Error changing password:\", error);\r\n            toast.error(\"Failed to change password\");\r\n        } finally {\r\n            setIsSubmitting(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"space-y-6\">\r\n            {/* Header */}\r\n            <div>\r\n                <h2 className=\"text-3xl font-bold bg-gradient-to-r from-gray-700 to-gray-900 dark:from-white dark:to-gray-300 bg-clip-text text-transparent\">\r\n                    Settings\r\n                </h2>\r\n                <p className=\"text-gray-600 dark:text-gray-400 mt-1\">Manage your account preferences and security</p>\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8\">\r\n                {/* Appearance Settings */}\r\n                <div className=\"bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700\">\r\n                    <h3 className=\"text-xl font-bold text-gray-900 dark:text-white mb-6 flex items-center gap-2\">\r\n                        <svg className=\"w-6 h-6 text-indigo-600 dark:text-indigo-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01\" />\r\n                        </svg>\r\n                        Appearance\r\n                    </h3>\r\n\r\n                    <div className=\"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700/50 rounded-xl\">\r\n                        <div>\r\n                            <p className=\"font-medium text-gray-900 dark:text-white\">Dark Mode</p>\r\n                            <p className=\"text-sm text-gray-500 dark:text-gray-400\">Toggle dark theme for the admin panel</p>\r\n                        </div>\r\n                        <button\r\n                            onClick={toggleDarkMode}\r\n                            className={`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 ${isDarkMode ? 'bg-indigo-600' : 'bg-gray-200'\r\n                                }`}\r\n                        >\r\n                            <span\r\n                                className={`${isDarkMode ? 'translate-x-6' : 'translate-x-1'\r\n                                    } inline-block h-4 w-4 transform rounded-full bg-white transition-transform`}\r\n                            />\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Security Settings */}\r\n                <div className=\"bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700\">\r\n                    <h3 className=\"text-xl font-bold text-gray-900 dark:text-white mb-6 flex items-center gap-2\">\r\n                        <svg className=\"w-6 h-6 text-indigo-600 dark:text-indigo-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z\" />\r\n                        </svg>\r\n                        Security & Password\r\n                    </h3>\r\n\r\n                    <div className=\"space-y-4\">\r\n                        <div>\r\n                            <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Email Address</label>\r\n                            <input\r\n                                type=\"email\"\r\n                                value={email}\r\n                                onChange={(e) => setEmail(e.target.value)}\r\n                                className=\"w-full p-3 border border-gray-200 dark:border-gray-600 rounded-xl bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent\"\r\n                                placeholder=\"you@example.com\"\r\n                            />\r\n                            {errors.email && <p className=\"text-sm text-red-500 mt-1\">{errors.email}</p>}\r\n                        </div>\r\n\r\n                        <div>\r\n                            <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Old Password</label>\r\n                            <div className=\"relative\">\r\n                                <input\r\n                                    type={showOldPassword ? \"text\" : \"password\"}\r\n                                    value={oldPassword}\r\n                                    onChange={(e) => setOldPassword(e.target.value)}\r\n                                    className=\"w-full p-3 border border-gray-200 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent\"\r\n                                    placeholder=\"Leave empty if forgotten\"\r\n                                />\r\n                                <button\r\n                                    type=\"button\"\r\n                                    onClick={() => setShowOldPassword(!showOldPassword)}\r\n                                    className=\"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300\"\r\n                                >\r\n                                    {showOldPassword ? \"Hide\" : \"Show\"}\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div>\r\n                            <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">New Password</label>\r\n                            <div className=\"relative\">\r\n                                <input\r\n                                    type={showNewPassword ? \"text\" : \"password\"}\r\n                                    value={newPassword}\r\n                                    onChange={(e) => setNewPassword(e.target.value)}\r\n                                    className=\"w-full p-3 border border-gray-200 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent\"\r\n                                    placeholder=\"Min. 8 characters\"\r\n                                />\r\n                                <button\r\n                                    type=\"button\"\r\n                                    onClick={() => setShowNewPassword(!showNewPassword)}\r\n                                    className=\"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300\"\r\n                                >\r\n                                    {showNewPassword ? \"Hide\" : \"Show\"}\r\n                                </button>\r\n                            </div>\r\n                            {errors.newPassword && <p className=\"text-sm text-red-500 mt-1\">{errors.newPassword}</p>}\r\n                        </div>\r\n\r\n                        <div>\r\n                            <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Confirm Password</label>\r\n                            <div className=\"relative\">\r\n                                <input\r\n                                    type={showConfirmPassword ? \"text\" : \"password\"}\r\n                                    value={confirmPassword}\r\n                                    onChange={(e) => setConfirmPassword(e.target.value)}\r\n                                    className=\"w-full p-3 border border-gray-200 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent\"\r\n                                    placeholder=\"Confirm new password\"\r\n                                />\r\n                                <button\r\n                                    type=\"button\"\r\n                                    onClick={() => setShowConfirmPassword(!showConfirmPassword)}\r\n                                    className=\"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300\"\r\n                                >\r\n                                    {showConfirmPassword ? \"Hide\" : \"Show\"}\r\n                                </button>\r\n                            </div>\r\n                            {errors.confirmPassword && <p className=\"text-sm text-red-500 mt-1\">{errors.confirmPassword}</p>}\r\n                        </div>\r\n\r\n                        <div className=\"pt-4\">\r\n                            {!oldPassword ? (\r\n                                <button\r\n                                    onClick={handleSendOtp}\r\n                                    disabled={isSendingOtp}\r\n                                    className=\"w-full py-3 px-4 bg-indigo-600 hover:bg-indigo-700 text-white font-medium rounded-xl transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                                >\r\n                                    {isSendingOtp ? \"Sending OTP...\" : \"Send OTP to Email\"}\r\n                                </button>\r\n                            ) : (\r\n                                <button\r\n                                    onClick={handleChangePassword}\r\n                                    disabled={isSubmitting}\r\n                                    className=\"w-full py-3 px-4 bg-green-600 hover:bg-green-700 text-white font-medium rounded-xl transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                                >\r\n                                    {isSubmitting ? \"Updating...\" : \"Change Password\"}\r\n                                </button>\r\n                            )}\r\n                            <p className=\"text-center text-xs text-gray-500 dark:text-gray-400 mt-3\">\r\n                                {!oldPassword ? \"Forgot your password? Use OTP to reset it.\" : \"Enter old password to change directly.\"}\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* OTP Modal */}\r\n            {otpModalVisible && (\r\n                <div className=\"fixed inset-0 flex items-center justify-center bg-black/50 backdrop-blur-sm z-50 p-4\">\r\n                    <div className=\"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl w-full max-w-sm p-6 border border-gray-100 dark:border-gray-700\">\r\n                        <div className=\"flex items-center justify-between mb-4\">\r\n                            <h3 className=\"text-lg font-bold text-gray-900 dark:text-white\">Verify OTP</h3>\r\n                            <button\r\n                                onClick={() => setOtpModalVisible(false)}\r\n                                className=\"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200\"\r\n                            >\r\n                                <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n                                </svg>\r\n                            </button>\r\n                        </div>\r\n\r\n                        <p className=\"text-sm text-gray-600 dark:text-gray-300 mb-4\">\r\n                            We sent a verification code to <span className=\"font-semibold text-gray-900 dark:text-white\">{email}</span>\r\n                        </p>\r\n\r\n                        <input\r\n                            ref={otpInputRef}\r\n                            type=\"text\"\r\n                            placeholder=\"Enter 6-digit code\"\r\n                            value={otp}\r\n                            onChange={(e) => setOtp(e.target.value)}\r\n                            className=\"w-full p-3 border border-gray-200 dark:border-gray-600 rounded-xl bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white text-center text-lg tracking-widest focus:ring-2 focus:ring-indigo-500 focus:border-transparent mb-2\"\r\n                        />\r\n                        {errors.otp && <p className=\"text-sm text-red-500 mb-4\">{errors.otp}</p>}\r\n\r\n                        <div className=\"grid grid-cols-2 gap-3 mt-4\">\r\n                            <button\r\n                                onClick={() => setOtpModalVisible(false)}\r\n                                className=\"py-2 px-4 border border-gray-200 dark:border-gray-600 text-gray-600 dark:text-gray-300 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors\"\r\n                            >\r\n                                Cancel\r\n                            </button>\r\n                            <button\r\n                                onClick={handleChangePassword}\r\n                                disabled={isSubmitting}\r\n                                className=\"py-2 px-4 bg-green-600 hover:bg-green-700 text-white rounded-xl transition-colors disabled:opacity-50\"\r\n                            >\r\n                                {isSubmitting ? \"Verifying...\" : \"Verify & Change\"}\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\New folder\\BusTicketFrontEnd\\src\\components\\admin\\Sidebar.jsx","messages":[{"ruleId":"react/prop-types","severity":1,"message":"'activeTab' is missing in props validation","line":4,"column":27,"nodeType":"Property","messageId":"missingPropType","endLine":4,"endColumn":36},{"ruleId":"react/prop-types","severity":1,"message":"'setActiveTab' is missing in props validation","line":4,"column":38,"nodeType":"Property","messageId":"missingPropType","endLine":4,"endColumn":50},{"ruleId":"react/prop-types","severity":1,"message":"'onLogout' is missing in props validation","line":4,"column":52,"nodeType":"Property","messageId":"missingPropType","endLine":4,"endColumn":60},{"ruleId":"no-unused-vars","severity":1,"message":"'setPendingRequests' is assigned a value but never used.","line":6,"column":29,"nodeType":"Identifier","messageId":"unusedVar","endLine":6,"endColumn":47}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState } from 'react';\r\nimport authService from '../../services/authService';\r\n\r\nexport function Sidebar({ activeTab, setActiveTab, onLogout }) {\r\n    const [isCollapsed, setIsCollapsed] = useState(false);\r\n    const [pendingRequests, setPendingRequests] = useState(3); // This would come from API\r\n    const userRole = authService.getRoleDisplayName();\r\n    const userData = authService.getUserData() || {};\r\n\r\n    const menuItems = [\r\n        {\r\n            id: 'dashboard',\r\n            label: 'Dashboard',\r\n            icon: (\r\n                <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z\" />\r\n                </svg>\r\n            )\r\n        },\r\n        {\r\n            id: 'buses',\r\n            label: 'Transport Management',\r\n            icon: (\r\n                <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4\" />\r\n                </svg>\r\n            )\r\n        },\r\n        {\r\n            id: 'routes',\r\n            label: 'Route Management',\r\n            icon: (\r\n                <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7\" />\r\n                </svg>\r\n            )\r\n        },\r\n        {\r\n            id: 'tickets',\r\n            label: 'Bookings',\r\n            icon: (\r\n                <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 5v2m0 4v2m0 4v2M5 5a2 2 0 00-2 2v3a2 2 0 110 4v3a2 2 0 002 2h14a2 2 0 002-2v-3a2 2 0 110-4V7a2 2 0 00-2-2H5z\" />\r\n                </svg>\r\n            )\r\n        },\r\n        {\r\n            id: 'hotels',\r\n            label: 'Hotel Management',\r\n            icon: (\r\n                <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4\" />\r\n                </svg>\r\n            )\r\n        },\r\n        {\r\n            id: 'cinemas',\r\n            label: 'Cinema Management',\r\n            icon: (\r\n                <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M7 4v16M17 4v16M3 8h4m10 0h4M3 12h18M3 16h4m10 0h4M4 20h16a1 1 0 001-1V5a1 1 0 00-1-1H4a1 1 0 00-1 1v14a1 1 0 001 1z\" />\r\n                </svg>\r\n            )\r\n        },\r\n        {\r\n            id: 'requests',\r\n            label: 'Admin Requests',\r\n            icon: (\r\n                <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z\" />\r\n                </svg>\r\n            ),\r\n            badge: pendingRequests\r\n        },\r\n        {\r\n            id: 'settings',\r\n            label: 'Settings',\r\n            icon: (\r\n                <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z\" />\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\" />\r\n                </svg>\r\n            )\r\n        },\r\n    ];\r\n\r\n    return (\r\n        <div\r\n            className={`${isCollapsed ? 'w-20' : 'w-72'} bg-gradient-to-br from-indigo-600 via-purple-600 to-indigo-700 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 shadow-2xl h-screen fixed left-0 top-0 flex flex-col z-20 transition-all duration-300 ease-in-out`}\r\n            style={{\r\n                backdropFilter: 'blur(10px)',\r\n                // Background is handled by classes for dark mode support\r\n            }}\r\n        >\r\n            {/* Header */}\r\n            <div className=\"p-6 border-b border-white/10 dark:border-gray-700\">\r\n                <div className=\"flex items-center justify-between\">\r\n                    {!isCollapsed && (\r\n                        <h1 className=\"text-2xl font-bold text-white flex items-center gap-3\">\r\n                            <div className=\"p-2 bg-white/20 backdrop-blur-sm rounded-xl\">\r\n                                <svg className=\"w-6 h-6 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 10V3L4 14h7v7l9-11h-7z\" />\r\n                                </svg>\r\n                            </div>\r\n                            <span>Admin Panel</span>\r\n                        </h1>\r\n                    )}\r\n                    <button\r\n                        onClick={() => setIsCollapsed(!isCollapsed)}\r\n                        className=\"p-2 hover:bg-white/10 rounded-lg transition-colors\"\r\n                    >\r\n                        <svg className=\"w-5 h-5 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d={isCollapsed ? \"M13 5l7 7-7 7M5 5l7 7-7 7\" : \"M11 19l-7-7 7-7m8 14l-7-7 7-7\"} />\r\n                        </svg>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n\r\n            {/* User Profile */}\r\n            {!isCollapsed && (\r\n                <div className=\"p-6 border-b border-white/10 dark:border-gray-700\">\r\n                    <div className=\"flex items-center gap-3\">\r\n                        <div className=\"w-12 h-12 rounded-full bg-gradient-to-br from-yellow-400 to-orange-500 flex items-center justify-center text-white font-bold text-lg shadow-lg\">\r\n                            {(userData.name || 'Admin').charAt(0).toUpperCase()}\r\n                        </div>\r\n                        <div className=\"flex-1 min-w-0\">\r\n                            <p className=\"text-white font-semibold truncate\">{userData.name || 'Admin User'}</p>\r\n                            <p className=\"text-indigo-200 text-sm truncate\">{userData.email || 'admin@example.com'}</p>\r\n                            <div className=\"mt-1\">\r\n                                <span className=\"inline-block px-2 py-0.5 bg-white/20 backdrop-blur-sm rounded-full text-xs text-white font-medium\">\r\n                                    {userRole}\r\n                                </span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {/* Navigation */}\r\n            <nav className=\"flex-1 p-4 space-y-2 overflow-y-auto scrollbar-thin scrollbar-thumb-white/20 scrollbar-track-transparent\">\r\n                {menuItems.map((item) => (\r\n                    <button\r\n                        key={item.id}\r\n                        onClick={() => setActiveTab(item.id)}\r\n                        className={`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-200 group relative ${activeTab === item.id\r\n                            ? 'bg-white text-indigo-600 shadow-lg shadow-white/20'\r\n                            : 'text-white/80 hover:bg-white/10 hover:text-white'\r\n                            }`}\r\n                    >\r\n                        <div className={`${activeTab === item.id ? 'scale-110' : 'group-hover:scale-110'} transition-transform`}>\r\n                            {item.icon}\r\n                        </div>\r\n                        {!isCollapsed && (\r\n                            <>\r\n                                <span className=\"font-medium flex-1 text-left\">{item.label}</span>\r\n                                {item.badge && item.badge > 0 && (\r\n                                    <span className=\"px-2 py-0.5 bg-red-500 text-white text-xs font-bold rounded-full animate-pulse\">\r\n                                        {item.badge}\r\n                                    </span>\r\n                                )}\r\n                            </>\r\n                        )}\r\n                        {activeTab === item.id && (\r\n                            <div className=\"absolute left-0 top-1/2 -translate-y-1/2 w-1 h-8 bg-indigo-600 rounded-r-full\" />\r\n                        )}\r\n                    </button>\r\n                ))}\r\n            </nav>\r\n\r\n            {/* Footer */}\r\n            <div className=\"p-4 border-t border-white/10 dark:border-gray-700 space-y-2\">\r\n                {!isCollapsed && (\r\n                    <div className=\"px-4 py-3 bg-white/10 backdrop-blur-sm rounded-xl mb-2\">\r\n                        <p className=\"text-white/60 text-xs mb-1\">System Status</p>\r\n                        <div className=\"flex items-center gap-2\">\r\n                            <div className=\"w-2 h-2 bg-green-400 rounded-full animate-pulse\" />\r\n                            <span className=\"text-white text-sm font-medium\">All Systems Operational</span>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n                <button\r\n                    onClick={onLogout}\r\n                    className=\"w-full flex items-center gap-3 px-4 py-3 text-white hover:bg-red-500/20 rounded-xl transition-colors font-medium group\"\r\n                >\r\n                    <svg className=\"w-5 h-5 group-hover:scale-110 transition-transform\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1\" />\r\n                    </svg>\r\n                    {!isCollapsed && <span>Logout</span>}\r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\New folder\\BusTicketFrontEnd\\src\\components\\admin\\StatsCard.jsx","messages":[{"ruleId":"react/prop-types","severity":1,"message":"'label' is missing in props validation","line":3,"column":29,"nodeType":"Property","messageId":"missingPropType","endLine":3,"endColumn":34},{"ruleId":"react/prop-types","severity":1,"message":"'value' is missing in props validation","line":3,"column":36,"nodeType":"Property","messageId":"missingPropType","endLine":3,"endColumn":41},{"ruleId":"react/prop-types","severity":1,"message":"'icon' is missing in props validation","line":3,"column":43,"nodeType":"Property","messageId":"missingPropType","endLine":3,"endColumn":47},{"ruleId":"react/prop-types","severity":1,"message":"'color' is missing in props validation","line":3,"column":49,"nodeType":"Property","messageId":"missingPropType","endLine":3,"endColumn":65},{"ruleId":"react/prop-types","severity":1,"message":"'trend' is missing in props validation","line":3,"column":67,"nodeType":"Property","messageId":"missingPropType","endLine":3,"endColumn":72},{"ruleId":"react/prop-types","severity":1,"message":"'isLoading' is missing in props validation","line":3,"column":74,"nodeType":"Property","messageId":"missingPropType","endLine":3,"endColumn":83},{"ruleId":"react/prop-types","severity":1,"message":"'trend.direction' is missing in props validation","line":71,"column":98,"nodeType":"Identifier","messageId":"missingPropType","endLine":71,"endColumn":107},{"ruleId":"react/prop-types","severity":1,"message":"'trend.direction' is missing in props validation","line":73,"column":40,"nodeType":"Identifier","messageId":"missingPropType","endLine":73,"endColumn":49},{"ruleId":"react/prop-types","severity":1,"message":"'trend.value' is missing in props validation","line":82,"column":46,"nodeType":"Identifier","messageId":"missingPropType","endLine":82,"endColumn":51}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useEffect, useState } from 'react';\r\n\r\nexport function StatsCard({ label, value, icon, color = 'indigo', trend, isLoading }) {\r\n    const [displayValue, setDisplayValue] = useState(0);\r\n\r\n    // Animated counter effect\r\n    useEffect(() => {\r\n        if (isLoading || typeof value !== 'number') return;\r\n\r\n        const duration = 1000; // 1 second\r\n        const steps = 30;\r\n        const increment = value / steps;\r\n        let current = 0;\r\n\r\n        const timer = setInterval(() => {\r\n            current += increment;\r\n            if (current >= value) {\r\n                setDisplayValue(value);\r\n                clearInterval(timer);\r\n            } else {\r\n                setDisplayValue(Math.floor(current));\r\n            }\r\n        }, duration / steps);\r\n\r\n        return () => clearInterval(timer);\r\n    }, [value, isLoading]);\r\n\r\n    const colorClasses = {\r\n        indigo: {\r\n            bg: 'from-indigo-500 to-purple-600',\r\n            text: 'text-indigo-600',\r\n            lightBg: 'bg-indigo-50',\r\n            icon: 'text-indigo-600'\r\n        },\r\n        green: {\r\n            bg: 'from-green-500 to-emerald-600',\r\n            text: 'text-green-600',\r\n            lightBg: 'bg-green-50',\r\n            icon: 'text-green-600'\r\n        },\r\n        orange: {\r\n            bg: 'from-orange-500 to-red-600',\r\n            text: 'text-orange-600',\r\n            lightBg: 'bg-orange-50',\r\n            icon: 'text-orange-600'\r\n        },\r\n        purple: {\r\n            bg: 'from-purple-500 to-pink-600',\r\n            text: 'text-purple-600',\r\n            lightBg: 'bg-purple-50',\r\n            icon: 'text-purple-600'\r\n        }\r\n    };\r\n\r\n    const colors = colorClasses[color] || colorClasses.indigo;\r\n\r\n    return (\r\n        <div className=\"bg-white p-6 rounded-2xl shadow-sm border border-gray-100 hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 group\">\r\n            <div className=\"flex items-start justify-between\">\r\n                <div className=\"flex-1\">\r\n                    <p className=\"text-gray-500 text-sm font-medium mb-2\">{label}</p>\r\n                    <div className=\"flex items-baseline gap-2\">\r\n                        <p className={`text-3xl font-bold ${colors.text} transition-all duration-300`}>\r\n                            {isLoading ? (\r\n                                <span className=\"inline-block w-20 h-8 bg-gray-200 rounded animate-pulse\" />\r\n                            ) : (\r\n                                typeof value === 'number' ? displayValue.toLocaleString() : value\r\n                            )}\r\n                        </p>\r\n                        {trend && (\r\n                            <div className={`flex items-center gap-1 text-sm font-medium ${trend.direction === 'up' ? 'text-green-600' : 'text-red-600'\r\n                                }`}>\r\n                                {trend.direction === 'up' ? (\r\n                                    <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 10l7-7m0 0l7 7m-7-7v18\" />\r\n                                    </svg>\r\n                                ) : (\r\n                                    <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 14l-7 7m0 0l-7-7m7 7V3\" />\r\n                                    </svg>\r\n                                )}\r\n                                <span>{trend.value}%</span>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                    {trend && (\r\n                        <p className=\"text-xs text-gray-500 mt-1\">vs last month</p>\r\n                    )}\r\n                </div>\r\n                <div className={`w-14 h-14 rounded-xl bg-gradient-to-br ${colors.bg} flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform duration-300`}>\r\n                    <div className=\"text-white\">\r\n                        {icon}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\New folder\\BusTicketFrontEnd\\src\\components\\admin\\TicketManager.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\New folder\\BusTicketFrontEnd\\src\\components\\busDetail.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\New folder\\BusTicketFrontEnd\\src\\components\\ui\\Button.jsx","messages":[{"ruleId":"react/prop-types","severity":1,"message":"'children' is missing in props validation","line":14,"column":5,"nodeType":"Property","messageId":"missingPropType","endLine":14,"endColumn":13},{"ruleId":"react/prop-types","severity":1,"message":"'variant' is missing in props validation","line":15,"column":5,"nodeType":"Property","messageId":"missingPropType","endLine":15,"endColumn":24},{"ruleId":"react/prop-types","severity":1,"message":"'size' is missing in props validation","line":16,"column":5,"nodeType":"Property","messageId":"missingPropType","endLine":16,"endColumn":16},{"ruleId":"react/prop-types","severity":1,"message":"'loading' is missing in props validation","line":17,"column":5,"nodeType":"Property","messageId":"missingPropType","endLine":17,"endColumn":20},{"ruleId":"react/prop-types","severity":1,"message":"'disabled' is missing in props validation","line":18,"column":5,"nodeType":"Property","messageId":"missingPropType","endLine":18,"endColumn":21},{"ruleId":"react/prop-types","severity":1,"message":"'fullWidth' is missing in props validation","line":19,"column":5,"nodeType":"Property","messageId":"missingPropType","endLine":19,"endColumn":22},{"ruleId":"react/prop-types","severity":1,"message":"'className' is missing in props validation","line":20,"column":5,"nodeType":"Property","messageId":"missingPropType","endLine":20,"endColumn":19}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from 'react';\r\n\r\n/**\r\n * Reusable Button Component\r\n * \r\n * @param {string} variant - Button style variant (primary, secondary, danger, success)\r\n * @param {string} size - Button size (sm, md, lg)\r\n * @param {boolean} loading - Show loading state\r\n * @param {boolean} disabled - Disable button\r\n * @param {boolean} fullWidth - Make button full width\r\n * @param {React.ReactNode} children - Button content\r\n */\r\nexport function Button({\r\n    children,\r\n    variant = 'primary',\r\n    size = 'md',\r\n    loading = false,\r\n    disabled = false,\r\n    fullWidth = false,\r\n    className = '',\r\n    ...props\r\n}) {\r\n    const baseClasses = 'rounded-lg font-semibold transition-all duration-200 inline-flex items-center justify-center';\r\n\r\n    const variants = {\r\n        primary: 'bg-indigo-600 text-white hover:bg-indigo-700 active:bg-indigo-800 shadow-sm hover:shadow-md',\r\n        secondary: 'bg-gray-200 text-gray-800 hover:bg-gray-300 active:bg-gray-400',\r\n        danger: 'bg-red-600 text-white hover:bg-red-700 active:bg-red-800 shadow-sm hover:shadow-md',\r\n        success: 'bg-green-600 text-white hover:bg-green-700 active:bg-green-800 shadow-sm hover:shadow-md',\r\n        outline: 'border-2 border-indigo-600 text-indigo-600 hover:bg-indigo-50 active:bg-indigo-100'\r\n    };\r\n\r\n    const sizes = {\r\n        sm: 'px-3 py-1.5 text-sm',\r\n        md: 'px-4 py-2 text-base',\r\n        lg: 'px-6 py-3 text-lg'\r\n    };\r\n\r\n    const computedClassName = `\r\n        ${baseClasses} \r\n        ${variants[variant]} \r\n        ${sizes[size]} \r\n        ${fullWidth ? 'w-full' : ''}\r\n        ${disabled || loading ? 'opacity-50 cursor-not-allowed' : 'cursor-pointer'}\r\n        ${className}\r\n    `.trim().replace(/\\s+/g, ' ');\r\n\r\n    return (\r\n        <button\r\n            className={computedClassName}\r\n            disabled={disabled || loading}\r\n            {...props}\r\n        >\r\n            {loading && (\r\n                <svg\r\n                    className=\"animate-spin -ml-1 mr-2 h-4 w-4\"\r\n                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                    fill=\"none\"\r\n                    viewBox=\"0 0 24 24\"\r\n                >\r\n                    <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\r\n                    <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\r\n                </svg>\r\n            )}\r\n            {loading ? 'Loading...' : children}\r\n        </button>\r\n    );\r\n}\r\n\r\nexport default Button;\r\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\New folder\\BusTicketFrontEnd\\src\\components\\ui\\ConfirmDialog.jsx","messages":[{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\n  21 |     useEffect(() => {\n  22 |         if (isOpen) {\n> 23 |             setIsVisible(true);\n     |             ^^^^^^^^^^^^ Avoid calling setState() directly within an effect\n  24 |         } else {\n  25 |             const timer = setTimeout(() => setIsVisible(false), 200);\n  26 |             return () => clearTimeout(timer);","line":23,"column":13,"nodeType":null,"endLine":23,"endColumn":25}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\n/**\r\n * Reusable Confirmation Dialog Component\r\n * Production-ready with accessibility and animations\r\n */\r\nexport default function ConfirmDialog({\r\n    isOpen,\r\n    onClose,\r\n    onConfirm,\r\n    title = 'Confirm Action',\r\n    message,\r\n    confirmText = 'Confirm',\r\n    cancelText = 'Cancel',\r\n    variant = 'default', // 'default', 'danger', 'success'\r\n    confirmLoading = false\r\n}) {\r\n    const [isVisible, setIsVisible] = useState(false);\r\n\r\n    useEffect(() => {\r\n        if (isOpen) {\r\n            setIsVisible(true);\r\n        } else {\r\n            const timer = setTimeout(() => setIsVisible(false), 200);\r\n            return () => clearTimeout(timer);\r\n        }\r\n    }, [isOpen]);\r\n\r\n    useEffect(() => {\r\n        const handleEscape = (e) => {\r\n            if (e.key === 'Escape' && isOpen) {\r\n                onClose();\r\n            }\r\n        };\r\n\r\n        document.addEventListener('keydown', handleEscape);\r\n        return () => document.removeEventListener('keydown', handleEscape);\r\n    }, [isOpen, onClose]);\r\n\r\n    if (!isVisible) return null;\r\n\r\n    const variantStyles = {\r\n        default: {\r\n            button: 'bg-indigo-600 hover:bg-indigo-700 text-white',\r\n            icon: 'text-indigo-600'\r\n        },\r\n        danger: {\r\n            button: 'bg-red-600 hover:bg-red-700 text-white',\r\n            icon: 'text-red-600'\r\n        },\r\n        success: {\r\n            button: 'bg-emerald-600 hover:bg-emerald-700 text-white',\r\n            icon: 'text-emerald-600'\r\n        }\r\n    };\r\n\r\n    const styles = variantStyles[variant];\r\n\r\n    return (\r\n        <div\r\n            className={`fixed inset-0 z-50 flex items-center justify-center p-4 transition-opacity duration-200 ${isOpen ? 'opacity-100' : 'opacity-0'\r\n                }`}\r\n            role=\"dialog\"\r\n            aria-modal=\"true\"\r\n            aria-labelledby=\"dialog-title\"\r\n        >\r\n            {/* Backdrop */}\r\n            <div\r\n                className=\"absolute inset-0 bg-black bg-opacity-50 transition-opacity\"\r\n                onClick={onClose}\r\n                aria-hidden=\"true\"\r\n            ></div>\r\n\r\n            {/* Dialog */}\r\n            <div\r\n                className={`relative bg-white dark:bg-slate-800 rounded-xl shadow-xl max-w-md w-full transform transition-all duration-200 ${isOpen ? 'scale-100 opacity-100' : 'scale-95 opacity-0'\r\n                    }`}\r\n            >\r\n                <div className=\"p-6\">\r\n                    {/* Icon */}\r\n                    <div className={`w-12 h-12 rounded-full bg-opacity-10 flex items-center justify-center mb-4 ${variant === 'danger' ? 'bg-red-100' : variant === 'success' ? 'bg-emerald-100' : 'bg-indigo-100'\r\n                        }`}>\r\n                        {variant === 'danger' ? (\r\n                            <svg className={`w-6 h-6 ${styles.icon}`} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\" />\r\n                            </svg>\r\n                        ) : variant === 'success' ? (\r\n                            <svg className={`w-6 h-6 ${styles.icon}`} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\r\n                            </svg>\r\n                        ) : (\r\n                            <svg className={`w-6 h-6 ${styles.icon}`} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n                            </svg>\r\n                        )}\r\n                    </div>\r\n\r\n                    {/* Title */}\r\n                    <h3\r\n                        id=\"dialog-title\"\r\n                        className=\"text-xl font-semibold text-slate-900 dark:text-white mb-2\"\r\n                    >\r\n                        {title}\r\n                    </h3>\r\n\r\n                    {/* Message */}\r\n                    <p className=\"text-slate-600 dark:text-slate-300 mb-6\">\r\n                        {message}\r\n                    </p>\r\n\r\n                    {/* Actions */}\r\n                    <div className=\"flex gap-3\">\r\n                        <button\r\n                            type=\"button\"\r\n                            onClick={onClose}\r\n                            disabled={confirmLoading}\r\n                            className=\"flex-1 px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-700 dark:text-slate-300 font-medium hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                        >\r\n                            {cancelText}\r\n                        </button>\r\n                        <button\r\n                            type=\"button\"\r\n                            onClick={onConfirm}\r\n                            disabled={confirmLoading}\r\n                            className={`flex-1 px-4 py-2 rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed ${styles.button}`}\r\n                        >\r\n                            {confirmLoading ? (\r\n                                <span className=\"flex items-center justify-center gap-2\">\r\n                                    <svg className=\"animate-spin h-4 w-4\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n                                        <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\r\n                                        <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\r\n                                    </svg>\r\n                                    Processing...\r\n                                </span>\r\n                            ) : (\r\n                                confirmText\r\n                            )}\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nConfirmDialog.propTypes = {\r\n    isOpen: PropTypes.bool.isRequired,\r\n    onClose: PropTypes.func.isRequired,\r\n    onConfirm: PropTypes.func.isRequired,\r\n    title: PropTypes.string,\r\n    message: PropTypes.string.isRequired,\r\n    confirmText: PropTypes.string,\r\n    cancelText: PropTypes.string,\r\n    variant: PropTypes.oneOf(['default', 'danger', 'success']),\r\n    confirmLoading: PropTypes.bool\r\n};\r\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\New folder\\BusTicketFrontEnd\\src\\components\\ui\\LoadingSpinner.jsx","messages":[{"ruleId":"react/prop-types","severity":1,"message":"'size' is missing in props validation","line":11,"column":5,"nodeType":"Property","messageId":"missingPropType","endLine":11,"endColumn":16},{"ruleId":"react/prop-types","severity":1,"message":"'text' is missing in props validation","line":12,"column":5,"nodeType":"Property","messageId":"missingPropType","endLine":12,"endColumn":24},{"ruleId":"react/prop-types","severity":1,"message":"'fullScreen' is missing in props validation","line":13,"column":5,"nodeType":"Property","messageId":"missingPropType","endLine":13,"endColumn":23}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from 'react';\r\n\r\n/**\r\n * Loading Spinner Component\r\n * \r\n * @param {string} size - Spinner size (sm, md, lg, xl)\r\n * @param {string} text - Optional loading text\r\n * @param {boolean} fullScreen - Show as full screen overlay\r\n */\r\nexport function LoadingSpinner({\r\n    size = 'md',\r\n    text = 'Loading...',\r\n    fullScreen = false\r\n}) {\r\n    const sizes = {\r\n        sm: 'w-4 h-4 border-2',\r\n        md: 'w-8 h-8 border-3',\r\n        lg: 'w-12 h-12 border-4',\r\n        xl: 'w-16 h-16 border-4'\r\n    };\r\n\r\n    const spinner = (\r\n        <div className=\"flex flex-col items-center justify-center gap-4\">\r\n            <div\r\n                className={`\r\n                    ${sizes[size]} \r\n                    border-indigo-200 \r\n                    border-t-indigo-600 \r\n                    rounded-full \r\n                    animate-spin\r\n                `}\r\n            ></div>\r\n            {text && (\r\n                <p className=\"text-gray-600 font-medium animate-pulse\">\r\n                    {text}\r\n                </p>\r\n            )}\r\n        </div>\r\n    );\r\n\r\n    if (fullScreen) {\r\n        return (\r\n            <div className=\"fixed inset-0 bg-white/80 backdrop-blur-sm flex items-center justify-center z-50\">\r\n                {spinner}\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"flex items-center justify-center p-8\">\r\n            {spinner}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default LoadingSpinner;\r\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\New folder\\BusTicketFrontEnd\\src\\config\\api.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\New folder\\BusTicketFrontEnd\\src\\config\\store.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\New folder\\BusTicketFrontEnd\\src\\context\\busdetails.jsx","messages":[{"ruleId":"react/prop-types","severity":1,"message":"'children' is missing in props validation","line":5,"column":35,"nodeType":"Property","messageId":"missingPropType","endLine":5,"endColumn":43}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { createContext, useState } from \"react\";\r\n\r\nconst BusListContext = createContext(null);\r\n\r\nexport function BusListProvider({ children }) {\r\n  const [busList, setBusList] = useState(null);\r\n\r\n  return (\r\n    <BusListContext.Provider value={{ busList, setBusList }}>\r\n      {children}\r\n    </BusListContext.Provider>\r\n  );\r\n}\r\n\r\nexport default BusListContext;\r\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\New folder\\BusTicketFrontEnd\\src\\context\\selectedbus.jsx","messages":[{"ruleId":"react/prop-types","severity":1,"message":"'children' is missing in props validation","line":5,"column":39,"nodeType":"Property","messageId":"missingPropType","endLine":5,"endColumn":47}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { createContext, useState } from \"react\";\r\n\r\nconst SelectedBusContext = createContext([]);\r\n\r\nexport function SelectedBusProvider({ children }) {\r\n  const [selectedBus, setSelectedBus] = useState(null);\r\n\r\n  return (\r\n    <SelectedBusContext.Provider value={{ selectedBus, setSelectedBus }}>\r\n      {children}\r\n    </SelectedBusContext.Provider>\r\n  );\r\n}\r\n\r\nexport default SelectedBusContext;\r\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\New folder\\BusTicketFrontEnd\\src\\core\\constants\\index.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\New folder\\BusTicketFrontEnd\\src\\functions\\auth\\login.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\New folder\\BusTicketFrontEnd\\src\\functions\\auth\\signup.jsx","messages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":6,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":6,"endColumn":16,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[136,154],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":10,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":10,"endColumn":18,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[269,296],"text":""},"desc":"Remove the console.log()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { toast } from \"react-toastify\";\r\nimport axiosInstance from \"..\";\r\n\r\nexport const signupByData = async (data) => {\r\n  try {\r\n    console.log(data);\r\n    \r\n    const response = await axiosInstance.post(\"/auth/create-user\", data);\r\n    if (response.data) {\r\n      console.log(response.data);\r\n      return response.data;\r\n    }\r\n    toast.error(response.data.message);\r\n    return null;\r\n  } catch (error) {\r\n    toast.error(`${error}`);\r\n  }\r\n};\r\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\New folder\\BusTicketFrontEnd\\src\\functions\\index.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\New folder\\BusTicketFrontEnd\\src\\hooks\\useApi.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\New folder\\BusTicketFrontEnd\\src\\index.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\New folder\\BusTicketFrontEnd\\src\\pages\\AdminLogin.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\New folder\\BusTicketFrontEnd\\src\\pages\\BusList.jsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useCallback has a missing dependency: 'loadMoreBuses'. Either include it or remove the dependency array.","line":62,"column":6,"nodeType":"ArrayExpression","endLine":62,"endColumn":24,"suggestions":[{"desc":"Update the dependencies array to be: [loading, hasMore, loadMoreBuses]","fix":{"range":[2126,2144],"text":"[loading, hasMore, loadMoreBuses]"}}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'loadMoreBuses'. Either include it or remove the dependency array.","line":108,"column":6,"nodeType":"ArrayExpression","endLine":108,"endColumn":20,"suggestions":[{"desc":"Update the dependencies array to be: [loadMoreBuses, searchParams]","fix":{"range":[3294,3308],"text":"[loadMoreBuses, searchParams]"}}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useContext, useState, useEffect, useMemo, useRef, useCallback } from \"react\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport BusDetail from \"../components/busDetail\";\r\nimport NavigationBar from \"../components/Navbar\";\r\nimport BusListContext from \"../context/busdetails\";\r\nimport Footer from \"../components/Footer\";\r\nimport { busService } from \"../services/bus.service\";\r\nimport LoadingSpinner from \"../components/ui/LoadingSpinner\";\r\nimport Button from \"../components/ui/Button\";\r\n\r\nconst BusList = () => {\r\n  const { setBusList } = useContext(BusListContext);\r\n  const location = useLocation();\r\n\r\n  // State for infinite scroll\r\n  const [buses, setBuses] = useState([]);\r\n  const [cursor, setCursor] = useState(null);\r\n  const [hasMore, setHasMore] = useState(true);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [initialLoadComplete, setInitialLoadComplete] = useState(false);\r\n\r\n  // Search params from navigation or local storage\r\n  const searchParams = useMemo(() => {\r\n    if (location.state?.source && location.state?.destination && location.state?.date) {\r\n      return {\r\n        source: location.state.source,\r\n        destination: location.state.destination,\r\n        date: location.state.date\r\n      };\r\n    }\r\n\r\n    // Fallback to local storage if available\r\n    try {\r\n      const stored = localStorage.getItem(\"searchDetails\");\r\n      if (stored) {\r\n        return JSON.parse(stored);\r\n      }\r\n    } catch (e) {\r\n      console.error(\"Failed to parse stored search details\", e);\r\n    }\r\n\r\n    return null;\r\n  }, [location.state]);\r\n\r\n  const [filters, setFilters] = useState({\r\n    maxPrice: \"\",\r\n    busType: \"\",\r\n  });\r\n\r\n  // Observer for infinite scroll\r\n  const observer = useRef();\r\n  const lastBusElementRef = useCallback(node => {\r\n    if (loading) return;\r\n    if (observer.current) observer.current.disconnect();\r\n    observer.current = new IntersectionObserver(entries => {\r\n      if (entries[0].isIntersecting && hasMore) {\r\n        loadMoreBuses();\r\n      }\r\n    });\r\n    if (node) observer.current.observe(node);\r\n  }, [loading, hasMore]);\r\n\r\n  const loadMoreBuses = async (isInitial = false) => {\r\n    if (loading || (!isInitial && !hasMore)) return;\r\n\r\n    if (!searchParams) {\r\n      setLoading(false);\r\n      setInitialLoadComplete(true);\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    setError(null);\r\n\r\n    try {\r\n      const currentCursor = isInitial ? null : cursor;\r\n      const response = await busService.searchBuses({\r\n        ...searchParams,\r\n        cursor: currentCursor,\r\n        pageSize: 10\r\n      });\r\n\r\n      setBuses(prev => {\r\n        const newBuses = isInitial ? response.buses : [...prev, ...response.buses];\r\n        // Update context for other components if needed\r\n        setBusList(newBuses);\r\n        return newBuses;\r\n      });\r\n\r\n      setCursor(response.nextCursor);\r\n      setHasMore(response.hasMore);\r\n    } catch (err) {\r\n      setError(err.message || \"Failed to load buses\");\r\n    } finally {\r\n      setLoading(false);\r\n      setInitialLoadComplete(true);\r\n    }\r\n  };\r\n\r\n  // Initial load\r\n  useEffect(() => {\r\n    setBuses([]);\r\n    setCursor(null);\r\n    setHasMore(true);\r\n    setInitialLoadComplete(false);\r\n    loadMoreBuses(true);\r\n  }, [searchParams]);\r\n\r\n  const handleFilterChange = (event) => {\r\n    const { name, value } = event.target;\r\n    setFilters((prevFilters) => ({\r\n      ...prevFilters,\r\n      [name]: value,\r\n    }));\r\n  };\r\n\r\n  const getStartingFare = (bus) => {\r\n    if (!bus || !Array.isArray(bus.seats) || bus.seats.length === 0) return 0;\r\n    return Math.min(...bus.seats.map((s) => Number(s.price) || 0));\r\n  };\r\n\r\n  const filteredBuses = useMemo(() => {\r\n    return (buses || []).filter((bus) => {\r\n      const fare = getStartingFare(bus);\r\n      const maxPriceOk =\r\n        filters.maxPrice === \"\" || fare <= Number(filters.maxPrice || 0);\r\n      const typeOk = filters.busType === \"\" || bus.busType === filters.busType;\r\n      return maxPriceOk && typeOk;\r\n    });\r\n  }, [buses, filters]);\r\n\r\n  if (!initialLoadComplete && loading && buses.length === 0) {\r\n    return (\r\n      <div className=\"min-h-screen bg-slate-50 flex flex-col\">\r\n        <NavigationBar />\r\n        <main className=\"flex-grow flex items-center justify-center\">\r\n          <LoadingSpinner size=\"lg\" text=\"Finding the best buses for you...\" />\r\n        </main>\r\n        <Footer />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error && buses.length === 0) {\r\n    return (\r\n      <div className=\"min-h-screen bg-slate-50 flex flex-col\">\r\n        <NavigationBar />\r\n        <main className=\"flex-grow flex items-center justify-center\">\r\n          <div className=\"text-center p-8 bg-white rounded-xl shadow-sm border border-red-100 max-w-md\">\r\n            <div className=\"w-16 h-16 bg-red-50 rounded-full flex items-center justify-center mx-auto mb-4\">\r\n              <svg className=\"w-8 h-8 text-red-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n              </svg>\r\n            </div>\r\n            <h3 className=\"text-lg font-bold text-slate-900 mb-2\">Something went wrong</h3>\r\n            <p className=\"text-slate-600 mb-6\">{error}</p>\r\n            <Button onClick={() => window.location.reload()}>Try Again</Button>\r\n          </div>\r\n        </main>\r\n        <Footer />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-slate-50 flex flex-col\">\r\n      <NavigationBar />\r\n\r\n      <main className=\"flex-grow pt-24 pb-12 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto w-full\">\r\n        <div className=\"flex flex-col lg:flex-row gap-8\">\r\n          {/* Filters Sidebar */}\r\n          <aside className=\"w-full lg:w-64 flex-shrink-0\">\r\n            <div className=\"bg-white rounded-xl shadow-sm border border-slate-200 p-6 sticky top-24\">\r\n              <div className=\"flex items-center justify-between mb-6\">\r\n                <h3 className=\"text-lg font-bold text-slate-900\">Filters</h3>\r\n                <button\r\n                  className=\"text-sm text-indigo-600 hover:text-indigo-700 font-medium\"\r\n                  onClick={() => setFilters({ maxPrice: \"\", busType: \"\" })}\r\n                >\r\n                  Reset\r\n                </button>\r\n              </div>\r\n\r\n              <div className=\"space-y-6\">\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-slate-700 mb-2\">Max Price</label>\r\n                  <div className=\"relative\">\r\n                    <span className=\"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 text-sm\">Rs.</span>\r\n                    <input\r\n                      type=\"number\"\r\n                      name=\"maxPrice\"\r\n                      min={0}\r\n                      placeholder=\"e.g. 2000\"\r\n                      value={filters.maxPrice}\r\n                      onChange={handleFilterChange}\r\n                      className=\"input-field pl-10\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-slate-700 mb-2\">Bus Type</label>\r\n                  <select\r\n                    name=\"busType\"\r\n                    value={filters.busType}\r\n                    onChange={handleFilterChange}\r\n                    className=\"input-field\"\r\n                  >\r\n                    <option value=\"\">All Types</option>\r\n                    <option value=\"Deluxe\">Deluxe</option>\r\n                    <option value=\"Luxury\">Luxury</option>\r\n                    <option value=\"Standard\">Standard</option>\r\n                  </select>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"mt-6 pt-6 border-t border-slate-100\">\r\n                <p className=\"text-sm text-slate-500 text-center\">\r\n                  Found {filteredBuses.length} buses\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </aside>\r\n\r\n          {/* Bus List */}\r\n          <div className=\"flex-1\">\r\n            <div className=\"mb-6 flex items-center justify-between\">\r\n              <h2 className=\"text-2xl font-bold text-slate-900\">Available Buses</h2>\r\n              <div className=\"text-sm text-slate-500\">\r\n                Showing {filteredBuses.length} results\r\n              </div>\r\n            </div>\r\n\r\n            {filteredBuses.length === 0 && !loading ? (\r\n              <div className=\"bg-white rounded-xl shadow-sm border border-slate-200 p-12 text-center\">\r\n                <div className=\"w-16 h-16 bg-slate-100 rounded-full flex items-center justify-center mx-auto mb-4\">\r\n                  <svg className=\"w-8 h-8 text-slate-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n                  </svg>\r\n                </div>\r\n                <h3 className=\"text-lg font-medium text-slate-900 mb-2\">No buses found</h3>\r\n                <p className=\"text-slate-500\">Try adjusting your filters or search criteria.</p>\r\n              </div>\r\n            ) : (\r\n              <div className=\"space-y-4\">\r\n                {filteredBuses.map((bus, index) => {\r\n                  if (index === filteredBuses.length - 1) {\r\n                    return (\r\n                      <div ref={lastBusElementRef} key={bus.id || bus._id || index}>\r\n                        <BusDetail bus={bus} />\r\n                      </div>\r\n                    );\r\n                  } else {\r\n                    return <BusDetail bus={bus} key={bus.id || bus._id || index} />;\r\n                  }\r\n                })}\r\n              </div>\r\n            )}\r\n\r\n            {/* Loading more indicator */}\r\n            {loading && buses.length > 0 && (\r\n              <div className=\"py-8 flex justify-center\">\r\n                <LoadingSpinner size=\"md\" />\r\n              </div>\r\n            )}\r\n\r\n            {!hasMore && buses.length > 0 && (\r\n              <div className=\"py-8 text-center text-slate-500 text-sm\">\r\n                You&apos;ve reached the end of the list.\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </main>\r\n\r\n      <Footer />\r\n    </div>\r\n  );\r\n};\r\nexport default BusList;\r\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\New folder\\BusTicketFrontEnd\\src\\pages\\ChangePassword.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\New folder\\BusTicketFrontEnd\\src\\pages\\Homepage.jsx","messages":[{"ruleId":"no-unused-vars","severity":1,"message":"'MovieSearchComponent' is defined but never used.","line":5,"column":8,"nodeType":"Identifier","messageId":"unusedVar","endLine":5,"endColumn":28}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState } from \"react\";\r\nimport NavigationBar from \"../components/Navbar\";\r\nimport ImageSearchComponent from \"../components/ImageSearchComponent\";\r\nimport HotelSearchComponent from \"../components/HotelSearchComponent\";\r\nimport MovieSearchComponent from \"../components/MovieSearchComponent\";\r\nimport PlaneSearchComponent from \"../components/PlaneSearchComponent\";\r\nimport Footer from \"../components/Footer\";\r\n\r\nexport default function HomePage() {\r\n  const [activeTab, setActiveTab] = useState('bus');\r\n\r\n  return (\r\n    <div className=\"min-h-screen w-full bg-slate-50 flex flex-col\">\r\n      <NavigationBar />\r\n\r\n      <main className=\"flex-grow pt-16\">\r\n        {/* Hero Section */}\r\n        <div className=\"relative bg-indigo-900 overflow-hidden\">\r\n          <div className=\"absolute inset-0 bg-[url('https://images.unsplash.com/photo-1544620347-c4fd4a3d5957?q=80&w=2069&auto=format&fit=crop')] bg-cover bg-center opacity-20\"></div>\r\n          <div className=\"absolute inset-0 bg-gradient-to-r from-indigo-900/90 to-indigo-900/40\"></div>\r\n\r\n          <div className=\"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20 lg:py-32\">\r\n            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center\">\r\n              <div className=\"space-y-8 animate-slide-up\">\r\n                <h1 className=\"text-4xl sm:text-5xl lg:text-6xl font-extrabold text-white leading-tight\">\r\n                  Your All-in-One <span className=\"text-indigo-400\">Ticketing</span> <br />\r\n                  Platform\r\n                </h1>\r\n                <p className=\"text-lg text-indigo-100 max-w-xl leading-relaxed\">\r\n                  Book buses, flights, movie tickets, and hotels all in one place.\r\n                  Seamless booking experience with secure payments and instant confirmations.\r\n                </p>\r\n\r\n                <div className=\"flex flex-wrap gap-4\">\r\n                  <a\r\n                    href=\"#search\"\r\n                    className=\"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-lg shadow-sm text-indigo-900 bg-white hover:bg-indigo-50 transition-colors duration-200\"\r\n                  >\r\n                    Book Now\r\n                  </a>\r\n                  <a\r\n                    href=\"/admin/login\"\r\n                    className=\"inline-flex items-center px-6 py-3 border border-white/30 text-base font-medium rounded-lg text-white hover:bg-white/10 transition-colors duration-200 backdrop-blur-sm\"\r\n                  >\r\n                    Admin Access\r\n                  </a>\r\n                </div>\r\n              </div>\r\n\r\n              <div id=\"search\" className=\"relative animate-fade-in delay-100\">\r\n                {/* Tabs */}\r\n                <div className=\"flex mb-4 bg-white/10 backdrop-blur-md rounded-lg p-1 w-fit mx-auto lg:mx-0 border border-white/20\">\r\n                  <button\r\n                    onClick={() => setActiveTab('bus')}\r\n                    className={`px-6 py-2 rounded-md text-sm font-medium transition-all duration-200 ${activeTab === 'bus'\r\n                      ? 'bg-white text-indigo-900 shadow-sm'\r\n                      : 'text-white hover:bg-white/10'\r\n                      }`}\r\n                  >\r\n                    Bus\r\n                  </button>\r\n                  <button\r\n                    onClick={() => setActiveTab('hotel')}\r\n                    className={`px-6 py-2 rounded-md text-sm font-medium transition-all duration-200 ${activeTab === 'hotel'\r\n                      ? 'bg-white text-indigo-900 shadow-sm'\r\n                      : 'text-white hover:bg-white/10'\r\n                      }`}\r\n                  >\r\n                    Hotel\r\n                  </button>\r\n                  <button\r\n                    onClick={() => setActiveTab('movie')}\r\n                    className={`px-6 py-2 rounded-md text-sm font-medium transition-all duration-200 ${activeTab === 'movie'\r\n                      ? 'bg-white text-indigo-900 shadow-sm'\r\n                      : 'text-white hover:bg-white/10'\r\n                      }`}\r\n                  >\r\n                    Movies\r\n                  </button>\r\n                  <button\r\n                    onClick={() => setActiveTab('plane')}\r\n                    className={`px-6 py-2 rounded-md text-sm font-medium transition-all duration-200 ${activeTab === 'plane'\r\n                      ? 'bg-white text-indigo-900 shadow-sm'\r\n                      : 'text-white hover:bg-white/10'\r\n                      }`}\r\n                  >\r\n                    Flights\r\n                  </button>\r\n                </div>\r\n\r\n                <div className=\"bg-white/10 backdrop-blur-md rounded-2xl p-2 shadow-2xl border border-white/20\">\r\n                  <div className=\"bg-white rounded-xl overflow-hidden shadow-inner\">\r\n                    {activeTab === 'bus' && <ImageSearchComponent />}\r\n                    {activeTab === 'hotel' && <HotelSearchComponent />}\r\n                    {activeTab === 'movie' && (\r\n                      <div className=\"p-8 text-center\">\r\n                        <h3 className=\"text-xl font-bold text-gray-800 mb-4\">Book QFX Cinema Tickets</h3>\r\n                        <p className=\"text-gray-600 mb-6\">Experience the best movies in town.</p>\r\n                        <a\r\n                          href=\"/qfx/movies\"\r\n                          className=\"inline-block px-8 py-3 bg-orange-600 text-white font-bold rounded-lg hover:bg-orange-700 transition-colors\"\r\n                        >\r\n                          Browse Movies\r\n                        </a>\r\n                      </div>\r\n                    )}\r\n                    {activeTab === 'plane' && <PlaneSearchComponent />}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Features / How it works */}\r\n        <section className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20\">\r\n          <div className=\"text-center mb-16\">\r\n            <h2 className=\"text-3xl font-bold text-slate-900\">Simple Booking Process</h2>\r\n            <p className=\"mt-4 text-lg text-slate-600\">Get your ticket in 3 easy steps</p>\r\n          </div>\r\n\r\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-8\">\r\n            {[\r\n              {\r\n                title: \"Search\",\r\n                desc: \"Enter your origin, destination, and travel date to find available buses.\",\r\n                icon: (\r\n                  <svg className=\"w-8 h-8 text-indigo-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\" />\r\n                  </svg>\r\n                )\r\n              },\r\n              {\r\n                title: \"Select Seat\",\r\n                desc: \"View real-time seat availability and choose the perfect spot for your journey.\",\r\n                icon: (\r\n                  <svg className=\"w-8 h-8 text-indigo-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 5v2m0 4v2m0 4v2M5 5a2 2 0 00-2 2v3a2 2 0 110 4v3a2 2 0 002 2h14a2 2 0 002-2v-3a2 2 0 110-4V7a2 2 0 00-2-2H5z\" />\r\n                  </svg>\r\n                )\r\n              },\r\n              {\r\n                title: \"Pay & Go\",\r\n                desc: \"Securely pay for your ticket and receive instant confirmation via email/SMS.\",\r\n                icon: (\r\n                  <svg className=\"w-8 h-8 text-indigo-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n                  </svg>\r\n                )\r\n              }\r\n            ].map((item, idx) => (\r\n              <div key={idx} className=\"bg-white rounded-xl p-8 shadow-sm border border-slate-100 hover:shadow-md transition-shadow duration-200 text-center group\">\r\n                <div className=\"w-16 h-16 mx-auto bg-indigo-50 rounded-full flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-200\">\r\n                  {item.icon}\r\n                </div>\r\n                <h3 className=\"text-xl font-bold text-slate-900 mb-3\">{item.title}</h3>\r\n                <p className=\"text-slate-600 leading-relaxed\">{item.desc}</p>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </section>\r\n      </main>\r\n\r\n      <Footer />\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\New folder\\BusTicketFrontEnd\\src\\pages\\OtpModal.jsx","messages":[{"ruleId":"react/prop-types","severity":1,"message":"'isOpen' is missing in props validation","line":3,"column":21,"nodeType":"Property","messageId":"missingPropType","endLine":3,"endColumn":27},{"ruleId":"react/prop-types","severity":1,"message":"'onClose' is missing in props validation","line":3,"column":29,"nodeType":"Property","messageId":"missingPropType","endLine":3,"endColumn":36},{"ruleId":"react/prop-types","severity":1,"message":"'onSubmit' is missing in props validation","line":3,"column":38,"nodeType":"Property","messageId":"missingPropType","endLine":3,"endColumn":46}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from 'react';\r\n\r\nfunction OtpModal({ isOpen, onClose, onSubmit }) {\r\n  const [otp, setOtp] = React.useState('');\r\n\r\n  const handleSubmit = () => {\r\n    onSubmit(otp);\r\n    setOtp(''); \r\n  };\r\n\r\n  if (!isOpen) return null; \r\n\r\n  return (\r\n    <div className=\"fixed inset-0 flex items-center justify-center bg-gray-800 bg-opacity-50\">\r\n      <div className=\"bg-white p-6 rounded-md shadow-lg\">\r\n        <h2 className=\"text-xl font-bold mb-4\">Enter OTP</h2>\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"OTP\"\r\n          value={otp}\r\n          onChange={(e) => setOtp(e.target.value)}\r\n          className=\"w-full p-2 border border-gray-300 rounded-md mb-4\"\r\n        />\r\n        <div className=\"flex justify-end\">\r\n          <button\r\n            onClick={onClose}\r\n            className=\"bg-red-500 text-white px-4 py-2 rounded-md mr-2\"\r\n          >\r\n            Cancel\r\n          </button>\r\n          <button\r\n            onClick={handleSubmit}\r\n            className=\"bg-blue-600 text-white px-4 py-2 rounded-md\"\r\n          >\r\n            Submit\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default OtpModal;\r\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\New folder\\BusTicketFrontEnd\\src\\pages\\PlaneList.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\New folder\\BusTicketFrontEnd\\src\\pages\\PlaneSeatSelection.jsx","messages":[{"ruleId":"no-unused-vars","severity":1,"message":"'setSelectedFlight' is assigned a value but never used.","line":12,"column":28,"nodeType":"Identifier","messageId":"unusedVar","endLine":12,"endColumn":45}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport NavigationBar from \"../components/Navbar\";\r\nimport Footer from \"../components/Footer\";\r\nimport { SeatIcon } from \"../components/SeatIcon\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nconst PlaneSeatSelection = () => {\r\n    const navigate = useNavigate();\r\n\r\n    // Initialize state with localStorage data (lazy initialization)\r\n    const [selectedFlight, setSelectedFlight] = useState(() => {\r\n        try {\r\n            const storedData = JSON.parse(localStorage.getItem(\"planeListDetails\"));\r\n            return storedData?.selectedFlight || null;\r\n        } catch (error) {\r\n            console.error(\"Error parsing localStorage:\", error);\r\n            return null;\r\n        }\r\n    });\r\n\r\n    const [selectedSeats, setSelectedSeats] = useState([]);\r\n    const [passengerDetails, setPassengerDetails] = useState({\r\n        name: \"\",\r\n        email: \"\",\r\n        contact: \"\"\r\n    });\r\n\r\n    // Separate effect only for navigation\r\n    useEffect(() => {\r\n        if (!selectedFlight) {\r\n            navigate(\"/plane-list\");\r\n        }\r\n    }, [selectedFlight, navigate]);\r\n\r\n    const handleSeatClick = (seat) => {\r\n        if (seat.reserved) return;\r\n\r\n        setSelectedSeats(prev => {\r\n            if (prev.find(s => s.seatNumber === seat.seatNumber)) {\r\n                return prev.filter(s => s.seatNumber !== seat.seatNumber);\r\n            } else {\r\n                return [...prev, seat];\r\n            }\r\n        });\r\n    };\r\n\r\n    const totalCost = selectedSeats.reduce((sum, seat) => sum + seat.price, 0);\r\n\r\n    const handleBooking = () => {\r\n        if (selectedSeats.length === 0) {\r\n            toast.error(\"Please select at least one seat.\");\r\n            return;\r\n        }\r\n        if (!passengerDetails.name || !passengerDetails.email || !passengerDetails.contact) {\r\n            toast.error(\"Please fill in all passenger details.\");\r\n            return;\r\n        }\r\n\r\n        // Mock booking process\r\n        const bookingData = {\r\n            flight: selectedFlight,\r\n            seats: selectedSeats,\r\n            passenger: passengerDetails,\r\n            totalCost,\r\n            bookingId: `BK-${Math.floor(Math.random() * 10000)}`,\r\n            date: new Date().toISOString()\r\n        };\r\n\r\n        localStorage.setItem(\"planeBookingConfirmation\", JSON.stringify(bookingData));\r\n        navigate(\"/plane-confirm\");\r\n    };\r\n\r\n    if (!selectedFlight) return null;\r\n\r\n    // Group seats into rows for 3-3 layout\r\n    const rows = [];\r\n    const seats = selectedFlight.seats || [];\r\n    for (let i = 0; i < seats.length; i += 6) {\r\n        rows.push(seats.slice(i, i + 6));\r\n    }\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-slate-50 flex flex-col\">\r\n            <NavigationBar />\r\n\r\n            <main className=\"flex-grow pt-24 pb-12 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto w-full\">\r\n                <h1 className=\"text-3xl font-bold text-slate-900 mb-8\">Select Your Seats</h1>\r\n\r\n                <div className=\"flex flex-col lg:flex-row gap-8\">\r\n                    {/* Left Column: Seat Map */}\r\n                    <div className=\"flex-1\">\r\n                        <div className=\"bg-white rounded-xl shadow-sm border border-slate-200 p-8\">\r\n                            <div className=\"flex justify-center mb-8\">\r\n                                <div className=\"w-full max-w-md bg-slate-100 rounded-t-full p-8 pb-4 border-x-4 border-t-4 border-slate-300 relative\">\r\n                                    {/* Cockpit area visual */}\r\n                                    <div className=\"absolute top-4 left-1/2 -translate-x-1/2 w-16 h-16 bg-slate-200 rounded-full opacity-50\"></div>\r\n\r\n                                    <div className=\"space-y-4 relative z-10\">\r\n                                        <div className=\"flex justify-between px-8 text-xs font-bold text-slate-400 mb-2\">\r\n                                            <div className=\"flex gap-4\"><span>A</span><span>B</span><span>C</span></div>\r\n                                            <div className=\"flex gap-4\"><span>D</span><span>E</span><span>F</span></div>\r\n                                        </div>\r\n\r\n                                        {rows.map((row, rowIndex) => (\r\n                                            <div key={rowIndex} className=\"flex justify-between items-center gap-8\">\r\n                                                <div className=\"flex gap-2\">\r\n                                                    {row.slice(0, 3).map(seat => (\r\n                                                        <SeatIcon\r\n                                                            key={seat.seatNumber}\r\n                                                            status={seat.reserved ? 'booked' : selectedSeats.find(s => s.seatNumber === seat.seatNumber) ? 'selected' : 'available'}\r\n                                                            seatNumber={seat.seatNumber}\r\n                                                            className=\"w-10 h-10 cursor-pointer hover:scale-110 transition-transform\"\r\n                                                            onClick={() => handleSeatClick(seat)}\r\n                                                        />\r\n                                                    ))}\r\n                                                </div>\r\n                                                <div className=\"text-xs text-slate-300 font-mono\">{rowIndex + 1}</div>\r\n                                                <div className=\"flex gap-2\">\r\n                                                    {row.slice(3, 6).map(seat => (\r\n                                                        <SeatIcon\r\n                                                            key={seat.seatNumber}\r\n                                                            status={seat.reserved ? 'booked' : selectedSeats.find(s => s.seatNumber === seat.seatNumber) ? 'selected' : 'available'}\r\n                                                            seatNumber={seat.seatNumber}\r\n                                                            className=\"w-10 h-10 cursor-pointer hover:scale-110 transition-transform\"\r\n                                                            onClick={() => handleSeatClick(seat)}\r\n                                                        />\r\n                                                    ))}\r\n                                                </div>\r\n                                            </div>\r\n                                        ))}\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"flex justify-center gap-6 mt-8 text-sm border-t border-slate-100 pt-6\">\r\n                                <div className=\"flex items-center gap-2\">\r\n                                    <SeatIcon status=\"available\" className=\"w-5 h-5\" />\r\n                                    <span className=\"text-slate-600\">Available</span>\r\n                                </div>\r\n                                <div className=\"flex items-center gap-2\">\r\n                                    <SeatIcon status=\"booked\" className=\"w-5 h-5\" />\r\n                                    <span className=\"text-slate-600\">Booked</span>\r\n                                </div>\r\n                                <div className=\"flex items-center gap-2\">\r\n                                    <SeatIcon status=\"selected\" className=\"w-5 h-5\" />\r\n                                    <span className=\"text-slate-600\">Selected</span>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Right Column: Details & Form */}\r\n                    <div className=\"lg:w-96 flex-shrink-0 space-y-6\">\r\n                        {/* Flight Summary */}\r\n                        <div className=\"bg-white rounded-xl shadow-sm border border-slate-200 p-6\">\r\n                            <h3 className=\"text-lg font-bold text-slate-900 mb-4\">Flight Summary</h3>\r\n                            <div className=\"space-y-3 text-sm\">\r\n                                <div className=\"flex justify-between\">\r\n                                    <span className=\"text-slate-500\">Airline</span>\r\n                                    <span className=\"font-medium text-slate-900\">{selectedFlight.airline}</span>\r\n                                </div>\r\n                                <div className=\"flex justify-between\">\r\n                                    <span className=\"text-slate-500\">Flight No</span>\r\n                                    <span className=\"font-medium text-slate-900\">{selectedFlight.flightNumber}</span>\r\n                                </div>\r\n                                <div className=\"flex justify-between\">\r\n                                    <span className=\"text-slate-500\">Route</span>\r\n                                    <span className=\"font-medium text-slate-900\">{selectedFlight.source} - {selectedFlight.destination}</span>\r\n                                </div>\r\n                                <div className=\"flex justify-between\">\r\n                                    <span className=\"text-slate-500\">Date</span>\r\n                                    <span className=\"font-medium text-slate-900\">{new Date(selectedFlight.departureDateTime).toLocaleDateString()}</span>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Passenger Form */}\r\n                        <div className=\"bg-white rounded-xl shadow-sm border border-slate-200 p-6\">\r\n                            <h3 className=\"text-lg font-bold text-slate-900 mb-4\">Passenger Details</h3>\r\n                            <div className=\"space-y-4\">\r\n                                <div>\r\n                                    <label className=\"block text-sm font-medium text-slate-700 mb-1\">Full Name</label>\r\n                                    <input\r\n                                        type=\"text\"\r\n                                        value={passengerDetails.name}\r\n                                        onChange={(e) => setPassengerDetails({ ...passengerDetails, name: e.target.value })}\r\n                                        className=\"w-full p-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500\"\r\n                                        placeholder=\"John Doe\"\r\n                                    />\r\n                                </div>\r\n                                <div>\r\n                                    <label className=\"block text-sm font-medium text-slate-700 mb-1\">Email</label>\r\n                                    <input\r\n                                        type=\"email\"\r\n                                        value={passengerDetails.email}\r\n                                        onChange={(e) => setPassengerDetails({ ...passengerDetails, email: e.target.value })}\r\n                                        className=\"w-full p-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500\"\r\n                                        placeholder=\"john@example.com\"\r\n                                    />\r\n                                </div>\r\n                                <div>\r\n                                    <label className=\"block text-sm font-medium text-slate-700 mb-1\">Phone</label>\r\n                                    <input\r\n                                        type=\"tel\"\r\n                                        value={passengerDetails.contact}\r\n                                        onChange={(e) => setPassengerDetails({ ...passengerDetails, contact: e.target.value })}\r\n                                        className=\"w-full p-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500\"\r\n                                        placeholder=\"+977 9800000000\"\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Price & Checkout */}\r\n                        <div className=\"bg-white rounded-xl shadow-sm border border-slate-200 p-6 sticky top-24\">\r\n                            <div className=\"flex justify-between items-center mb-4\">\r\n                                <span className=\"text-slate-600\">Selected Seats ({selectedSeats.length})</span>\r\n                                <span className=\"font-bold text-slate-900\">{selectedSeats.map(s => s.seatNumber).join(\", \")}</span>\r\n                            </div>\r\n                            <div className=\"flex justify-between items-center text-lg font-bold text-slate-900 mb-6 pt-4 border-t border-slate-100\">\r\n                                <span>Total Amount</span>\r\n                                <span className=\"text-sky-600\">NPR {totalCost}</span>\r\n                            </div>\r\n                            <button\r\n                                onClick={handleBooking}\r\n                                disabled={selectedSeats.length === 0}\r\n                                className=\"w-full bg-sky-600 hover:bg-sky-700 text-white font-bold py-3 rounded-lg shadow-md hover:shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                            >\r\n                                Confirm Booking\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </main>\r\n\r\n            <Footer />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default PlaneSeatSelection;","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\New folder\\BusTicketFrontEnd\\src\\pages\\PlaneTicketConfirm.jsx","messages":[{"ruleId":"no-unused-vars","severity":1,"message":"'setBookingData' is assigned a value but never used.","line":10,"column":25,"nodeType":"Identifier","messageId":"unusedVar","endLine":10,"endColumn":39}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useEffect, useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport NavigationBar from \"../components/Navbar\";\r\nimport Footer from \"../components/Footer\";\r\n\r\nconst PlaneTicketConfirm = () => {\r\n    const navigate = useNavigate();\r\n\r\n    // Initialize state with localStorage data directly (lazy initialization)\r\n    const [bookingData, setBookingData] = useState(() => {\r\n        try {\r\n            const data = JSON.parse(localStorage.getItem(\"planeListDetails\"));\r\n            return data && data.selectedFlight ? data : null;\r\n        } catch (error) {\r\n            console.error(\"Error parsing localStorage:\", error);\r\n            return null;\r\n        }\r\n    });\r\n\r\n    // Separate effect ONLY for navigation check\r\n    useEffect(() => {\r\n        if (!bookingData) {\r\n            navigate(\"/plane-list\");\r\n        }\r\n    }, [bookingData, navigate]);\r\n\r\n    if (!bookingData) return null;\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-slate-50 flex flex-col\">\r\n            <NavigationBar />\r\n\r\n            <main className=\"flex-grow pt-24 pb-12 px-4 sm:px-6 lg:px-8 max-w-3xl mx-auto w-full\">\r\n                <div className=\"bg-white rounded-2xl shadow-lg overflow-hidden border border-slate-200\">\r\n                    {/* Header */}\r\n                    <div className=\"bg-sky-600 px-8 py-6 text-white text-center\">\r\n                        <div className=\"w-16 h-16 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-4\">\r\n                            <svg className=\"w-8 h-8 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\r\n                            </svg>\r\n                        </div>\r\n                        <h1 className=\"text-3xl font-bold\">Booking Confirmed!</h1>\r\n                        <p className=\"text-sky-100 mt-2\">Your flight ticket has been successfully booked.</p>\r\n                    </div>\r\n\r\n                    {/* Ticket Body */}\r\n                    <div className=\"p-8\">\r\n                        <div className=\"flex justify-between items-start mb-8 pb-8 border-b border-slate-100\">\r\n                            <div>\r\n                                <p className=\"text-sm text-slate-500 mb-1\">Booking ID</p>\r\n                                <p className=\"text-xl font-mono font-bold text-slate-900\">{bookingData.bookingId}</p>\r\n                            </div>\r\n                            <div className=\"text-right\">\r\n                                <p className=\"text-sm text-slate-500 mb-1\">Date</p>\r\n                                <p className=\"font-medium text-slate-900\">{new Date(bookingData.date).toLocaleDateString()}</p>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Flight Info */}\r\n                        <div className=\"bg-slate-50 rounded-xl p-6 mb-8 border border-slate-100\">\r\n                            <div className=\"flex items-center justify-between mb-6\">\r\n                                <div className=\"flex items-center gap-3\">\r\n                                    <div className=\"w-10 h-10 bg-white rounded-lg flex items-center justify-center shadow-sm\">\r\n                                        <svg className=\"w-6 h-6 text-sky-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={1.5} d=\"M12 19l9 2-9-18-9 18 9-2zm0 0v-8\" />\r\n                                        </svg>\r\n                                    </div>\r\n                                    <div>\r\n                                        <h3 className=\"font-bold text-slate-900\">{bookingData.flight.airline}</h3>\r\n                                        <p className=\"text-xs text-slate-500\">{bookingData.flight.flightNumber}</p>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"text-right\">\r\n                                    <p className=\"text-sm font-medium text-slate-900\">{bookingData.flight.classType}</p>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"flex items-center justify-between\">\r\n                                <div>\r\n                                    <p className=\"text-2xl font-bold text-slate-900\">\r\n                                        {new Date(bookingData.flight.departureDateTime).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}\r\n                                    </p>\r\n                                    <p className=\"text-sm text-slate-500\">{bookingData.flight.source}</p>\r\n                                </div>\r\n                                <div className=\"flex-1 px-8 flex flex-col items-center\">\r\n                                    <div className=\"w-full h-px bg-slate-300 relative top-3\"></div>\r\n                                    <svg className=\"w-5 h-5 text-slate-400 relative z-10 bg-slate-50 px-1 transform rotate-90\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 10l7-7m0 0l7 7m-7-7v18\" />\r\n                                    </svg>\r\n                                </div>\r\n                                <div className=\"text-right\">\r\n                                    <p className=\"text-2xl font-bold text-slate-900\">\r\n                                        {new Date(bookingData.flight.arrivalDateTime).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}\r\n                                    </p>\r\n                                    <p className=\"text-sm text-slate-500\">{bookingData.flight.destination}</p>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Passenger & Seat Info */}\r\n                        <div className=\"grid grid-cols-2 gap-8 mb-8\">\r\n                            <div>\r\n                                <p className=\"text-sm text-slate-500 mb-1\">Passenger</p>\r\n                                <p className=\"font-medium text-slate-900\">{bookingData.passenger.name}</p>\r\n                                <p className=\"text-xs text-slate-500\">{bookingData.passenger.email}</p>\r\n                            </div>\r\n                            <div className=\"text-right\">\r\n                                <p className=\"text-sm text-slate-500 mb-1\">Seats</p>\r\n                                <p className=\"font-medium text-slate-900\">{bookingData.seats.map(s => s.seatNumber).join(\", \")}</p>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Total */}\r\n                        <div className=\"flex justify-between items-center pt-6 border-t border-slate-100\">\r\n                            <span className=\"text-slate-600\">Total Paid</span>\r\n                            <span className=\"text-2xl font-bold text-sky-600\">NPR {bookingData.totalCost}</span>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Footer Actions */}\r\n                    <div className=\"bg-slate-50 px-8 py-6 border-t border-slate-200 flex justify-center gap-4\">\r\n                        <button\r\n                            onClick={() => window.print()}\r\n                            className=\"px-6 py-2 bg-white border border-slate-300 rounded-lg text-slate-700 font-medium hover:bg-slate-50 transition-colors\"\r\n                        >\r\n                            Print Ticket\r\n                        </button>\r\n                        <button\r\n                            onClick={() => navigate(\"/\")}\r\n                            className=\"px-6 py-2 bg-sky-600 text-white rounded-lg font-medium hover:bg-sky-700 transition-colors\"\r\n                        >\r\n                            Back to Home\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </main>\r\n\r\n            <Footer />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default PlaneTicketConfirm;","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\New folder\\BusTicketFrontEnd\\src\\pages\\QfxBookingConfirmation.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\New folder\\BusTicketFrontEnd\\src\\pages\\QfxMovieDetails.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\New folder\\BusTicketFrontEnd\\src\\pages\\QfxMovies.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\New folder\\BusTicketFrontEnd\\src\\pages\\QfxSeatSelection.jsx","messages":[{"ruleId":"no-unused-vars","severity":1,"message":"'isSelected' is assigned a value but never used.","line":152,"column":55,"nodeType":"Identifier","messageId":"unusedVar","endLine":152,"endColumn":65}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useEffect, useState } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport QfxService from '../services/qfx.service';\r\nimport MainLayout from '../components/MainLayout';\r\nimport { toast } from 'react-toastify';\r\n\r\nconst QfxSeatSelection = () => {\r\n    const { showtimeId } = useParams();\r\n    const navigate = useNavigate();\r\n    const [layout, setLayout] = useState(null);\r\n    const [selectedSeats, setSelectedSeats] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [processing, setProcessing] = useState(false);\r\n\r\n    useEffect(() => {\r\n        const fetchLayout = async () => {\r\n            try {\r\n                const res = await QfxService.getSeatLayout(showtimeId);\r\n                setLayout(res.data);\r\n            } catch (error) {\r\n                console.error('Error fetching seat layout:', error);\r\n                toast.error('Failed to load seat layout');\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n\r\n        fetchLayout();\r\n    }, [showtimeId]);\r\n\r\n    const handleSeatClick = (seat) => {\r\n        if (seat.Status === 'BOOKED') return;\r\n\r\n        // Use SeatID if available, fallback to id or SeatNumber\r\n        const seatId = seat.SeatID || seat.id || seat.SeatNumber;\r\n        const isSelected = selectedSeats.some((s) => (s.SeatID || s.id || s.SeatNumber) === seatId);\r\n\r\n        if (isSelected) {\r\n            setSelectedSeats(selectedSeats.filter((s) => (s.SeatID || s.id || s.SeatNumber) !== seatId));\r\n        } else {\r\n            setSelectedSeats([...selectedSeats, seat]);\r\n        }\r\n    };\r\n\r\n    const calculateTotal = () => {\r\n        return selectedSeats.reduce((total, seat) => total + seat.Price, 0);\r\n    };\r\n\r\n    const handleProceed = async () => {\r\n        if (selectedSeats.length === 0) {\r\n            toast.warning('Please select at least one seat');\r\n            return;\r\n        }\r\n\r\n        setProcessing(true);\r\n        try {\r\n            const user = JSON.parse(localStorage.getItem('user'));\r\n            if (!user) {\r\n                toast.error('Please login to book tickets');\r\n                navigate('/login');\r\n                return;\r\n            }\r\n\r\n            const bookingData = {\r\n                customerId: user.id || 'CUST001', // Fallback for demo\r\n                amount: calculateTotal(),\r\n                metadata: {\r\n                    showtimeId: showtimeId,\r\n                    movieName: layout.MovieName,\r\n                    showTime: layout.ShowTime,\r\n                    seats: selectedSeats.map(s => s.SeatNumber).join(','),\r\n                    customerName: user.name || 'Guest User',\r\n                    customerEmail: user.email || 'guest@example.com',\r\n                    customerPhone: user.phone || '9800000000'\r\n                }\r\n            };\r\n\r\n            const res = await QfxService.bookTicket(bookingData);\r\n            if (res.status === 200 || res.status === 201) {\r\n                toast.success('Booking successful!');\r\n                navigate('/qfx/confirmation', {\r\n                    state: {\r\n                        booking: res.data,\r\n                        movieName: layout.MovieName,\r\n                        cinemaName: layout.CinemaName,\r\n                        showTime: layout.ShowTime,\r\n                        seats: selectedSeats.map(s => s.SeatNumber).join(',')\r\n                    }\r\n                });\r\n            }\r\n        } catch (error) {\r\n            console.error('Booking failed:', error);\r\n            toast.error('Booking failed. Please try again.');\r\n        } finally {\r\n            setProcessing(false);\r\n        }\r\n    };\r\n\r\n    if (loading) {\r\n        return (\r\n            <MainLayout>\r\n                <div className=\"flex justify-center items-center h-screen\">\r\n                    <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500\"></div>\r\n                </div>\r\n            </MainLayout>\r\n        );\r\n    }\r\n\r\n    if (!layout) {\r\n        return (\r\n            <MainLayout>\r\n                <div className=\"text-center py-12 text-gray-500\">Layout not found.</div>\r\n            </MainLayout>\r\n        );\r\n    }\r\n\r\n    // Group seats by row\r\n    const rows = {};\r\n    // Check if layout.Seats exists and is an array\r\n    const seats = Array.isArray(layout.Seats) ? layout.Seats : [];\r\n\r\n    seats.forEach(seat => {\r\n        const row = seat.SeatNumber.charAt(0);\r\n        if (!rows[row]) rows[row] = [];\r\n        rows[row].push(seat);\r\n    });\r\n\r\n    return (\r\n        <MainLayout>\r\n            <div className=\"bg-gray-900 text-white min-h-screen py-8 px-4\">\r\n                <div className=\"max-w-5xl mx-auto\">\r\n                    <div className=\"mb-8 text-center\">\r\n                        <h1 className=\"text-3xl font-bold mb-2\">{layout.MovieName}</h1>\r\n                        <p className=\"text-gray-400\">\r\n                            {layout.CinemaName} | {new Date(layout.ShowTime).toLocaleString()}\r\n                        </p>\r\n                    </div>\r\n\r\n                    <div className=\"flex flex-col lg:flex-row gap-8\">\r\n                        {/* Seat Map */}\r\n                        <div className=\"flex-1 bg-gray-800 rounded-lg p-8 overflow-x-auto\">\r\n                            <div className=\"w-full h-2 bg-gray-600 rounded-full mb-12 relative\">\r\n                                <span className=\"absolute top-4 left-1/2 transform -translate-x-1/2 text-gray-400 text-sm uppercase tracking-widest\">Screen</span>\r\n                            </div>\r\n\r\n                            <div className=\"space-y-4 min-w-[600px]\">\r\n                                {Object.keys(rows).sort().map(rowLabel => (\r\n                                    <div key={rowLabel} className=\"flex items-center justify-center gap-4\">\r\n                                        <span className=\"w-6 text-center font-bold text-gray-500\">{rowLabel}</span>\r\n                                        <div className=\"flex gap-2\">\r\n                                            {rows[rowLabel].sort((a, b) => parseInt(a.SeatNumber.slice(1)) - parseInt(b.SeatNumber.slice(1))).map(seat => {\r\n                                                const isSelected = selectedSeats.some(s => s.id === seat.id); // Assuming id is still lowercase or check API\r\n                                                // Let's assume SeatID or just use SeatNumber as key if ID is missing, but usually ID is there.\r\n                                                // Checking previous mock data, it didn't show seat ID. Let's assume SeatID if available, else fallback.\r\n                                                // Actually, let's stick to PascalCase for everything.\r\n                                                const seatId = seat.SeatID || seat.id;\r\n                                                const isSelectedSeat = selectedSeats.some(s => (s.SeatID || s.id) === seatId);\r\n                                                const isBooked = seat.Status === 'BOOKED';\r\n\r\n                                                let seatColor = 'bg-gray-600 hover:bg-gray-500'; // Available\r\n                                                if (isBooked) seatColor = 'bg-red-900 cursor-not-allowed';\r\n                                                if (isSelectedSeat) seatColor = 'bg-green-500 hover:bg-green-400';\r\n\r\n                                                return (\r\n                                                    <button\r\n                                                        key={seatId}\r\n                                                        disabled={isBooked}\r\n                                                        onClick={() => handleSeatClick(seat)}\r\n                                                        className={`w-8 h-8 rounded-t-lg text-xs flex items-center justify-center transition-colors ${seatColor}`}\r\n                                                        title={`${seat.SeatNumber} - Rs.${seat.Price}`}\r\n                                                    >\r\n                                                        {seat.SeatNumber.slice(1)}\r\n                                                    </button>\r\n                                                );\r\n                                            })}\r\n                                        </div>\r\n                                    </div>\r\n                                ))}\r\n                            </div>\r\n\r\n                            <div className=\"mt-12 flex justify-center gap-8 text-sm\">\r\n                                <div className=\"flex items-center gap-2\">\r\n                                    <div className=\"w-4 h-4 bg-gray-600 rounded\"></div>\r\n                                    <span>Available</span>\r\n                                </div>\r\n                                <div className=\"flex items-center gap-2\">\r\n                                    <div className=\"w-4 h-4 bg-green-500 rounded\"></div>\r\n                                    <span>Selected</span>\r\n                                </div>\r\n                                <div className=\"flex items-center gap-2\">\r\n                                    <div className=\"w-4 h-4 bg-red-900 rounded\"></div>\r\n                                    <span>Booked</span>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Booking Summary */}\r\n                        <div className=\"w-full lg:w-80 bg-gray-800 rounded-lg p-6 h-fit\">\r\n                            <h3 className=\"text-xl font-bold mb-6 border-b border-gray-700 pb-4\">Booking Summary</h3>\r\n\r\n                            <div className=\"space-y-4 mb-6\">\r\n                                <div className=\"flex justify-between text-gray-400\">\r\n                                    <span>Seats</span>\r\n                                    <span className=\"text-white font-medium\">\r\n                                        {selectedSeats.map(s => s.SeatNumber).join(', ') || '-'}\r\n                                    </span>\r\n                                </div>\r\n                                <div className=\"flex justify-between text-gray-400\">\r\n                                    <span>Count</span>\r\n                                    <span className=\"text-white font-medium\">{selectedSeats.length}</span>\r\n                                </div>\r\n                                <div className=\"flex justify-between text-xl font-bold pt-4 border-t border-gray-700\">\r\n                                    <span>Total</span>\r\n                                    <span className=\"text-orange-500\">Rs. {calculateTotal()}</span>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <button\r\n                                onClick={handleProceed}\r\n                                disabled={processing || selectedSeats.length === 0}\r\n                                className=\"w-full bg-orange-600 hover:bg-orange-500 disabled:bg-gray-600 text-white font-bold py-3 rounded-lg transition-colors\"\r\n                            >\r\n                                {processing ? 'Processing...' : 'Confirm Booking'}\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </MainLayout>\r\n    );\r\n};\r\n\r\nexport default QfxSeatSelection;\r\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\New folder\\BusTicketFrontEnd\\src\\pages\\SuperAdminLogin.jsx","messages":[{"ruleId":"no-unused-vars","severity":1,"message":"'Link' is defined but never used.","line":3,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":3,"endColumn":14}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect } from \"react\";\r\nimport { toast } from \"react-toastify\";\r\nimport { Link, useNavigate, useLocation } from \"react-router-dom\";\r\nimport API_CONFIG from \"../config/api\";\r\nimport apiService from \"../services/api.service\";\r\nimport authService, { ROLES } from \"../services/authService\";\r\n\r\nexport default function SuperAdminLogin() {\r\n    const [email, setEmail] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [showPassword, setShowPassword] = useState(false);\r\n    const navigate = useNavigate();\r\n    const location = useLocation();\r\n    const from = location.state?.from?.pathname || \"/admin/panel\";\r\n\r\n    useEffect(() => {\r\n        setEmail(\"\");\r\n        setPassword(\"\");\r\n    }, []);\r\n\r\n    async function handleLogin() {\r\n        const trimmedEmail = (email || \"\").trim();\r\n        if (!trimmedEmail) return toast.error(\"Please enter your email\");\r\n\r\n        if (!password || password.length < 4) return toast.error(\"Please enter your password\");\r\n\r\n        setIsLoading(true);\r\n        try {\r\n            const loginRes = await apiService.post(API_CONFIG.ENDPOINTS.LOGIN, {\r\n                username: trimmedEmail,\r\n                password,\r\n            });\r\n\r\n            if (loginRes && loginRes.ok) {\r\n                const data = await loginRes.json().catch(() => ({}));\r\n                const token = data.token;\r\n                // Backend sends roles as array: [\"ROLE_SUPER_ADMIN\"]\r\n                const role = data.roles || data.role;\r\n                const userData = {\r\n                    email: data.email || trimmedEmail,\r\n                    name: data.name || data.fullName,\r\n                    id: data.id || data.userId\r\n                };\r\n\r\n                // Store authentication data (authService will normalize the role)\r\n                const loginSuccess = authService.login(token, role, userData);\r\n\r\n                if (!loginSuccess) {\r\n                    toast.error(\"Failed to store authentication data\");\r\n                    setIsLoading(false);\r\n                    return;\r\n                }\r\n\r\n                // Enforce SUPER_ADMIN role only\r\n                const normalizedRole = authService.getRole();\r\n                if (normalizedRole !== ROLES.SUPER_ADMIN) {\r\n                    toast.error(\"Access denied. Super Admin credentials required.\");\r\n                    authService.logout(); // Clear the stored data\r\n                    setIsLoading(false);\r\n                    return;\r\n                }\r\n\r\n                setEmail(\"\");\r\n                setPassword(\"\");\r\n\r\n                toast.success(\"Welcome Super Administrator!\");\r\n                navigate(from, { replace: true });\r\n            } else {\r\n                const err = loginRes ? await loginRes.json().catch(() => ({})) : {};\r\n                const msg = err.message || \"Invalid email or password\";\r\n                toast.error(msg);\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Login error:\", error);\r\n            toast.error(\"An error occurred during login\");\r\n        } finally {\r\n            setIsLoading(false);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"min-h-screen flex bg-slate-50\">\r\n            {/* Left Side - Image */}\r\n            <div className=\"hidden lg:flex lg:w-1/2 relative overflow-hidden bg-gradient-to-br from-purple-900 to-indigo-900\">\r\n                <div className=\"absolute inset-0 bg-[url('https://images.unsplash.com/photo-1451187580459-43490279c0fa?q=80&w=2072&auto=format&fit=crop')] bg-cover bg-center opacity-20\"></div>\r\n                <div className=\"absolute inset-0 bg-gradient-to-br from-purple-900/95 to-indigo-900/90\"></div>\r\n                <div className=\"relative z-10 flex flex-col justify-center px-12 text-white\">\r\n                    <div className=\"w-20 h-20 bg-white/10 backdrop-blur-sm rounded-3xl flex items-center justify-center mb-6\">\r\n                        <svg className=\"w-12 h-12 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z\" />\r\n                        </svg>\r\n                    </div>\r\n                    <h2 className=\"text-4xl font-bold mb-6\">Super Admin Portal</h2>\r\n                    <p className=\"text-lg text-purple-100 max-w-md\">\r\n                        Highest level access with full system control. Manage all users, admins, and system configurations.\r\n                    </p>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Right Side - Form */}\r\n            <div className=\"flex-1 flex items-center justify-center p-4 sm:p-12 lg:w-1/2\">\r\n                <div className=\"w-full max-w-md space-y-8 bg-white p-8 rounded-2xl shadow-lg border border-slate-200\">\r\n                    <div className=\"text-center\">\r\n                        <div className=\"w-16 h-16 bg-gradient-to-br from-purple-600 to-indigo-600 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg\">\r\n                            <svg className=\"w-8 h-8 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z\" />\r\n                            </svg>\r\n                        </div>\r\n                        <h1 className=\"text-3xl font-bold bg-gradient-to-r from-purple-600 to-indigo-600 bg-clip-text text-transparent\">\r\n                            Super Admin\r\n                        </h1>\r\n                        <p className=\"mt-2 text-sm text-slate-600\">\r\n                            Restricted access - Super Admin credentials required\r\n                        </p>\r\n                    </div>\r\n\r\n                    <div className=\"space-y-6\">\r\n                        <div>\r\n                            <label htmlFor=\"email\" className=\"block text-sm font-medium text-slate-700 mb-1\">\r\n                                Email Address\r\n                            </label>\r\n                            <input\r\n                                id=\"email\"\r\n                                type=\"email\"\r\n                                value={email}\r\n                                onChange={(e) => setEmail(e.target.value)}\r\n                                className=\"input-field\"\r\n                                placeholder=\"superadmin@example.com\"\r\n                                autoComplete=\"email\"\r\n                                autoFocus\r\n                                onKeyDown={(e) => e.key === 'Enter' && handleLogin()}\r\n                            />\r\n                        </div>\r\n\r\n                        <div>\r\n                            <label htmlFor=\"password\" className=\"block text-sm font-medium text-slate-700 mb-1\">\r\n                                Password\r\n                            </label>\r\n                            <div className=\"relative\">\r\n                                <input\r\n                                    id=\"password\"\r\n                                    type={showPassword ? \"text\" : \"password\"}\r\n                                    value={password}\r\n                                    onChange={(e) => setPassword(e.target.value)}\r\n                                    className=\"input-field pr-10\"\r\n                                    placeholder=\"ΓÇóΓÇóΓÇóΓÇóΓÇóΓÇóΓÇóΓÇó\"\r\n                                    autoComplete=\"current-password\"\r\n                                    onKeyDown={(e) => e.key === 'Enter' && handleLogin()}\r\n                                />\r\n                                <button\r\n                                    type=\"button\"\r\n                                    onClick={() => setShowPassword(!showPassword)}\r\n                                    className=\"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600\"\r\n                                >\r\n                                    {showPassword ? (\r\n                                        <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21\" />\r\n                                        </svg>\r\n                                    ) : (\r\n                                        <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\" />\r\n                                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z\" />\r\n                                        </svg>\r\n                                    )}\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <button\r\n                            onClick={handleLogin}\r\n                            disabled={isLoading}\r\n                            className={`w-full bg-gradient-to-r from-purple-600 to-indigo-600 text-white py-3 rounded-lg font-semibold shadow-lg hover:shadow-xl transition-all flex justify-center items-center ${isLoading ? 'opacity-70 cursor-not-allowed' : ''}`}\r\n                        >\r\n                            {isLoading ? (\r\n                                <svg className=\"animate-spin h-5 w-5 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n                                    <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\r\n                                    <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\r\n                                </svg>\r\n                            ) : (\r\n                                'Sign In as Super Admin'\r\n                            )}\r\n                        </button>\r\n                    </div>\r\n\r\n                    <div className=\"mt-4\">\r\n                        <button\r\n                            onClick={() => navigate(\"/home\")}\r\n                            className=\"w-full btn-secondary py-3 flex justify-center items-center text-purple-600 bg-purple-50 hover:bg-purple-100 border border-purple-200 rounded-lg transition-colors duration-200\"\r\n                        >\r\n                            Back to Home\r\n                        </button>\r\n                    </div>\r\n\r\n                    <div className=\"mt-6 text-center text-sm text-slate-500\">\r\n                        <p>Authorized personnel only</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\New folder\\BusTicketFrontEnd\\src\\pages\\UserLogin.jsx","messages":[{"ruleId":"no-unused-vars","severity":1,"message":"'normalizedRole' is assigned a value but never used.","line":56,"column":23,"nodeType":"Identifier","messageId":"unusedVar","endLine":56,"endColumn":37}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect } from \"react\";\r\nimport { toast } from \"react-toastify\";\r\nimport { Link, useNavigate, useLocation } from \"react-router-dom\";\r\nimport API_CONFIG from \"../config/api\";\r\nimport apiService from \"../services/api.service\";\r\nimport authService, { ROLES } from \"../services/authService\";\r\n\r\nexport default function UserLogin() {\r\n    const [email, setEmail] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [showPassword, setShowPassword] = useState(false);\r\n    const navigate = useNavigate();\r\n    const location = useLocation();\r\n    const from = location.state?.from?.pathname || \"/home\";\r\n\r\n    useEffect(() => {\r\n        setEmail(\"\");\r\n        setPassword(\"\");\r\n    }, []);\r\n\r\n    async function handleLogin() {\r\n        const trimmedEmail = (email || \"\").trim();\r\n        if (!trimmedEmail) return toast.error(\"Please enter your email\");\r\n\r\n        if (!password || password.length < 4) return toast.error(\"Please enter your password\");\r\n\r\n        setIsLoading(true);\r\n        try {\r\n            const loginRes = await apiService.post(API_CONFIG.ENDPOINTS.LOGIN, {\r\n                username: trimmedEmail,\r\n                password,\r\n            });\r\n\r\n            if (loginRes && loginRes.ok) {\r\n                const data = await loginRes.json().catch(() => ({}));\r\n                const token = data.token;\r\n                // Backend sends roles as array: [\"ROLE_USER\"]\r\n                const role = data.roles || data.role || [ROLES.USER];\r\n                const userData = {\r\n                    email: data.email || trimmedEmail,\r\n                    name: data.name || data.fullName,\r\n                    id: data.id || data.userId\r\n                };\r\n\r\n                // Store authentication data (authService will normalize the role)\r\n                const loginSuccess = authService.login(token, role, userData);\r\n\r\n                if (!loginSuccess) {\r\n                    toast.error(\"Failed to store authentication data\");\r\n                    setIsLoading(false);\r\n                    return;\r\n                }\r\n\r\n                // Allow all roles (USER, ADMIN, SUPER_ADMIN) to access user portal\r\n                const normalizedRole = authService.getRole();\r\n\r\n                // Optional: You might want to redirect admins to admin panel if they login here, \r\n                // but the requirement says they should be able to login to user panel.\r\n                // So we just allow it.\r\n\r\n                setEmail(\"\");\r\n                setPassword(\"\");\r\n\r\n                toast.success(\"Login successful!\");\r\n                navigate(from, { replace: true });\r\n            } else {\r\n                const err = loginRes ? await loginRes.json().catch(() => ({})) : {};\r\n                const msg = err.message || \"Invalid email or password\";\r\n                toast.error(msg);\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Login error:\", error);\r\n            toast.error(\"An error occurred during login\");\r\n        } finally {\r\n            setIsLoading(false);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"min-h-screen flex bg-slate-50\">\r\n            {/* Left Side - Image */}\r\n            <div className=\"hidden lg:flex lg:w-1/2 relative overflow-hidden bg-indigo-900\">\r\n                <div className=\"absolute inset-0 bg-[url('https://images.unsplash.com/photo-1544620347-c4fd4a3d5957?q=80&w=2069&auto=format&fit=crop')] bg-cover bg-center opacity-40\"></div>\r\n                <div className=\"absolute inset-0 bg-gradient-to-br from-blue-900/90 to-indigo-900/80\"></div>\r\n                <div className=\"relative z-10 flex flex-col justify-center px-12 text-white\">\r\n                    <h2 className=\"text-4xl font-bold mb-6\">Your Gateway to Seamless Booking</h2>\r\n                    <p className=\"text-lg text-indigo-100 max-w-md\">\r\n                        Sign in to book tickets for buses, flights, movies, and hotels. Manage all your bookings in one place.\r\n                    </p>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Right Side - Form */}\r\n            <div className=\"flex-1 flex items-center justify-center p-4 sm:p-12 lg:w-1/2\">\r\n                <div className=\"w-full max-w-md space-y-8 bg-white p-8 rounded-2xl shadow-sm border border-slate-100\">\r\n                    <div className=\"text-center\">\r\n                        <h1 className=\"text-3xl font-bold text-slate-900\">User Login</h1>\r\n                        <p className=\"mt-2 text-sm text-slate-600\">\r\n                            Enter your credentials to access your account\r\n                        </p>\r\n                    </div>\r\n\r\n                    <div className=\"space-y-6\">\r\n                        <div>\r\n                            <label htmlFor=\"email\" className=\"block text-sm font-medium text-slate-700 mb-1\">\r\n                                Email Address\r\n                            </label>\r\n                            <input\r\n                                id=\"email\"\r\n                                type=\"email\"\r\n                                value={email}\r\n                                onChange={(e) => setEmail(e.target.value)}\r\n                                className=\"input-field\"\r\n                                placeholder=\"you@example.com\"\r\n                                autoComplete=\"email\"\r\n                                autoFocus\r\n                                onKeyDown={(e) => e.key === 'Enter' && handleLogin()}\r\n                            />\r\n                        </div>\r\n\r\n                        <div>\r\n                            <label htmlFor=\"password\" className=\"block text-sm font-medium text-slate-700 mb-1\">\r\n                                Password\r\n                            </label>\r\n                            <div className=\"relative\">\r\n                                <input\r\n                                    id=\"password\"\r\n                                    type={showPassword ? \"text\" : \"password\"}\r\n                                    value={password}\r\n                                    onChange={(e) => setPassword(e.target.value)}\r\n                                    className=\"input-field pr-10\"\r\n                                    placeholder=\"ΓÇóΓÇóΓÇóΓÇóΓÇóΓÇóΓÇóΓÇó\"\r\n                                    autoComplete=\"current-password\"\r\n                                    onKeyDown={(e) => e.key === 'Enter' && handleLogin()}\r\n                                />\r\n                                <button\r\n                                    type=\"button\"\r\n                                    onClick={() => setShowPassword(!showPassword)}\r\n                                    className=\"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600\"\r\n                                >\r\n                                    {showPassword ? (\r\n                                        <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21\" />\r\n                                        </svg>\r\n                                    ) : (\r\n                                        <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\" />\r\n                                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z\" />\r\n                                        </svg>\r\n                                    )}\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <button\r\n                            onClick={handleLogin}\r\n                            disabled={isLoading}\r\n                            className={`w-full btn-primary py-3 flex justify-center items-center ${isLoading ? 'opacity-70 cursor-not-allowed' : ''}`}\r\n                        >\r\n                            {isLoading ? (\r\n                                <svg className=\"animate-spin h-5 w-5 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n                                    <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\r\n                                    <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\r\n                                </svg>\r\n                            ) : (\r\n                                'Sign In'\r\n                            )}\r\n                        </button>\r\n                    </div>\r\n\r\n                    <div className=\"mt-4\">\r\n                        <button\r\n                            onClick={() => navigate(\"/home\")}\r\n                            className=\"w-full btn-secondary py-3 flex justify-center items-center text-indigo-600 bg-indigo-50 hover:bg-indigo-100 border border-indigo-200 rounded-lg transition-colors duration-200\"\r\n                        >\r\n                            Skip Login\r\n                        </button>\r\n                    </div>\r\n\r\n                    <div className=\"mt-6 flex items-center justify-between text-sm\">\r\n                        <Link to=\"/change-password\" className=\"text-indigo-600 hover:text-indigo-500 font-medium\">\r\n                            Forgot password?\r\n                        </Link>\r\n                        <p className=\"text-slate-600\">\r\n                            Don&apos;t have an account?{' '}\r\n                            <Link to=\"/register\" className=\"text-indigo-600 hover:text-indigo-500 font-medium\">\r\n                                Sign up\r\n                            </Link>\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\New folder\\BusTicketFrontEnd\\src\\pages\\UserRegister.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\New folder\\BusTicketFrontEnd\\src\\pages\\admin.jsx","messages":[{"ruleId":"no-unused-vars","severity":1,"message":"'setIsSidebarCollapsed' is assigned a value but never used.","line":17,"column":30,"nodeType":"Identifier","messageId":"unusedVar","endLine":17,"endColumn":51}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useEffect, useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { Sidebar } from \"../components/admin/Sidebar\";\r\nimport { Header } from \"../components/admin/Header\";\r\nimport { Dashboard } from \"../components/admin/Dashboard\";\r\nimport { BusManager } from \"../components/admin/BusManager\";\r\nimport { RouteManager } from \"../components/admin/RouteManager\";\r\nimport { TicketManager } from \"../components/admin/TicketManager\";\r\nimport { AdminRequestManager } from \"../components/admin/AdminRequestManager\";\r\nimport { HotelManager } from \"../components/admin/HotelManager\";\r\nimport { CinemaManager } from \"../components/admin/CinemaManager\";\r\nimport { Settings } from \"../components/admin/Settings\";\r\n\r\nexport function AdminPanel() {\r\n  const navigate = useNavigate();\r\n  const [activeTab, setActiveTab] = useState('dashboard');\r\n  const [isSidebarCollapsed, setIsSidebarCollapsed] = useState(false);\r\n  const [isDarkMode, setIsDarkMode] = useState(() => {\r\n    return localStorage.getItem('theme') === 'dark';\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (isDarkMode) {\r\n      document.documentElement.classList.add('dark');\r\n      localStorage.setItem('theme', 'dark');\r\n    } else {\r\n      document.documentElement.classList.remove('dark');\r\n      localStorage.setItem('theme', 'light');\r\n    }\r\n  }, [isDarkMode]);\r\n\r\n  const toggleDarkMode = () => setIsDarkMode(!isDarkMode);\r\n\r\n  useEffect(() => {\r\n    if (!localStorage.getItem(\"token\")) {\r\n      navigate(\"/admin/login\");\r\n    }\r\n  }, [navigate]);\r\n\r\n  function handleLogout() {\r\n    localStorage.removeItem(\"token\");\r\n    navigate(\"/admin/login\");\r\n  }\r\n\r\n  const renderContent = () => {\r\n    switch (activeTab) {\r\n      case 'dashboard':\r\n        return <Dashboard />;\r\n      case 'buses':\r\n        return <BusManager />;\r\n      case 'routes':\r\n        return <RouteManager />;\r\n      case 'tickets':\r\n        return <TicketManager />;\r\n      case 'requests':\r\n        return <AdminRequestManager />;\r\n      case 'hotels':\r\n        return <HotelManager />;\r\n      case 'cinemas':\r\n        return <CinemaManager />;\r\n      case 'settings':\r\n        return <Settings isDarkMode={isDarkMode} toggleDarkMode={toggleDarkMode} />;\r\n      default:\r\n        return <Dashboard />;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={`min-h-screen flex ${isDarkMode ? 'dark' : ''} bg-gray-50 dark:bg-gray-900 transition-colors duration-300`}>\r\n      <Sidebar activeTab={activeTab} setActiveTab={setActiveTab} onLogout={handleLogout} />\r\n\r\n      <main className={`flex-1 ${isSidebarCollapsed ? 'ml-20' : 'ml-72'} transition-all duration-300 flex flex-col`}>\r\n        <Header\r\n          isDarkMode={isDarkMode}\r\n          toggleDarkMode={toggleDarkMode}\r\n          onProfileSettings={() => setActiveTab('settings')}\r\n        />\r\n\r\n        <div className=\"flex-1 p-8 overflow-y-auto\">\r\n          <div className=\"max-w-7xl mx-auto\">\r\n            {renderContent()}\r\n          </div>\r\n        </div>\r\n      </main>\r\n    </div>\r\n  );\r\n}","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\New folder\\BusTicketFrontEnd\\src\\pages\\error-page.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\New folder\\BusTicketFrontEnd\\src\\pages\\login.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\New folder\\BusTicketFrontEnd\\src\\pages\\register.jsx","messages":[{"ruleId":"react/prop-types","severity":1,"message":"'id' is missing in props validation","line":47,"column":28,"nodeType":"Property","messageId":"missingPropType","endLine":47,"endColumn":30},{"ruleId":"react/prop-types","severity":1,"message":"'label' is missing in props validation","line":47,"column":32,"nodeType":"Property","messageId":"missingPropType","endLine":47,"endColumn":37},{"ruleId":"react/prop-types","severity":1,"message":"'error' is missing in props validation","line":47,"column":39,"nodeType":"Property","messageId":"missingPropType","endLine":47,"endColumn":44},{"ruleId":"react/prop-types","severity":1,"message":"'touched' is missing in props validation","line":47,"column":46,"nodeType":"Property","messageId":"missingPropType","endLine":47,"endColumn":53},{"ruleId":"react/prop-types","severity":1,"message":"'onChange' is missing in props validation","line":47,"column":55,"nodeType":"Property","messageId":"missingPropType","endLine":47,"endColumn":63},{"ruleId":"react/prop-types","severity":1,"message":"'value' is missing in props validation","line":47,"column":65,"nodeType":"Property","messageId":"missingPropType","endLine":47,"endColumn":70},{"ruleId":"react/prop-types","severity":1,"message":"'value.name' is missing in props validation","line":72,"column":22,"nodeType":"Identifier","messageId":"missingPropType","endLine":72,"endColumn":26},{"ruleId":"react/prop-types","severity":1,"message":"'id' is missing in props validation","line":98,"column":23,"nodeType":"Property","messageId":"missingPropType","endLine":98,"endColumn":25},{"ruleId":"react/prop-types","severity":1,"message":"'type' is missing in props validation","line":98,"column":27,"nodeType":"Property","messageId":"missingPropType","endLine":98,"endColumn":31},{"ruleId":"react/prop-types","severity":1,"message":"'label' is missing in props validation","line":98,"column":33,"nodeType":"Property","messageId":"missingPropType","endLine":98,"endColumn":38},{"ruleId":"react/prop-types","severity":1,"message":"'icon' is missing in props validation","line":98,"column":40,"nodeType":"Property","messageId":"missingPropType","endLine":98,"endColumn":50},{"ruleId":"react/prop-types","severity":1,"message":"'placeholder' is missing in props validation","line":98,"column":52,"nodeType":"Property","messageId":"missingPropType","endLine":98,"endColumn":63},{"ruleId":"react/prop-types","severity":1,"message":"'error' is missing in props validation","line":111,"column":19,"nodeType":"Identifier","messageId":"missingPropType","endLine":111,"endColumn":24},{"ruleId":"react/prop-types","severity":1,"message":"'touched' is missing in props validation","line":111,"column":34,"nodeType":"Identifier","messageId":"missingPropType","endLine":111,"endColumn":41},{"ruleId":"react/prop-types","severity":1,"message":"'error' is missing in props validation","line":119,"column":12,"nodeType":"Identifier","messageId":"missingPropType","endLine":119,"endColumn":17},{"ruleId":"react/prop-types","severity":1,"message":"'touched' is missing in props validation","line":119,"column":27,"nodeType":"Identifier","messageId":"missingPropType","endLine":119,"endColumn":34},{"ruleId":"react/prop-types","severity":1,"message":"'error' is missing in props validation","line":124,"column":16,"nodeType":"Identifier","messageId":"missingPropType","endLine":124,"endColumn":21}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":17,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useEffect, useState } from \"react\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport { toast } from \"react-toastify\";\r\nimport { useFormik } from \"formik\";\r\nimport { adminRegistrationValidation } from \"../validations/auth.validations\";\r\nimport API_CONFIG from \"../config/api\";\r\nimport ApiService from \"../services/api.service\";\r\n\r\n// Icons\r\nconst UserIcon = () => (\r\n  <svg className=\"w-5 h-5 text-slate-400\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\" />\r\n  </svg>\r\n);\r\n\r\nconst EmailIcon = () => (\r\n  <svg className=\"w-5 h-5 text-slate-400\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z\" />\r\n  </svg>\r\n);\r\n\r\nconst PhoneIcon = () => (\r\n  <svg className=\"w-5 h-5 text-slate-400\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z\" />\r\n  </svg>\r\n);\r\n\r\nconst CardIcon = () => (\r\n  <svg className=\"w-5 h-5 text-slate-400\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M10 6H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V8a2 2 0 00-2-2h-5m-4 0V5a2 2 0 114 0v1m-4 0a2 2 0 104 0m-5 8a2 2 0 100-4 2 2 0 000 4zm0 0c1.306 0 2.417.835 2.83 2M9 14a3.001 3.001 0 00-2.83 2M15 11h3m-3 4h2\" />\r\n  </svg>\r\n);\r\n\r\nconst UploadIcon = () => (\r\n  <svg className=\"w-8 h-8 text-indigo-500 mb-2\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12\" />\r\n  </svg>\r\n);\r\n\r\nconst CheckIcon = () => (\r\n  <svg className=\"w-5 h-5 text-green-500\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\r\n  </svg>\r\n);\r\n\r\n// Components defined OUTSIDE the main component to prevent re-rendering issues\r\nconst FileUploadField = ({ id, label, error, touched, onChange, value }) => (\r\n  <div className=\"w-full\">\r\n    <label className=\"block text-sm font-medium text-slate-700 mb-2\">\r\n      {label}\r\n    </label>\r\n    <div className={`relative border-2 border-dashed rounded-xl p-6 transition-all duration-200 ease-in-out\r\n      ${error && touched\r\n        ? 'border-red-300 bg-red-50'\r\n        : value\r\n          ? 'border-green-300 bg-green-50'\r\n          : 'border-slate-300 hover:border-indigo-400 hover:bg-slate-50'\r\n      }\r\n    `}>\r\n      <input\r\n        id={id}\r\n        type=\"file\"\r\n        accept=\"image/*\"\r\n        onChange={onChange}\r\n        className=\"absolute inset-0 w-full h-full opacity-0 cursor-pointer\"\r\n      />\r\n      <div className=\"flex flex-col items-center justify-center text-center\">\r\n        {value ? (\r\n          <>\r\n            <CheckIcon />\r\n            <p className=\"mt-2 text-sm font-medium text-green-700 truncate max-w-[200px]\">\r\n              {value.name}\r\n            </p>\r\n            <p className=\"text-xs text-green-600\">Click to change</p>\r\n          </>\r\n        ) : (\r\n          <>\r\n            <UploadIcon />\r\n            <p className=\"text-sm font-medium text-slate-700\">\r\n              <span className=\"text-indigo-600\">Upload a file</span> or drag and drop\r\n            </p>\r\n            <p className=\"text-xs text-slate-500 mt-1\">PNG, JPG up to 5MB</p>\r\n          </>\r\n        )}\r\n      </div>\r\n    </div>\r\n    {error && touched && (\r\n      <p className=\"mt-1 text-sm text-red-600 flex items-center gap-1\">\r\n        <svg className=\"w-4 h-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n        </svg>\r\n        {error}\r\n      </p>\r\n    )}\r\n  </div>\r\n);\r\n\r\nconst InputField = ({ id, type, label, icon: Icon, placeholder, ...props }) => (\r\n  <div>\r\n    <label htmlFor={id} className=\"block text-sm font-medium text-slate-700 mb-1\">\r\n      {label}\r\n    </label>\r\n    <div className=\"relative\">\r\n      <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\r\n        <Icon />\r\n      </div>\r\n      <input\r\n        id={id}\r\n        type={type}\r\n        className={`input-field pl-10 transition-all duration-200\r\n          ${props.error && props.touched\r\n            ? 'border-red-300 focus:ring-red-200 focus:border-red-500'\r\n            : 'focus:ring-indigo-200 focus:border-indigo-500'\r\n          }`}\r\n        placeholder={placeholder}\r\n        {...props}\r\n      />\r\n    </div>\r\n    {props.error && props.touched && (\r\n      <p className=\"mt-1 text-sm text-red-600 flex items-center gap-1\">\r\n        <svg className=\"w-4 h-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n        </svg>\r\n        {props.error}\r\n      </p>\r\n    )}\r\n  </div>\r\n);\r\n\r\nexport default function Register() {\r\n  const navigate = useNavigate();\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  const initialValues = {\r\n    fullName: \"\",\r\n    email: \"\",\r\n    phone: \"\",\r\n    citizenshipNumber: \"\",\r\n    frontImage: null,\r\n    backImage: null,\r\n  };\r\n\r\n  const { values, errors, touched, handleBlur, handleSubmit, handleChange, setFieldValue, resetForm } =\r\n    useFormik({\r\n      initialValues,\r\n      validationSchema: adminRegistrationValidation,\r\n      onSubmit: async (values, action) => {\r\n        setIsLoading(true);\r\n        try {\r\n          const formData = new FormData();\r\n          formData.append(\"fullName\", values.fullName);\r\n          formData.append(\"email\", values.email);\r\n          formData.append(\"phone\", values.phone);\r\n          formData.append(\"citizenshipNumber\", values.citizenshipNumber);\r\n          formData.append(\"frontImage\", values.frontImage);\r\n          formData.append(\"backImage\", values.backImage);\r\n\r\n          const response = await ApiService.post(API_CONFIG.ENDPOINTS.ADMIN_REGISTER, formData);\r\n\r\n          if (response && response.ok) {\r\n            toast.success(\"Registration successful! Please wait for admin approval.\");\r\n            action.resetForm();\r\n\r\n            setTimeout(() => {\r\n              navigate(\"/admin/login\", { replace: true });\r\n            }, 2000);\r\n          } else {\r\n            const errorData = await response.json().catch(() => ({}));\r\n            toast.error(errorData.message || \"Registration failed. Please try again.\");\r\n          }\r\n        } catch (error) {\r\n          console.error(error);\r\n          toast.error(\"An error occurred during registration.\");\r\n        } finally {\r\n          setIsLoading(false);\r\n          if (action && action.setSubmitting) action.setSubmitting(false);\r\n        }\r\n      },\r\n    });\r\n\r\n  useEffect(() => {\r\n    resetForm();\r\n  }, [resetForm]);\r\n\r\n  const handleFileChange = (event, fieldName) => {\r\n    const file = event.currentTarget.files[0];\r\n    setFieldValue(fieldName, file);\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen flex bg-slate-50 font-sans\">\r\n      {/* Left Side - Image */}\r\n      <div className=\"hidden lg:flex lg:w-1/2 relative overflow-hidden bg-indigo-900\">\r\n        <div className=\"absolute inset-0 bg-[url('https://images.unsplash.com/photo-1544620347-c4fd4a3d5957?q=80&w=2069&auto=format&fit=crop')] bg-cover bg-center opacity-40 transform hover:scale-105 transition-transform duration-[20s]\"></div>\r\n        <div className=\"absolute inset-0 bg-gradient-to-br from-indigo-900/90 via-purple-900/80 to-slate-900/90\"></div>\r\n\r\n        <div className=\"relative z-10 flex flex-col justify-center px-16 text-white h-full\">\r\n          <div className=\"mb-8\">\r\n            <div className=\"h-12 w-12 bg-white/10 backdrop-blur-md rounded-xl flex items-center justify-center mb-6 border border-white/20\">\r\n              <svg className=\"w-6 h-6 text-white\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 10V3L4 14h7v7l9-11h-7z\" />\r\n              </svg>\r\n            </div>\r\n            <h2 className=\"text-5xl font-bold mb-6 leading-tight\">\r\n              Drive Your Business <br />\r\n              <span className=\"text-indigo-300\">Forward</span>\r\n            </h2>\r\n            <p className=\"text-lg text-indigo-100 max-w-md leading-relaxed opacity-90\">\r\n              Join our network of premium bus operators. Manage your fleet, track bookings, and grow your revenue with our advanced admin tools.\r\n            </p>\r\n          </div>\r\n\r\n          <div className=\"flex gap-4 mt-8\">\r\n            <div className=\"flex -space-x-4\">\r\n              {[1, 2, 3, 4].map((i) => (\r\n                <div key={i} className=\"w-10 h-10 rounded-full border-2 border-indigo-900 bg-indigo-200 flex items-center justify-center text-xs font-bold text-indigo-800\">\r\n                  {i}\r\n                </div>\r\n              ))}\r\n            </div>\r\n            <div className=\"flex flex-col justify-center\">\r\n              <p className=\"text-sm font-bold text-white\">2k+ Operators</p>\r\n              <p className=\"text-xs text-indigo-200\">Trust our platform</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Right Side - Form */}\r\n      <div className=\"flex-1 flex items-center justify-center p-4 sm:p-8 lg:p-12 lg:w-1/2 overflow-y-auto bg-white/50 backdrop-blur-sm\">\r\n        <div className=\"w-full max-w-lg space-y-8 bg-white p-8 sm:p-10 rounded-3xl shadow-xl border border-slate-100 my-8\">\r\n          <div className=\"text-center space-y-2\">\r\n            <h1 className=\"text-3xl font-bold text-slate-900 tracking-tight\">Admin Registration</h1>\r\n            <p className=\"text-slate-500\">\r\n              Enter your details to request admin access\r\n            </p>\r\n          </div>\r\n\r\n          <form onSubmit={handleSubmit} className=\"space-y-6 mt-8\">\r\n            <div className=\"space-y-5\">\r\n              <InputField\r\n                id=\"fullName\"\r\n                type=\"text\"\r\n                label=\"Full Name\"\r\n                icon={UserIcon}\r\n                placeholder=\"John Doe\"\r\n                value={values.fullName}\r\n                onChange={handleChange}\r\n                onBlur={handleBlur}\r\n                error={errors.fullName}\r\n                touched={touched.fullName}\r\n              />\r\n\r\n              <InputField\r\n                id=\"email\"\r\n                type=\"email\"\r\n                label=\"Email Address\"\r\n                icon={EmailIcon}\r\n                placeholder=\"admin@company.com\"\r\n                value={values.email}\r\n                onChange={handleChange}\r\n                onBlur={handleBlur}\r\n                error={errors.email}\r\n                touched={touched.email}\r\n              />\r\n\r\n              <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-5\">\r\n                <InputField\r\n                  id=\"phone\"\r\n                  type=\"text\"\r\n                  label=\"Phone Number\"\r\n                  icon={PhoneIcon}\r\n                  placeholder=\"9800000000\"\r\n                  value={values.phone}\r\n                  onChange={handleChange}\r\n                  onBlur={handleBlur}\r\n                  error={errors.phone}\r\n                  touched={touched.phone}\r\n                />\r\n\r\n                <InputField\r\n                  id=\"citizenshipNumber\"\r\n                  type=\"text\"\r\n                  label=\"Citizenship No.\"\r\n                  icon={CardIcon}\r\n                  placeholder=\"12-34-56-78\"\r\n                  value={values.citizenshipNumber}\r\n                  onChange={handleChange}\r\n                  onBlur={handleBlur}\r\n                  error={errors.citizenshipNumber}\r\n                  touched={touched.citizenshipNumber}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-5 pt-2\">\r\n                <FileUploadField\r\n                  id=\"frontImage\"\r\n                  label=\"Citizenship Front\"\r\n                  onChange={(e) => handleFileChange(e, \"frontImage\")}\r\n                  value={values.frontImage}\r\n                  error={errors.frontImage}\r\n                  touched={touched.frontImage}\r\n                />\r\n\r\n                <FileUploadField\r\n                  id=\"backImage\"\r\n                  label=\"Citizenship Back\"\r\n                  onChange={(e) => handleFileChange(e, \"backImage\")}\r\n                  value={values.backImage}\r\n                  error={errors.backImage}\r\n                  touched={touched.backImage}\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <button\r\n              type=\"submit\"\r\n              disabled={isLoading}\r\n              className={`w-full btn-primary py-4 rounded-xl font-semibold text-lg shadow-lg shadow-indigo-500/30 hover:shadow-indigo-500/50 transition-all duration-300 transform hover:-translate-y-0.5\r\n                ${isLoading ? 'opacity-70 cursor-not-allowed' : ''}`}\r\n            >\r\n              {isLoading ? (\r\n                <div className=\"flex items-center justify-center gap-2\">\r\n                  <svg className=\"animate-spin h-5 w-5 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n                    <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\r\n                    <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\r\n                  </svg>\r\n                  <span>Processing...</span>\r\n                </div>\r\n              ) : (\r\n                'Submit Application'\r\n              )}\r\n            </button>\r\n          </form>\r\n\r\n          <div className=\"mt-8 pt-6 border-t border-slate-100 text-center\">\r\n            <p className=\"text-slate-600\">\r\n              Already have an account?{' '}\r\n              <Link to=\"/admin/login\" className=\"text-indigo-600 hover:text-indigo-700 font-semibold hover:underline decoration-2 underline-offset-2 transition-all\">\r\n                Sign in here\r\n              </Link>\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\New folder\\BusTicketFrontEnd\\src\\pages\\ticketDetails.jsx","messages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":74,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":74,"endColumn":18,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[2849,2903],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":83,"column":9,"nodeType":"MemberExpression","messageId":"unexpected","endLine":83,"endColumn":20,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[3134,3188],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":89,"column":11,"nodeType":"MemberExpression","messageId":"unexpected","endLine":89,"endColumn":22,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[3402,3452],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":130,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":130,"endColumn":16,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[4780,4839],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":152,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":152,"endColumn":16,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[5550,5612],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"no-unused-vars","severity":1,"message":"'newBookingId' is assigned a value but never used.","line":241,"column":13,"nodeType":"Identifier","messageId":"unusedVar","endLine":241,"endColumn":25},{"ruleId":"no-unused-vars","severity":1,"message":"'signature' is assigned a value but never used.","line":258,"column":13,"nodeType":"Identifier","messageId":"unusedVar","endLine":258,"endColumn":22}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useContext, useEffect, useState } from \"react\";\r\nimport { useNavigate, useLocation } from \"react-router-dom\";\r\nimport NavigationBar from \"../components/Navbar\";\r\nimport SelectedBusContext from \"../context/selectedbus\";\r\nimport API_CONFIG from \"../config/api\";\r\nimport ApiService from \"../services/api.service\";\r\nimport authService from \"../services/authService\";\r\nimport { toast } from \"react-toastify\";\r\nimport Footer from \"../components/Footer\";\r\nimport { SeatIcon } from \"../components/SeatIcon\";\r\nimport { validateBookingForm } from \"../utils/validators\";\r\nimport { LoadingSpinner } from \"../components/LoadingFallback\";\r\nimport Logger from \"../utils/logger\";\r\nimport \"./SeatSelection.css\";\r\n\r\nexport default function TicketDetails() {\r\n  const { selectedBus } = useContext(SelectedBusContext);\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n\r\n  const [selectedSeats, setSelectedSeats] = useState([]);\r\n  const [name, setName] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [contact, setContact] = useState(\"\");\r\n  const [totalCost, setTotalCost] = useState(0);\r\n  const [isBooking, setIsBooking] = useState(false);\r\n  const [formErrors, setFormErrors] = useState({});\r\n\r\n\r\n  // -----------------------------------\r\n  // CALCULATE TOTAL COST\r\n  // -----------------------------------\r\n  useEffect(() => {\r\n    if (!selectedBus?.seats) return;\r\n\r\n    const total = selectedSeats.reduce((sum, seatNum) => {\r\n      const seat = selectedBus.seats.find((s) => s.seatNumber === seatNum);\r\n      return sum + (seat ? Number(seat.price) : 0);\r\n    }, 0);\r\n\r\n    setTotalCost(total);\r\n  }, [selectedSeats, selectedBus]);\r\n\r\n  useEffect(() => {\r\n    // reset selected seats if bus changed\r\n    setSelectedSeats([]);\r\n  }, [selectedBus?.id]);\r\n\r\n  // -----------------------------------\r\n  // GENERATE RANDOM TRANSACTION ID\r\n  // -----------------------------------\r\n  function generateRandomId() {\r\n    return Array.from({ length: 10 }, () => Math.floor(Math.random() * 10)).join(\"\");\r\n  }\r\n  const [provider, setProvider] = useState(\"esewa\");\r\n\r\n  // -----------------------------------\r\n  // INITIATE PAYMENT (BACKEND ΓåÆ PROVIDER)\r\n  // -----------------------------------\r\n  async function handlePayment(tid, totalCost, user) {\r\n    // For Khalti, use specific payload structure\r\n    if (provider === 'khalti') {\r\n      const khaltiPayload = {\r\n        public_key: process.env.REACT_APP_KHALTI_PUBLIC_KEY || \"\",\r\n        mobile: contact || \"\",\r\n        transaction_pin: \"\",\r\n        product_identity: tid,\r\n        product_name: \"Bus Ticket Booking\",\r\n        amount: totalCost * 100, // Khalti expects amount in paisa (1 NPR = 100 paisa)\r\n        return_url: \"https://busbookingsystem-mu.vercel.app/ticket-confirm\",\r\n        website_url: \"https://busbookingsystem-mu.vercel.app\"\r\n      };\r\n\r\n      console.log(\"Sending Khalti payload:\", khaltiPayload);\r\n\r\n      try {\r\n        const response = await ApiService.post(\r\n          `${API_CONFIG.ENDPOINTS.ESEWA_INITIATE}/${provider}`,\r\n          khaltiPayload\r\n        );\r\n\r\n        const responseData = await response.json();\r\n        console.log(\"Khalti backend response:\", responseData);\r\n\r\n        // Khalti returns a payment_url to redirect to\r\n        const paymentUrl = responseData.payment_url || responseData.data?.payment_url || responseData.data?.pidx;\r\n\r\n        if (paymentUrl) {\r\n          console.log(\"Redirecting to Khalti:\", paymentUrl);\r\n          window.location.href = paymentUrl;\r\n          return;\r\n        } else {\r\n          console.error(\"No payment URL in Khalti response:\", responseData);\r\n          toast.error(\"Khalti payment URL not received. Please check backend configuration.\");\r\n          setIsBooking(false);\r\n          return;\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Khalti payment error:\", error);\r\n        toast.error(\"Failed to initiate Khalti payment: \" + (error.message || \"Unknown error\"));\r\n        setIsBooking(false);\r\n        return;\r\n      }\r\n    }\r\n\r\n    // For eSewa and IME Pay\r\n    const payload = {\r\n      customerId: user?.id ?? \"USER-123\",\r\n      amount: totalCost,\r\n      metadata: {\r\n        productId: \"BUS-TICKET-2025\",\r\n        tid: tid\r\n      },\r\n      successUrl: \"https://busbookingsystem-mu.vercel.app/ticket-confirm\",\r\n      failureUrl: \"https://busbookingsystem-mu.vercel.app/booking-failed\",\r\n      customerEmail: user.email,\r\n      customerName: user.name\r\n    };\r\n\r\n    // -----------------------------\r\n    // 1) CALL BACKEND TO INITIATE\r\n    // -----------------------------\r\n    const response = await ApiService.post(\r\n      `${API_CONFIG.ENDPOINTS.ESEWA_INITIATE}/${provider}`,\r\n      payload\r\n    );\r\n\r\n    // Parse the JSON response\r\n    const responseData = await response.json();\r\n    console.log(`${provider} backend response:`, responseData);\r\n\r\n    // Expected backend response structure:\r\n    // {\r\n    //   \"status\": \"INITIATED\",\r\n    //   \"data\": {\r\n    //     \"gatewayUrl\": \"...\",\r\n    //     \"params\": { ... }\r\n    //   }\r\n    // }\r\n    let gatewayUrl = responseData.data?.gatewayUrl || responseData.gatewayUrl;\r\n    let params = responseData.data?.params || responseData.params || responseData;\r\n\r\n    // Fallback to hardcoded URLs if backend doesn't provide them\r\n    if (!gatewayUrl) {\r\n      if (provider === 'esewa') {\r\n        gatewayUrl = 'https://rc-epay.esewa.com.np/api/epay/main/v2/form';\r\n      } else if (provider === 'imepay') {\r\n        gatewayUrl = 'https://payment.imepay.com.np:7979/WebCheckout/Checkout';\r\n      }\r\n    }\r\n\r\n    console.log(`Using gateway URL for ${provider}:`, gatewayUrl);\r\n\r\n    // -----------------------------\r\n    // 2) REDIRECT USER TO PAYMENT GATEWAY\r\n    // -----------------------------\r\n    const form = document.createElement(\"form\");\r\n    form.method = \"POST\";\r\n    form.action = gatewayUrl;   // <--- dynamic URL from backend or fallback\r\n\r\n    Object.entries(params).forEach(([key, value]) => {\r\n      const input = document.createElement(\"input\");\r\n      input.type = \"hidden\";\r\n      input.name = key;\r\n      input.value = value;\r\n      form.appendChild(input);\r\n    });\r\n\r\n    document.body.appendChild(form);\r\n    form.submit();\r\n  }\r\n\r\n\r\n  // -----------------------------------\r\n  // BOOK TICKET MAIN FUNCTION\r\n  // -----------------------------------\r\n  async function bookTicket() {\r\n    // Force Login Check\r\n    const token = localStorage.getItem(\"token\");\r\n    if (!token) {\r\n      toast.info(\"Please login to proceed with payment.\");\r\n      navigate(\"/login\", { state: { from: location } });\r\n      return;\r\n    }\r\n\r\n    // Get User Data\r\n    const userData = authService.getUserData();\r\n    const userId = userData?.id || 0;\r\n\r\n    // Enhanced validation using validators utility\r\n    const validation = validateBookingForm({\r\n      name,\r\n      email,\r\n      contact,\r\n      selectedSeats\r\n    });\r\n\r\n    if (!validation.valid) {\r\n      setFormErrors(validation.errors);\r\n      const firstError = Object.values(validation.errors)[0];\r\n      toast.error(firstError);\r\n      return;\r\n    }\r\n\r\n    // Clear form errors\r\n    setFormErrors({});\r\n\r\n    setIsBooking(true);\r\n    const tid = generateRandomId();\r\n\r\n    try {\r\n      // Map selected seat numbers to seat IDs\r\n      const seatIds = selectedSeats.map(seatNum => {\r\n        const seat = selectedBus.seats.find(s => s.seatNumber === seatNum);\r\n        return seat ? seat.id : null;\r\n      }).filter(id => id !== null);\r\n\r\n      if (seatIds.length !== selectedSeats.length) {\r\n        throw new Error(\"Invalid seat selection\");\r\n      }\r\n\r\n      // 1∩╕ÅΓâú Create booking with seats in one go\r\n      // Use sanitized data from validation\r\n      const payload = {\r\n        bookingId: selectedBus.id || selectedBus._id,\r\n        fullName: validation.sanitized.name,\r\n        userId: Number(userId),\r\n        email: validation.sanitized.email,\r\n        seatIds: seatIds\r\n      };\r\n\r\n      const bookingRes = await ApiService.post(API_CONFIG.ENDPOINTS.CREATE_BOOKING, payload);\r\n\r\n      if (!bookingRes.ok) {\r\n        const err = await bookingRes.json().catch(() => ({}));\r\n        throw new Error(err.message || \"Failed to create booking\");\r\n      }\r\n\r\n      const data = await bookingRes.json();\r\n      // Assuming the response contains the created booking ID for reference\r\n      const newBookingId = data.bookingId || data.booking_id || data.id || \"\";\r\n\r\n      localStorage.setItem(\"bookingRes\", JSON.stringify(data));\r\n      localStorage.setItem(\"seatRes\", JSON.stringify(data.tickets || [])); // Adjust based on actual response if needed\r\n      localStorage.setItem(\"selectedSeats\", JSON.stringify(selectedSeats));\r\n      localStorage.setItem(\"email\", email);\r\n\r\n      // 2∩╕ÅΓâú Get eSewa signature\r\n      const sigRes = await ApiService.get(\r\n        `${API_CONFIG.ENDPOINTS.GENERATE_SIGNATURE}?total_cost=${totalCost}&transaction_uuid=${tid}`\r\n      );\r\n\r\n      if (!sigRes.ok) {\r\n        const err = await sigRes.json().catch(() => ({}));\r\n        throw new Error(err.message || \"Failed to generate signature\");\r\n      }\r\n\r\n      const signature = await sigRes.text();\r\n\r\n      // 3∩╕ÅΓâú Submit to Payment Gateway (FIXED: correct parameters)\r\n      await handlePayment(tid, totalCost, userData);\r\n\r\n    } catch (err) {\r\n      Logger.error(\"Booking Error:\", err);\r\n\r\n      // User-friendly error messages\r\n      let errorMessage = \"Booking failed. Please try again.\";\r\n      if (err.isTimeout) {\r\n        errorMessage = \"Request timeout. Please check your internet connection.\";\r\n      } else if (err.message) {\r\n        errorMessage = err.message;\r\n      }\r\n\r\n      toast.error(errorMessage);\r\n      setIsBooking(false);\r\n    }\r\n  }\r\n\r\n  // -----------------------------------\r\n  // SEAT AVAILABILITY LOGIC (FIXED)\r\n  // -----------------------------------\r\n  function isSeatReserved(seat) {\r\n    return (\r\n      seat.reserved === true ||\r\n      seat.status === \"BOOKED\" ||\r\n      seat.isBooked === true\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-slate-50 flex flex-col\">\r\n      <NavigationBar />\r\n\r\n      <main className=\"flex-grow pt-24 pb-12 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto w-full\">\r\n        <h1 className=\"text-3xl font-bold text-slate-900 mb-8\">Complete Your Booking</h1>\r\n\r\n        <div className=\"flex flex-col lg:flex-row gap-8\">\r\n          {/* Left Column: Passenger & Seats */}\r\n          <div className=\"flex-1 space-y-8\">\r\n            {/* Passenger Details */}\r\n            <section className=\"bg-white rounded-xl shadow-sm border border-slate-200 p-6\">\r\n              <h2 className=\"text-xl font-semibold text-slate-900 mb-6 flex items-center gap-2\">\r\n                <span className=\"w-8 h-8 rounded-full bg-indigo-100 text-indigo-600 flex items-center justify-center text-sm\">1</span>\r\n                Passenger Details\r\n              </h2>\r\n\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-slate-700 mb-2\">Full Name</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    value={name}\r\n                    onChange={(e) => {\r\n                      setName(e.target.value);\r\n                      if (formErrors.name) {\r\n                        setFormErrors(prev => ({ ...prev, name: undefined }));\r\n                      }\r\n                    }}\r\n                    className={`input-field ${formErrors.name ? 'border-red-500' : ''}`}\r\n                    placeholder=\"John Doe\"\r\n                    required\r\n                  />\r\n                  {formErrors.name && (\r\n                    <p className=\"text-red-500 text-sm mt-1\">{formErrors.name}</p>\r\n                  )}\r\n                </div>\r\n\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-slate-700 mb-2\">Email Address</label>\r\n                  <input\r\n                    type=\"email\"\r\n                    value={email}\r\n                    onChange={(e) => {\r\n                      setEmail(e.target.value);\r\n                      if (formErrors.email) {\r\n                        setFormErrors(prev => ({ ...prev, email: undefined }));\r\n                      }\r\n                    }}\r\n                    className={`input-field ${formErrors.email ? 'border-red-500' : ''}`}\r\n                    placeholder=\"john@example.com\"\r\n                    required\r\n                  />\r\n                  {formErrors.email && (\r\n                    <p className=\"text-red-500 text-sm mt-1\">{formErrors.email}</p>\r\n                  )}\r\n                </div>\r\n\r\n                <div className=\"md:col-span-2\">\r\n                  <label className=\"block text-sm font-medium text-slate-700 mb-2\">Contact Number</label>\r\n                  <input\r\n                    type=\"tel\"\r\n                    value={contact}\r\n                    onChange={(e) => {\r\n                      setContact(e.target.value);\r\n                      if (formErrors.contact) {\r\n                        setFormErrors(prev => ({ ...prev, contact: undefined }));\r\n                      }\r\n                    }}\r\n                    className={`input-field ${formErrors.contact ? 'border-red-500' : ''}`}\r\n                    placeholder=\"+977 9800000000\"\r\n                    required\r\n                  />\r\n                  {formErrors.contact && (\r\n                    <p className=\"text-red-500 text-sm mt-1\">{formErrors.contact}</p>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </section>\r\n\r\n            {/* Seat Selection */}\r\n            <section className=\"bg-white rounded-xl shadow-sm border border-slate-200 p-6\">\r\n              <h2 className=\"text-xl font-semibold text-slate-900 mb-6 flex items-center gap-2\">\r\n                <span className=\"w-8 h-8 rounded-full bg-indigo-100 text-indigo-600 flex items-center justify-center text-sm\">2</span>\r\n                Select Seats\r\n              </h2>\r\n\r\n              <div className=\"flex flex-col items-center\">\r\n                <div className=\"seat-selection-div w-full max-w-md\">\r\n                  <div className=\"seat-selection grid grid-cols-4 gap-3 p-4 bg-slate-50 rounded-lg border border-slate-200\">\r\n                    {selectedBus?.seats?.map((seat) => {\r\n                      const reserved = isSeatReserved(seat);\r\n                      const isSelected = selectedSeats.includes(seat.seatNumber);\r\n\r\n                      return (\r\n                        <div key={seat.id} className=\"aspect-square flex items-center justify-center\">\r\n                          <SeatIcon\r\n                            status={reserved ? 'booked' : isSelected ? 'selected' : 'available'}\r\n                            seatNumber={seat.seatNumber}\r\n                            price={seat.price}\r\n                            className=\"w-12 h-12\"\r\n                            onClick={() => {\r\n                              if (reserved || isBooking) return;\r\n                              setSelectedSeats((prev) =>\r\n                                prev.includes(seat.seatNumber)\r\n                                  ? prev.filter((s) => s !== seat.seatNumber)\r\n                                  : [...prev, seat.seatNumber]\r\n                              );\r\n                            }}\r\n                          />\r\n                        </div>\r\n                      );\r\n                    })}\r\n                  </div>\r\n\r\n                  <div className=\"flex justify-center gap-6 mt-8 text-sm\">\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <SeatIcon status=\"available\" className=\"w-5 h-5\" />\r\n                      <span className=\"text-slate-600\">Available</span>\r\n                    </div>\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <SeatIcon status=\"booked\" className=\"w-5 h-5\" />\r\n                      <span className=\"text-slate-600\">Booked</span>\r\n                    </div>\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <SeatIcon status=\"selected\" className=\"w-5 h-5\" />\r\n                      <span className=\"text-slate-600\">Selected</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </section>\r\n          </div>\r\n\r\n          {/* Right Column: Summary */}\r\n          <div className=\"lg:w-96 flex-shrink-0\">\r\n            <div className=\"bg-white rounded-xl shadow-sm border border-slate-200 p-6 sticky top-24\">\r\n              <h2 className=\"text-lg font-bold text-slate-900 mb-4\">Booking Summary</h2>\r\n\r\n              <div className=\"space-y-4 text-sm\">\r\n                <div className=\"pb-4 border-b border-slate-100\">\r\n                  <p className=\"text-slate-500 mb-1\">Bus Operator</p>\r\n                  <p className=\"font-medium text-slate-900\">{selectedBus?.busName || 'Standard Bus'}</p>\r\n                </div>\r\n\r\n                <div className=\"pb-4 border-b border-slate-100\">\r\n                  <p className=\"text-slate-500 mb-1\">Route</p>\r\n                  <div className=\"flex items-center gap-2 font-medium text-slate-900\">\r\n                    <span>{selectedBus?.route12?.sourceBusStop?.name || 'Source'}</span>\r\n                    <svg className=\"w-4 h-4 text-slate-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M17 8l4 4m0 0l-4 4m4-4H3\" />\r\n                    </svg>\r\n                    <span>{selectedBus?.route12?.destinationBusStop?.name || 'Destination'}</span>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"pb-4 border-b border-slate-100\">\r\n                  <p className=\"text-slate-500 mb-1\">Departure</p>\r\n                  <p className=\"font-medium text-slate-900\">\r\n                    {selectedBus?.departureDateTime ? new Date(selectedBus.departureDateTime).toLocaleString() : \"TBD\"}\r\n                  </p>\r\n                </div>\r\n\r\n                <div className=\"pb-4 border-b border-slate-100\">\r\n                  <div className=\"flex justify-between mb-2\">\r\n                    <span className=\"text-slate-600\">Selected Seats ({selectedSeats.length})</span>\r\n                    <span className=\"font-medium text-slate-900\">{selectedSeats.join(\", \") || '-'}</span>\r\n                  </div>\r\n                  <div className=\"flex justify-between text-lg font-bold text-slate-900 mt-2\">\r\n                    <span>Total Amount</span>\r\n                    <span className=\"text-indigo-600\">NPR {totalCost}</span>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"pb-4 border-b border-slate-100\">\r\n                  <p className=\"text-slate-500 mb-2\">Payment Method</p>\r\n                  <div className=\"flex gap-2\">\r\n                    <button\r\n                      onClick={() => setProvider('esewa')}\r\n                      className={`flex-1 py-2 px-2 border rounded-md text-sm font-medium transition-colors ${provider === 'esewa' ? 'border-green-500 bg-green-50 text-green-700' : 'border-gray-200 text-gray-600 hover:border-green-300'}`}\r\n                    >\r\n                      eSewa\r\n                    </button>\r\n                    <button\r\n                      onClick={() => setProvider('khalti')}\r\n                      className={`flex-1 py-2 px-2 border rounded-md text-sm font-medium transition-colors ${provider === 'khalti' ? 'border-purple-500 bg-purple-50 text-purple-700' : 'border-gray-200 text-gray-600 hover:border-purple-300'}`}\r\n                    >\r\n                      Khalti\r\n                    </button>\r\n                    <button\r\n                      onClick={() => setProvider('imepay')}\r\n                      className={`flex-1 py-2 px-2 border rounded-md text-sm font-medium transition-colors ${provider === 'imepay' ? 'border-red-500 bg-red-50 text-red-700' : 'border-gray-200 text-gray-600 hover:border-red-300'}`}\r\n                    >\r\n                      IME Pay\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n\r\n                <button\r\n                  onClick={bookTicket}\r\n                  disabled={isBooking || selectedSeats.length === 0}\r\n                  className={`w-full btn-primary py-3 font-bold text-lg shadow-md hover:shadow-lg transform transition-all active:scale-95 ${isBooking || selectedSeats.length === 0 ? 'opacity-60 cursor-not-allowed' : ''}`}\r\n                  style={{\r\n                    backgroundColor: provider === 'khalti' ? '#5c2d91' : provider === 'imepay' ? '#ed1c24' : undefined,\r\n                    borderColor: provider === 'khalti' ? '#5c2d91' : provider === 'imepay' ? '#ed1c24' : undefined\r\n                  }}\r\n                >\r\n                  {isBooking ? (\r\n                    <span className=\"flex items-center justify-center gap-2\">\r\n                      <LoadingSpinner size=\"small\" />\r\n                      Processing...\r\n                    </span>\r\n                  ) : (\r\n                    `Pay with ${provider === 'esewa' ? 'eSewa' : provider === 'khalti' ? 'Khalti' : 'IME Pay'}`\r\n                  )}\r\n                </button>\r\n                <p className=\"text-xs text-center text-slate-500 mt-4\">\r\n                  By clicking Pay, you agree to our Terms & Conditions\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </main>\r\n\r\n      <Footer />\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\New folder\\BusTicketFrontEnd\\src\\pages\\ticketDetails_backup.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\New folder\\BusTicketFrontEnd\\src\\pages\\ticketconfirm.jsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has missing dependencies: 'fetchPdf', 'pdfUrl', and 'verifyPayment'. Either include them or remove the dependency array.","line":36,"column":6,"nodeType":"ArrayExpression","endLine":36,"endColumn":20,"suggestions":[{"desc":"Update the dependencies array to be: [fetchPdf, pdfUrl, searchParams, verifyPayment]","fix":{"range":[1247,1261],"text":"[fetchPdf, pdfUrl, searchParams, verifyPayment]"}}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":209,"column":13,"nodeType":"MemberExpression","messageId":"unexpected","endLine":209,"endColumn":25,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"info"},"fix":{"range":[7601,7661],"text":""},"desc":"Remove the console.info()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"∩╗┐import { useEffect, useState } from \"react\";\r\nimport NavigationBar from \"../components/Navbar\";\r\nimport { useNavigate, useSearchParams } from \"react-router-dom\";\r\nimport { toast } from \"react-toastify\";\r\nimport API_CONFIG from \"../config/api\";\r\nimport ApiService from \"../services/api.service\";\r\n\r\nconst TicketConfirmed = () => {\r\n  const [pdfUrl, setPdfUrl] = useState(null);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [isCancelling, setIsCancelling] = useState(false);\r\n  const [error, setError] = useState(\"\");\r\n  const [devCancelResponse, setDevCancelResponse] = useState(null);\r\n  const navigate = useNavigate();\r\n\r\n  const [searchParams] = useSearchParams();\r\n\r\n  useEffect(() => {\r\n    const esewaData = searchParams.get(\"data\");\r\n    const khaltiPidx = searchParams.get(\"pidx\");\r\n    const imeRefId = searchParams.get(\"RefId\");\r\n\r\n    if (esewaData) {\r\n      verifyPayment(\"esewa\", esewaData);\r\n    } else if (khaltiPidx) {\r\n      verifyPayment(\"khalti\", khaltiPidx);\r\n    } else if (imeRefId) {\r\n      verifyPayment(\"imepay\", imeRefId);\r\n    } else {\r\n      fetchPdf();\r\n    }\r\n    // revoke object URL on unmount or when pdfUrl changes\r\n    return () => {\r\n      if (pdfUrl) URL.revokeObjectURL(pdfUrl);\r\n    };\r\n  }, [searchParams]);\r\n\r\n  async function verifyPayment(provider, data) {\r\n    setIsLoading(true);\r\n    setError(\"\");\r\n    try {\r\n      let transactionId = \"\";\r\n      let providerToken = \"\";\r\n\r\n      if (provider === \"esewa\") {\r\n        // Decode the base64 encoded data from eSewa to get transaction_uuid\r\n        try {\r\n          const decoded = JSON.parse(atob(data));\r\n          transactionId = decoded.transaction_uuid;\r\n          providerToken = data; // encoded data\r\n        } catch (e) {\r\n          console.error(\"Failed to decode eSewa data\", e);\r\n          throw new Error(\"Invalid payment data\");\r\n        }\r\n      } else if (provider === \"khalti\") {\r\n        transactionId = data; // pidx\r\n        providerToken = data; // pidx\r\n      } else if (provider === \"imepay\") {\r\n        transactionId = data; // RefId\r\n        providerToken = searchParams.get(\"TokenId\") || data;\r\n      }\r\n\r\n      const response = await ApiService.post(`${API_CONFIG.ENDPOINTS.ESEWA_VERIFY_PAYMENT}/${provider}`, {\r\n        transactionId: transactionId,\r\n        providerToken: providerToken\r\n      });\r\n\r\n      if (response.status === 200 || response.status === 201) {\r\n        toast.success(\"Payment successful! Ticket confirmed.\");\r\n        // Assuming backend returns ticket details including ID\r\n        const ticketData = response.data;\r\n        // Store in localStorage to match existing flow (optional, but good for consistency)\r\n        localStorage.setItem(\"seatRes\", JSON.stringify([ticketData]));\r\n\r\n        // Now fetch the PDF using the ticket ID from response\r\n        const ticketId = ticketData.ticketNo || ticketData.ticketId || ticketData.id;\r\n        if (ticketId) {\r\n          fetchPdf(ticketId);\r\n        }\r\n      } else {\r\n        throw new Error(\"Payment verification failed\");\r\n      }\r\n    } catch (err) {\r\n      console.error(\"Payment verification error:\", err);\r\n      setError(\"Payment verification failed. Please contact support.\");\r\n      toast.error(\"Payment verification failed.\");\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  }\r\n\r\n  async function fetchPdf(specificTicketId = null) {\r\n    setIsLoading(true);\r\n    setError(\"\");\r\n\r\n    let ticketId = specificTicketId;\r\n\r\n    if (!ticketId) {\r\n      const raw = JSON.parse(localStorage.getItem(\"seatRes\")) || [];\r\n      const seatResponses = Array.isArray(raw) ? raw : [raw];\r\n      const firstTicket = seatResponses[0] || {};\r\n      ticketId = firstTicket.ticketNo || firstTicket.ticketId || firstTicket.id;\r\n    }\r\n\r\n    if (!ticketId) {\r\n      setError(\"No ticket found.\");\r\n      // Only show toast if we are not in the middle of a payment verification flow that failed\r\n      if (!searchParams.get(\"data\")) {\r\n        toast.error(\"No ticket found!\");\r\n      }\r\n      setIsLoading(false);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const url = `${API_CONFIG.BASE_URL}${API_CONFIG.ENDPOINTS.GENERATE_TICKET}?ticketId=${encodeURIComponent(\r\n        ticketId\r\n      )}`;\r\n\r\n      const response = await fetch(url);\r\n      if (!response.ok) throw new Error(\"Failed to fetch PDF\");\r\n\r\n      const blob = await response.blob();\r\n      const objectUrl = URL.createObjectURL(blob);\r\n      setPdfUrl((prev) => {\r\n        if (prev) URL.revokeObjectURL(prev);\r\n        return objectUrl;\r\n      });\r\n    } catch (err) {\r\n      console.error(\"Error fetching PDF:\", err);\r\n      setError(\"Failed to load ticket PDF.\");\r\n      toast.error(\"Failed to load ticket PDF.\");\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  }\r\n\r\n  async function cancelTicket() {\r\n    setIsCancelling(true);\r\n    setError(\"\");\r\n\r\n    const raw = JSON.parse(localStorage.getItem(\"seatRes\")) || [];\r\n    const seatResponses = Array.isArray(raw) ? raw : [raw];\r\n    const email = localStorage.getItem(\"email\") || \"\";\r\n\r\n    const ticketObj = seatResponses[0] || {};\r\n    const ticketId = ticketObj.ticketNo || ticketObj.ticketId || ticketObj.id;\r\n\r\n    if (!ticketId) {\r\n      toast.error(\"Cannot find ticket to cancel.\");\r\n      setIsCancelling(false);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      try {\r\n        // Backend expects ticket number in header and email in JSON body\r\n        const postResp = await ApiService.request(`/bookSeats/cancel`, {\r\n          method: 'POST',\r\n          body: JSON.stringify({ email, ticketNo: ticketId }),\r\n        });\r\n\r\n\r\n        if (postResp && postResp.ok) {\r\n          toast.success(\"Ticket cancelled.\");\r\n          localStorage.removeItem(\"seatRes\");\r\n          localStorage.removeItem(\"selectedSeats\");\r\n          localStorage.removeItem(\"bookingRes\");\r\n          navigate(\"/\");\r\n          setIsCancelling(false);\r\n          return;\r\n        }\r\n        // otherwise fallthrough to try DELETE below\r\n      } catch (postErr) {\r\n        console.warn('Cancel POST request failed, will try DELETE fallback', postErr);\r\n      }\r\n\r\n      const endpoint = `${API_CONFIG.ENDPOINTS.CANCLE_TICKET}?email=${encodeURIComponent(\r\n        email\r\n      )}&ticketNo=${encodeURIComponent(ticketId)}`;\r\n\r\n      const response = await ApiService.delete(endpoint);\r\n\r\n      if (response && response.ok) {\r\n        toast.success(\"Ticket cancelled.\");\r\n        localStorage.removeItem(\"seatRes\");\r\n        localStorage.removeItem(\"selectedSeats\");\r\n        localStorage.removeItem(\"bookingRes\");\r\n        navigate(\"/\");\r\n      } else {\r\n        // Try to extract a helpful error message from server\r\n        let msg = \"Failed to cancel ticket.\";\r\n        try {\r\n          if (response) {\r\n            const body = await response.json().catch(() => null);\r\n            // store for dev debug panel\r\n            if (process.env.NODE_ENV === 'development') setDevCancelResponse(body || { status: response.status, statusText: response.statusText });\r\n            if (body && body.message) msg = body.message;\r\n            else if (response.statusText) msg = `${msg} (${response.status} ${response.statusText})`;\r\n            else msg = `${msg} (status ${response.status || 'unknown'})`;\r\n          }\r\n        } catch (e) {\r\n          console.warn('Error parsing cancel response body', e);\r\n        }\r\n        console.error('Cancel ticket failed', { endpoint, status: response && response.status });\r\n        // If server responded with method not allowed or bad request, try a POST fallback\r\n        if (response && [400, 404, 405].includes(response.status)) {\r\n          try {\r\n            console.info('Attempting POST fallback to cancel endpoint');\r\n            const postResp = await ApiService.post(API_CONFIG.ENDPOINTS.CANCLE_TICKET, { email, ticketNo: ticketId });\r\n            if (postResp && postResp.ok) {\r\n              toast.success('Ticket cancelled (fallback).');\r\n              localStorage.removeItem('seatRes');\r\n              localStorage.removeItem('selectedSeats');\r\n              localStorage.removeItem('bookingRes');\r\n              navigate('/');\r\n              return;\r\n            } else {\r\n              const body = postResp ? await postResp.json().catch(() => null) : null;\r\n              const pm = (body && body.message) || `Fallback failed (${postResp && postResp.status})`;\r\n              console.error('Fallback cancel failed', { pm, postResp });\r\n              toast.error(pm);\r\n            }\r\n          } catch (pfErr) {\r\n            console.error('Fallback cancel error', pfErr);\r\n            if (process.env.NODE_ENV === 'development') setDevCancelResponse({ error: pfErr && (pfErr.message || String(pfErr)) });\r\n            toast.error('Cancel failed (fallback).');\r\n          }\r\n        } else {\r\n          toast.error(msg);\r\n        }\r\n      }\r\n    } catch (err) {\r\n      console.error(\"Error cancelling ticket:\", err);\r\n      toast.error(\"Failed to cancel ticket.\");\r\n    } finally {\r\n      setIsCancelling(false);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50 p-4\">\r\n      <NavigationBar />\r\n\r\n      <div className=\"max-w-4xl mx-auto bg-white rounded-lg shadow-md mt-8 p-6\">\r\n        <h2 className=\"text-xl font-semibold mb-4\">Ticket Confirmation</h2>\r\n\r\n        {isLoading ? (\r\n          <div className=\"text-center py-20\">Loading ticket...</div>\r\n        ) : error ? (\r\n          <div className=\"text-center py-8 text-red-600\">{error}</div>\r\n        ) : pdfUrl ? (\r\n          <>\r\n            <div style={{ width: \"100%\", height: \"600px\" }} className=\"border rounded overflow-hidden\">\r\n              <embed src={pdfUrl} type=\"application/pdf\" width=\"100%\" height=\"100%\" />\r\n            </div>\r\n\r\n            <div className=\"flex justify-center mt-4 gap-4\">\r\n              <a\r\n                href={pdfUrl}\r\n                download=\"ticket.pdf\"\r\n                className=\"inline-flex items-center justify-center bg-green-600 text-white px-4 py-2 rounded shadow hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-300\"\r\n              >\r\n                Download Ticket\r\n              </a>\r\n              <button\r\n                onClick={cancelTicket}\r\n                disabled={isCancelling}\r\n                className={`inline-flex items-center justify-center px-4 py-2 rounded shadow focus:outline-none focus:ring-2 focus:ring-red-300 ${isCancelling ? 'bg-red-400 text-white cursor-not-allowed opacity-70' : 'bg-red-600 text-white hover:bg-red-700'}`}\r\n              >\r\n                {isCancelling ? 'Cancelling...' : 'Cancel Ticket'}\r\n              </button>\r\n            </div>\r\n            {process.env.NODE_ENV === 'development' && devCancelResponse && (\r\n              <div className=\"mt-4 p-3 bg-gray-50 border rounded text-xs text-gray-700\">\r\n                <div className=\"font-medium mb-2\">Dev: Last cancel response</div>\r\n                <pre className=\"whitespace-pre-wrap\">{JSON.stringify(devCancelResponse, null, 2)}</pre>\r\n              </div>\r\n            )}\r\n          </>\r\n        ) : (\r\n          <div className=\"text-center py-8\">No ticket available.</div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TicketConfirmed;\r\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\New folder\\BusTicketFrontEnd\\src\\services\\api.service.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\New folder\\BusTicketFrontEnd\\src\\services\\authService.js","messages":[{"ruleId":null,"fatal":true,"severity":2,"message":"Parsing error: Unexpected token =","line":11,"column":15,"nodeType":null}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":1,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Authentication Service - Centralized auth management with role-based access control\r\n\r\nconst ROLES = {\r\n    USER: 'USER',\r\n    ADMIN: 'ADMIN',\r\n    SUPER_ADMIN: 'SUPER_ADMIN'\r\n};\r\n\r\nclass AuthService {\r\n    // Storage keys\r\n    TOKEN_KEY = 'token';\r\n    ROLE_KEY = 'userRole';\r\n    USER_DATA_KEY = 'userData';\r\n\r\n    /**\r\n     * Normalize backend role format to frontend format\r\n     * Backend sends: \"ROLE_USER\", \"ROLE_ADMIN\", \"ROLE_SUPER_ADMIN\"\r\n     * Frontend uses: \"USER\", \"ADMIN\", \"SUPER_ADMIN\"\r\n     * @param {string|string[]} backendRole - Role from backend (can be string or array)\r\n     * @returns {string} Normalized role\r\n     */\r\n    normalizeRole(backendRole) {\r\n        let roleString = backendRole;\r\n\r\n        // Handle array of roles/authorities\r\n        if (Array.isArray(backendRole)) {\r\n            // Find the authority that starts with \"ROLE_\"\r\n            // Backend returns permissions + ROLE_NAME, e.g. [\"admin:read\", \"ROLE_ADMIN\"]\r\n            const roleAuthority = backendRole.find(r => r.startsWith('ROLE_'));\r\n\r\n            if (roleAuthority) {\r\n                roleString = roleAuthority;\r\n            } else {\r\n                // Fallback: check if any of the raw strings match our known roles (in case prefix is missing)\r\n                const knownRole = backendRole.find(r => Object.values(ROLES).includes(r));\r\n                if (knownRole) roleString = knownRole;\r\n                else roleString = backendRole[0]; // Last resort\r\n            }\r\n        }\r\n\r\n        // Remove \"ROLE_\" prefix if present\r\n        const role = roleString ? roleString.replace('ROLE_', '') : '';\r\n\r\n        // Validate and return\r\n        if (Object.values(ROLES).includes(role)) {\r\n            return role;\r\n        }\r\n\r\n        // Default to USER if invalid\r\n        console.warn('Invalid role received:', backendRole, '- defaulting to USER');\r\n        return ROLES.USER;\r\n    }\r\n\r\n    /**\r\n     * Store authentication data after successful login\r\n     * @param {string} token - JWT token\r\n     * @param {string|string[]} role - User role (can be \"ROLE_USER\" or [\"ROLE_USER\"])\r\n     * @param {object} userData - Additional user data\r\n     */\r\n    login(token, role, userData = {}) {\r\n        if (!token) {\r\n            console.error('Token is required for login');\r\n            return false;\r\n        }\r\n\r\n        // Normalize the role\r\n        const normalizedRole = this.normalizeRole(role);\r\n\r\n        localStorage.setItem(this.TOKEN_KEY, token);\r\n        localStorage.setItem(this.ROLE_KEY, normalizedRole);\r\n        localStorage.setItem(this.USER_DATA_KEY, JSON.stringify(userData));\r\n\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * Clear all authentication data\r\n     */\r\n    logout() {\r\n        localStorage.removeItem(this.TOKEN_KEY);\r\n        localStorage.removeItem(this.ROLE_KEY);\r\n        localStorage.removeItem(this.USER_DATA_KEY);\r\n    }\r\n\r\n    /**\r\n     * Get stored token\r\n     * @returns {string|null}\r\n     */\r\n    getToken() {\r\n        return localStorage.getItem(this.TOKEN_KEY);\r\n    }\r\n\r\n    /**\r\n     * Get stored user role\r\n     * @returns {string|null}\r\n     */\r\n    getRole() {\r\n        return localStorage.getItem(this.ROLE_KEY);\r\n    }\r\n\r\n    /**\r\n     * Get stored user data\r\n     * @returns {object|null}\r\n     */\r\n    getUserData() {\r\n        const data = localStorage.getItem(this.USER_DATA_KEY);\r\n        return data ? JSON.parse(data) : null;\r\n    }\r\n\r\n    /**\r\n     * Check if user is authenticated\r\n     * @returns {boolean}\r\n     */\r\n    isAuthenticated() {\r\n        return !!this.getToken();\r\n    }\r\n\r\n    /**\r\n     * Check if user has USER role\r\n     * @returns {boolean}\r\n     */\r\n    isUser() {\r\n        return this.getRole() === ROLES.USER;\r\n    }\r\n\r\n    /**\r\n     * Check if user has ADMIN role\r\n     * @returns {boolean}\r\n     */\r\n    isAdmin() {\r\n        return this.getRole() === ROLES.ADMIN;\r\n    }\r\n\r\n    /**\r\n     * Check if user has SUPER_ADMIN role\r\n     * @returns {boolean}\r\n     */\r\n    isSuperAdmin() {\r\n        return this.getRole() === ROLES.SUPER_ADMIN;\r\n    }\r\n\r\n    /**\r\n     * Check if user has admin privileges (ADMIN or SUPER_ADMIN)\r\n     * @returns {boolean}\r\n     */\r\n    hasAdminAccess() {\r\n        const role = this.getRole();\r\n        return role === ROLES.ADMIN || role === ROLES.SUPER_ADMIN;\r\n    }\r\n\r\n    /**\r\n     * Check if user has any of the specified roles\r\n     * @param {string[]} allowedRoles - Array of allowed roles\r\n     * @returns {boolean}\r\n     */\r\n    hasRole(allowedRoles) {\r\n        const userRole = this.getRole();\r\n        return allowedRoles.includes(userRole);\r\n    }\r\n\r\n    /**\r\n     * Get appropriate redirect path based on user role\r\n     * @returns {string}\r\n     */\r\n    getDefaultRedirect() {\r\n        const role = this.getRole();\r\n\r\n        switch (role) {\r\n            case ROLES.USER:\r\n                return '/home';\r\n            case ROLES.ADMIN:\r\n                return '/admin/panel';\r\n            case ROLES.SUPER_ADMIN:\r\n                return '/super-admin/panel';\r\n            default:\r\n                return '/';\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Validate if role can access a specific portal\r\n     * @param {string} portal - Portal type ('user', 'admin', 'super-admin')\r\n     * @param {string} userRole - User's role\r\n     * @returns {boolean}\r\n     */\r\n    canAccessPortal(portal, userRole = null) {\r\n        const role = userRole || this.getRole();\r\n\r\n        switch (portal) {\r\n            case 'user':\r\n                // All roles can access user portal\r\n                return true;\r\n            case 'admin':\r\n                // Admin and Super Admin can access admin portal\r\n                return role === ROLES.ADMIN || role === ROLES.SUPER_ADMIN;\r\n            case 'super-admin':\r\n                // Only Super Admin can access super admin portal\r\n                return role === ROLES.SUPER_ADMIN;\r\n            default:\r\n                return false;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Get role display name\r\n     * @param {string} role - Role constant\r\n     * @returns {string}\r\n     */\r\n    getRoleDisplayName(role = null) {\r\n        const userRole = role || this.getRole();\r\n\r\n        switch (userRole) {\r\n            case ROLES.USER:\r\n                return 'User';\r\n            case ROLES.ADMIN:\r\n                return 'Administrator';\r\n            case ROLES.SUPER_ADMIN:\r\n                return 'Super Administrator';\r\n            default:\r\n                return 'Guest';\r\n        }\r\n    }\r\n}\r\n\r\n// Export singleton instance\r\nconst authService = new AuthService();\r\nexport { authService, ROLES };\r\nexport default authService;\r\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\New folder\\BusTicketFrontEnd\\src\\services\\bus.service.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\New folder\\BusTicketFrontEnd\\src\\services\\qfx.service.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\New folder\\BusTicketFrontEnd\\src\\utils\\logger.js","messages":[{"ruleId":"no-unused-vars","severity":1,"message":"'data' is assigned a value but never used.","line":53,"column":26,"nodeType":"Identifier","messageId":"unusedVar","endLine":53,"endColumn":30},{"ruleId":"no-unused-vars","severity":1,"message":"'data' is assigned a value but never used.","line":65,"column":27,"nodeType":"Identifier","messageId":"unusedVar","endLine":65,"endColumn":31},{"ruleId":"no-unused-vars","severity":1,"message":"'data' is assigned a value but never used.","line":78,"column":36,"nodeType":"Identifier","messageId":"unusedVar","endLine":78,"endColumn":40},{"ruleId":"no-unused-vars","severity":1,"message":"'data' is assigned a value but never used.","line":91,"column":37,"nodeType":"Identifier","messageId":"unusedVar","endLine":91,"endColumn":41},{"ruleId":"no-unused-vars","severity":1,"message":"'message' is defined but never used. Allowed unused args must match /^_/u.","line":112,"column":32,"nodeType":"Identifier","messageId":"unusedVar","endLine":112,"endColumn":39},{"ruleId":"no-unused-vars","severity":1,"message":"'error' is defined but never used. Allowed unused args must match /^_/u.","line":112,"column":41,"nodeType":"Identifier","messageId":"unusedVar","endLine":112,"endColumn":46},{"ruleId":"no-unused-vars","severity":1,"message":"'metric' is defined but never used. Allowed unused args must match /^_/u.","line":145,"column":24,"nodeType":"Identifier","messageId":"unusedVar","endLine":145,"endColumn":30},{"ruleId":"no-unused-vars","severity":1,"message":"'value' is defined but never used. Allowed unused args must match /^_/u.","line":145,"column":32,"nodeType":"Identifier","messageId":"unusedVar","endLine":145,"endColumn":37}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * Centralized Logging Utility\r\n * Environment-aware logging with production safety\r\n */\r\n\r\nconst isDevelopment = process.env.NODE_ENV === 'development';\r\nconst isProduction = process.env.NODE_ENV === 'production';\r\n\r\n/**\r\n * Log levels\r\n */\r\nconst LogLevel = {\r\n    ERROR: 'error',\r\n    WARN: 'warn',\r\n    INFO: 'info',\r\n    DEBUG: 'debug'\r\n};\r\n\r\n/**\r\n * Centralized logger class\r\n */\r\nclass Logger {\r\n    /**\r\n     * Log error message\r\n     * @param {string} message - Error message\r\n     * @param {any} data - Additional data\r\n     */\r\n    static error(message, data = null) {\r\n        console.error(`[ERROR] ${message}`, data || '');\r\n\r\n        // In production, send to error tracking service\r\n        if (isProduction && data instanceof Error) {\r\n            this.sendToErrorTracking(message, data);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Log warning message\r\n     * @param {string} message - Warning message\r\n     * @param {any} data - Additional data\r\n     */\r\n    static warn(message, data = null) {\r\n        if (isDevelopment || isProduction) {\r\n            console.warn(`[WARN] ${message}`, data || '');\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Log info message (development only)\r\n     * @param {string} message - Info message\r\n     * @param {any} data - Additional data\r\n     */\r\n    static info(message, data = null) {\r\n        if (isDevelopment) {\r\n            // Only log in development\r\n            return;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Log debug message (development only)\r\n     * @param {string} message - Debug message\r\n     * @param {any} data - Additional data\r\n     */\r\n    static debug(message, data = null) {\r\n        if (isDevelopment) {\r\n            // Only log in development\r\n            return;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Log API request\r\n     * @param {string} method - HTTP method\r\n     * @param {string} url - Request URL\r\n     * @param {any} data - Request data\r\n     */\r\n    static apiRequest(method, url, data = null) {\r\n        if (isDevelopment) {\r\n            // Development only\r\n            return;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Log API response\r\n     * @param {string} url - Request URL\r\n     * @param {number} status - Response status\r\n     * @param {any} data - Response data\r\n     */\r\n    static apiResponse(url, status, data = null) {\r\n        if (isDevelopment) {\r\n            // Development only - don't log in production\r\n            return;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Log API error\r\n     * @param {string} url - Request URL\r\n     * @param {Error} error - Error object\r\n     */\r\n    static apiError(url, error) {\r\n        this.error(`API Error: ${url}`, error);\r\n    }\r\n\r\n    /**\r\n     * Send error to tracking service (placeholder for future implementation)\r\n     * @param {string} message - Error message\r\n     * @param {Error} error - Error object\r\n     */\r\n    static sendToErrorTracking(message, error) {\r\n        // Placeholder for integrating with error tracking services like:\r\n        // - Sentry\r\n        // - LogRocket\r\n        // - Rollbar\r\n        // - Custom backend logging endpoint\r\n\r\n        // Example implementation:\r\n        // try {\r\n        //   await fetch('/api/log-error', {\r\n        //     method: 'POST',\r\n        //     headers: { 'Content-Type': 'application/json' },\r\n        //     body: JSON.stringify({\r\n        //       message,\r\n        //       error: {\r\n        //         name: error.name,\r\n        //         message: error.message,\r\n        //         stack: error.stack\r\n        //       },\r\n        //       timestamp: new Date().toISOString(),\r\n        //       userAgent: navigator.userAgent\r\n        //     })\r\n        //   });\r\n        // } catch (err) {\r\n        //   console.error('Failed to send error to tracking service:', err);\r\n        // }\r\n    }\r\n\r\n    /**\r\n     * Log performance metric\r\n     * @param {string} metric - Metric name\r\n     * @param {number} value - Metric value\r\n     */\r\n    static performance(metric, value) {\r\n        if (isDevelopment) {\r\n            // Development only\r\n            return;\r\n        }\r\n\r\n        // In production, you might want to send to analytics\r\n        if (isProduction && window.performance) {\r\n            // Example: Send to analytics service\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * Create a scoped logger for a specific module\r\n * @param {string} scope - Module or component name\r\n * @returns {Object} Scoped logger\r\n */\r\nexport const createLogger = (scope) => {\r\n    return {\r\n        error: (message, data) => Logger.error(`[${scope}] ${message}`, data),\r\n        warn: (message, data) => Logger.warn(`[${scope}] ${message}`, data),\r\n        info: (message, data) => Logger.info(`[${scope}] ${message}`, data),\r\n        debug: (message, data) => Logger.debug(`[${scope}] ${message}`, data)\r\n    };\r\n};\r\n\r\nexport { Logger, LogLevel };\r\nexport default Logger;\r\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\New folder\\BusTicketFrontEnd\\src\\utils\\securityUtils.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\New folder\\BusTicketFrontEnd\\src\\utils\\validators.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\New folder\\BusTicketFrontEnd\\src\\validations\\auth.validations.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]}]
